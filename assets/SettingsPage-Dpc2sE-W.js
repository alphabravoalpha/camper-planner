import{c as j,f as b,d as N,u as v,w,j as e}from"./index-CZmNdPfp.js";import{a as n,L as d}from"./react-vendor-BKsxK57A.js";import{A as k}from"./arrow-left-CEAOOZDa.js";import{D as S}from"./download-B6R79zqs.js";import{T as C}from"./trash-2-BNCWXB08.js";import{S as A}from"./shield-XSbOzj3n.js";import"./state-vendor-E9RzGJqF.js";const D=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],T=j("database",D),V=()=>{const[m,i]=n.useState(!1),{addNotification:s}=b(),{profile:p,clearProfile:o}=N(),{waypoints:h,clearRoute:c}=v(),u=w(t=>t.savedTrips),g=n.useCallback(()=>{let t=0;for(const a in localStorage)Object.prototype.hasOwnProperty.call(localStorage,a)&&(t+=(localStorage[a].length+a.length)*2);return(t/1024).toFixed(1)},[]),f=n.useCallback(()=>{const t={};for(const r in localStorage)if(Object.prototype.hasOwnProperty.call(localStorage,r))try{t[r]=JSON.parse(localStorage[r])}catch{t[r]=localStorage[r]}const a=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),x=URL.createObjectURL(a),l=document.createElement("a");l.href=x,l.download=`camper-planner-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(x),s({type:"success",message:"All data exported successfully"})},[s]),y=n.useCallback(()=>{try{o&&o(),c&&c(),localStorage.clear(),i(!1),s({type:"success",message:"All data cleared. Reload to reset the app."})}catch{s({type:"error",message:"Failed to clear data. Try clearing browser data manually."})}},[o,c,s]);return e.jsxs("div",{className:"min-h-screen bg-neutral-50 animate-fade-in",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary-700 to-primary-900 text-white",children:[e.jsx("img",{src:"/images/hero-settings.jpg",alt:"",className:"absolute inset-0 w-full h-full object-cover opacity-20 mix-blend-overlay",loading:"lazy"}),e.jsx("div",{className:"relative max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-10 sm:py-12",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(d,{to:"/",className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/10 transition-colors",children:e.jsx(k,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-display font-bold tracking-tight",children:"Settings"}),e.jsx("p",{className:"text-primary-200 text-sm mt-1",children:"Manage your data, preferences, and privacy"})]})]})})]}),e.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(T,{className:"w-5 h-5 text-primary-600"}),e.jsx("h2",{className:"text-lg font-display font-semibold text-neutral-900",children:"Your Data"})]}),e.jsx("p",{className:"text-sm text-neutral-500 mb-4",children:"All your data is stored locally in your browser. Nothing is sent to any server."}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-xl font-bold text-primary-600",children:p?"✓":"—"}),e.jsx("div",{className:"text-xs text-neutral-500 mt-0.5",children:"Vehicle Profile"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-xl font-bold text-primary-600",children:h?.length||0}),e.jsx("div",{className:"text-xs text-neutral-500 mt-0.5",children:"Waypoints"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-xl font-bold text-primary-600",children:u?.length||0}),e.jsx("div",{className:"text-xs text-neutral-500 mt-0.5",children:"Saved Trips"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-xl font-bold text-primary-600",children:g()}),e.jsx("div",{className:"text-xs text-neutral-500 mt-0.5",children:"KB Used"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-6",children:[e.jsx("h2",{className:"text-lg font-display font-semibold text-neutral-900 mb-4",children:"Data Management"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 p-3 border border-neutral-200 rounded-lg text-sm font-medium text-neutral-700 hover:bg-neutral-50 transition-colors",children:[e.jsx(S,{className:"w-5 h-5 text-primary-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{children:"Export all data"}),e.jsx("div",{className:"text-xs text-neutral-400 font-normal",children:"Download a backup of all your trips, vehicle profile, and settings"})]})]}),m?e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-red-800 font-medium mb-3",children:"Are you sure? This will permanently delete all your data. Export a backup first if needed."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:y,className:"px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors",children:"Yes, clear everything"}),e.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg text-sm font-medium hover:bg-neutral-50 transition-colors",children:"Cancel"})]})]}):e.jsxs("button",{onClick:()=>i(!0),className:"w-full flex items-center gap-3 p-3 border border-red-200 rounded-lg text-sm font-medium text-red-700 hover:bg-red-50 transition-colors",children:[e.jsx(C,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{children:"Clear all data"}),e.jsx("div",{className:"text-xs text-red-400 font-normal",children:"Remove all saved trips, vehicle profile, and preferences"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(A,{className:"w-5 h-5 text-green-600"}),e.jsx("h2",{className:"text-lg font-display font-semibold text-neutral-900",children:"Privacy"})]}),e.jsxs("ul",{className:"space-y-2 text-sm text-neutral-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 flex-shrink-0 mt-1.5"}),"All data stored locally in your browser — never sent to any server"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 flex-shrink-0 mt-1.5"}),"No user accounts, no tracking cookies, no analytics"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 flex-shrink-0 mt-1.5"}),"Export or delete your data at any time"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 flex-shrink-0 mt-1.5"}),"Affiliate links are clearly labelled and optional"]})]}),e.jsxs("div",{className:"mt-4 flex gap-3",children:[e.jsx(d,{to:"/privacy",className:"text-sm text-primary-600 underline hover:text-primary-800",children:"Privacy Policy"}),e.jsx(d,{to:"/terms",className:"text-sm text-primary-600 underline hover:text-primary-800",children:"Terms of Use"})]})]})]})})]})};export{V as default};
