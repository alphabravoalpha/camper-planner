const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlannerPage-CarwcE0P.js","assets/react-vendor-DB9SfNWA.js","assets/map-vendor-D1_z6wB-.js","assets/calculator-zmzNsJTn.js","assets/settings-BGUKwwN0.js","assets/globe-Btzo7bbN.js","assets/tent-DaJATkrp.js","assets/state-vendor--7Lts539.js","assets/PlannerPage-CkBHbQju.css","assets/AboutPage-d1o1_P6B.js","assets/truck-Ba-KBRaV.js","assets/HelpPage-DFGwrBEr.js","assets/SettingsPage-qukowQ6w.js","assets/NotFoundPage-DAh1s8oq.js"])))=>i.map(i=>d[i]);
var Pt=Object.defineProperty;var Mt=(r,t,e)=>t in r?Pt(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var I=(r,t,e)=>Mt(r,typeof t!="symbol"?t+"":t,e);import{r as Tt,c as At,a as C,u as pt,L as je,R as ge,d as $t,e as Ht,O as _t}from"./react-vendor-DB9SfNWA.js";import{c as J}from"./state-vendor--7Lts539.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var ke={exports:{}},se={};var Ve;function Ft(){if(Ve)return se;Ve=1;var r=Tt(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,d){var h,g={},u=null,m=null;d!==void 0&&(u=""+d),l.key!==void 0&&(u=""+l.key),l.ref!==void 0&&(m=l.ref);for(h in l)n.call(l,h)&&!s.hasOwnProperty(h)&&(g[h]=l[h]);if(o&&o.defaultProps)for(h in l=o.defaultProps,l)g[h]===void 0&&(g[h]=l[h]);return{$$typeof:t,type:o,key:u,ref:m,props:g,_owner:i.current}}return se.Fragment=e,se.jsx=a,se.jsxs=a,se}var Be;function zt(){return Be||(Be=1,ke.exports=Ft()),ke.exports}var c=zt(),fe={},Ue;function Dt(){if(Ue)return fe;Ue=1;var r=At();return fe.createRoot=r.createRoot,fe.hydrateRoot=r.hydrateRoot,fe}var Wt=Dt();const Vt="modulepreload",Bt=function(r){return"/camper-planner/"+r},Ke={},me=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){let l=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=l(e.map(d=>{if(d=Bt(d),d in Ke)return;Ke[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const u=document.createElement("link");if(u.rel=h?"stylesheet":Vt,h||(u.as="script"),u.crossOrigin="",u.href=d,o&&u.setAttribute("nonce",o),document.head.appendChild(u),h)return new Promise((m,p)=>{u.addEventListener("load",m),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function Ut(){if(console&&console.warn){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const Ge={};function Me(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];typeof t[0]=="string"&&Ge[t[0]]||(typeof t[0]=="string"&&(Ge[t[0]]=new Date),Ut(...t))}const ft=(r,t)=>()=>{if(r.isInitialized)t();else{const e=()=>{setTimeout(()=>{r.off("initialized",e)},0),t()};r.on("initialized",e)}};function qe(r,t,e){r.loadNamespaces(t,ft(r,e))}function Je(r,t,e,n){typeof e=="string"&&(e=[e]),e.forEach(i=>{r.options.ns.indexOf(i)<0&&r.options.ns.push(i)}),r.loadLanguages(t,ft(r,n))}function Kt(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=t.languages[0],i=t.options?t.options.fallbackLng:!1,s=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const d=t.services.backendConnector.state[`${o}|${l}`];return d===-1||d===2};return e.bindI18n&&e.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,r)?!1:!!(t.hasResourceBundle(n,r)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(n,r)&&(!i||a(s,r)))}function Gt(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(Me("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(r,{lng:e.lng,precheck:(i,s)=>{if(e.bindI18n&&e.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,r))return!1}}):Kt(r,t,e)}const qt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Jt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Qt=r=>Jt[r],Yt=r=>r.replace(qt,Qt);let Te={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Yt};function Xt(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Te={...Te,...r}}function Zt(){return Te}let yt;function en(r){yt=r}function tn(){return yt}const nn={type:"3rdParty",init(r){Xt(r.options.react),en(r)}},rn=C.createContext();class sn{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const an=(r,t)=>{const e=C.useRef();return C.useEffect(()=>{e.current=r},[r,t]),e.current};function bt(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:e}=t,{i18n:n,defaultNS:i}=C.useContext(rn)||{},s=e||n||tn();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new sn),!s){Me("You will need to pass in an i18next instance by using initReactI18next");const w=(N,j)=>typeof j=="string"?j:j&&typeof j=="object"&&typeof j.defaultValue=="string"?j.defaultValue:Array.isArray(N)?N[N.length-1]:N,v=[w,{},!1];return v.t=w,v.i18n={},v.ready=!1,v}s.options.react&&s.options.react.wait!==void 0&&Me("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Zt(),...s.options.react,...t},{useSuspense:o,keyPrefix:l}=a;let d=i||s.options&&s.options.defaultNS;d=typeof d=="string"?[d]:d||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(d);const h=(s.isInitialized||s.initializedStoreOnce)&&d.every(w=>Gt(w,s,a));function g(){return s.getFixedT(t.lng||null,a.nsMode==="fallback"?d:d[0],l)}const[u,m]=C.useState(g);let p=d.join();t.lng&&(p=`${t.lng}${p}`);const f=an(p),y=C.useRef(!0);C.useEffect(()=>{const{bindI18n:w,bindI18nStore:v}=a;y.current=!0,!h&&!o&&(t.lng?Je(s,t.lng,d,()=>{y.current&&m(g)}):qe(s,d,()=>{y.current&&m(g)})),h&&f&&f!==p&&y.current&&m(g);function N(){y.current&&m(g)}return w&&s&&s.on(w,N),v&&s&&s.store.on(v,N),()=>{y.current=!1,w&&s&&w.split(" ").forEach(j=>s.off(j,N)),v&&s&&v.split(" ").forEach(j=>s.store.off(j,N))}},[s,p]);const x=C.useRef(!0);C.useEffect(()=>{y.current&&!x.current&&m(g),x.current=!1},[s,l]);const b=[u,s,h];if(b.t=u,b.i18n=s,b.ready=h,h||!h&&!o)return b;throw new Promise(w=>{t.lng?Je(s,t.lng,d,()=>w()):qe(s,d,()=>w())})}const on=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ln=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),Qe=r=>{const t=ln(r);return t.charAt(0).toUpperCase()+t.slice(1)},xt=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),cn=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var dn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const un=C.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>C.createElement("svg",{ref:l,...dn,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:xt("lucide",i),...!s&&!cn(o)&&{"aria-hidden":"true"},...o},[...a.map(([d,h])=>C.createElement(d,h)),...Array.isArray(s)?s:[s]]));const hn=(r,t)=>{const e=C.forwardRef(({className:n,...i},s)=>C.createElement(un,{ref:s,iconNode:t,className:xt(`lucide-${on(Qe(r))}`,`lucide-${r}`,n),...i}));return e.displayName=Qe(r),e};const gn=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Ye=hn("route",gn),Ae={routing:{endpoints:{openrouteservice:"https://api.openrouteservice.org/v2",osrm:"https://router.project-osrm.org"}},campsites:{sources:{overpass:"https://overpass-api.de/api/interpreter"}}};function wt(r){var t,e,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(t=0;t<i;t++)r[t]&&(e=wt(r[t]))&&(n&&(n+=" "),n+=e)}else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function mn(){for(var r,t,e=0,n="",i=arguments.length;e<i;e++)(r=arguments[e])&&(t=wt(r))&&(n&&(n+=" "),n+=t);return n}const De="-",pn=r=>{const t=yn(r),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:a=>{const o=a.split(De);return o[0]===""&&o.length!==1&&o.shift(),vt(o,t)||fn(a)},getConflictingClassGroupIds:(a,o)=>{const l=e[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},vt=(r,t)=>{if(r.length===0)return t.classGroupId;const e=r[0],n=t.nextPart.get(e),i=n?vt(r.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=r.join(De);return t.validators.find(({validator:a})=>a(s))?.classGroupId},Xe=/^\[(.+)\]$/,fn=r=>{if(Xe.test(r)){const t=Xe.exec(r)[1],e=t?.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},yn=r=>{const{theme:t,prefix:e}=r,n={nextPart:new Map,validators:[]};return xn(Object.entries(r.classGroups),e).forEach(([s,a])=>{$e(a,n,s,t)}),n},$e=(r,t,e,n)=>{r.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Ze(t,i);s.classGroupId=e;return}if(typeof i=="function"){if(bn(i)){$e(i(n),t,e,n);return}t.validators.push({validator:i,classGroupId:e});return}Object.entries(i).forEach(([s,a])=>{$e(a,Ze(t,s),e,n)})})},Ze=(r,t)=>{let e=r;return t.split(De).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},bn=r=>r.isThemeGetter,xn=(r,t)=>t?r.map(([e,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[e,i]}):r,wn=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const i=(s,a)=>{e.set(s,a),t++,t>r&&(t=0,n=e,e=new Map)};return{get(s){let a=e.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){e.has(s)?e.set(s,a):i(s,a)}}},St="!",vn=r=>{const{separator:t,experimentalParseClassName:e}=r,n=t.length===1,i=t[0],s=t.length,a=o=>{const l=[];let d=0,h=0,g;for(let y=0;y<o.length;y++){let x=o[y];if(d===0){if(x===i&&(n||o.slice(y,y+s)===t)){l.push(o.slice(h,y)),h=y+s;continue}if(x==="/"){g=y;continue}}x==="["?d++:x==="]"&&d--}const u=l.length===0?o:o.substring(h),m=u.startsWith(St),p=m?u.substring(1):u,f=g&&g>h?g-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:f}};return e?o=>e({className:o,parseClassName:a}):a},Sn=r=>{if(r.length<=1)return r;const t=[];let e=[];return r.forEach(n=>{n[0]==="["?(t.push(...e.sort(),n),e=[]):e.push(n)}),t.push(...e.sort()),t},Cn=r=>({cache:wn(r.cacheSize),parseClassName:vn(r),...pn(r)}),Ln=/\s+/,Nn=(r,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],a=r.trim().split(Ln);let o="";for(let l=a.length-1;l>=0;l-=1){const d=a[l],{modifiers:h,hasImportantModifier:g,baseClassName:u,maybePostfixModifierPosition:m}=e(d);let p=!!m,f=n(p?u.substring(0,m):u);if(!f){if(!p){o=d+(o.length>0?" "+o:o);continue}if(f=n(u),!f){o=d+(o.length>0?" "+o:o);continue}p=!1}const y=Sn(h).join(":"),x=g?y+St:y,b=x+f;if(s.includes(b))continue;s.push(b);const w=i(f,p);for(let v=0;v<w.length;++v){const N=w[v];s.push(x+N)}o=d+(o.length>0?" "+o:o)}return o};function jn(){let r=0,t,e,n="";for(;r<arguments.length;)(t=arguments[r++])&&(e=Ct(t))&&(n&&(n+=" "),n+=e);return n}const Ct=r=>{if(typeof r=="string")return r;let t,e="";for(let n=0;n<r.length;n++)r[n]&&(t=Ct(r[n]))&&(e&&(e+=" "),e+=t);return e};function kn(r,...t){let e,n,i,s=a;function a(l){const d=t.reduce((h,g)=>g(h),r());return e=Cn(d),n=e.cache.get,i=e.cache.set,s=o,o(l)}function o(l){const d=n(l);if(d)return d;const h=Nn(l,e);return i(l,h),h}return function(){return s(jn.apply(null,arguments))}}const E=r=>{const t=e=>e[r]||[];return t.isThemeGetter=!0,t},Lt=/^\[(?:([a-z-]+):)?(.+)\]$/i,Rn=/^\d+\/\d+$/,En=new Set(["px","full","screen"]),On=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,In=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Mn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,W=r=>te(r)||En.has(r)||Rn.test(r),U=r=>ne(r,"length",Wn),te=r=>!!r&&!Number.isNaN(Number(r)),Re=r=>ne(r,"number",te),ae=r=>!!r&&Number.isInteger(Number(r)),An=r=>r.endsWith("%")&&te(r.slice(0,-1)),L=r=>Lt.test(r),K=r=>On.test(r),$n=new Set(["length","size","percentage"]),Hn=r=>ne(r,$n,Nt),_n=r=>ne(r,"position",Nt),Fn=new Set(["image","url"]),zn=r=>ne(r,Fn,Bn),Dn=r=>ne(r,"",Vn),oe=()=>!0,ne=(r,t,e)=>{const n=Lt.exec(r);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):e(n[2]):!1},Wn=r=>In.test(r)&&!Pn.test(r),Nt=()=>!1,Vn=r=>Mn.test(r),Bn=r=>Tn.test(r),Un=()=>{const r=E("colors"),t=E("spacing"),e=E("blur"),n=E("brightness"),i=E("borderColor"),s=E("borderRadius"),a=E("borderSpacing"),o=E("borderWidth"),l=E("contrast"),d=E("grayscale"),h=E("hueRotate"),g=E("invert"),u=E("gap"),m=E("gradientColorStops"),p=E("gradientColorStopPositions"),f=E("inset"),y=E("margin"),x=E("opacity"),b=E("padding"),w=E("saturate"),v=E("scale"),N=E("sepia"),j=E("skew"),O=E("space"),T=E("translate"),G=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",L,t],R=()=>[L,t],pe=()=>["",W,U],_=()=>["auto",te,L],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",L],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[te,L];return{cacheSize:500,separator:":",theme:{colors:[oe],spacing:[W,U],blur:["none","",K,L],brightness:$(),borderColor:[r],borderRadius:["none","","full",K,L],borderSpacing:R(),borderWidth:pe(),contrast:$(),grayscale:A(),hueRotate:$(),invert:A(),gap:R(),gradientColorStops:[r],gradientColorStopPositions:[An,U],inset:z(),margin:z(),opacity:$(),padding:R(),saturate:$(),scale:$(),sepia:A(),skew:$(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",L]}],container:["container"],columns:[{columns:[K]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),L]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ae,L]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",L]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",ae,L]}],"grid-cols":[{"grid-cols":[oe]}],"col-start-end":[{col:["auto",{span:["full",ae,L]},L]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[oe]}],"row-start-end":[{row:["auto",{span:[ae,L]},L]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",L]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",L]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",L,t]}],"min-w":[{"min-w":[L,t,"min","max","fit"]}],"max-w":[{"max-w":[L,t,"none","full","min","max","fit","prose",{screen:[K]},K]}],h:[{h:[L,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[L,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[L,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[L,t,"auto","min","max","fit"]}],"font-size":[{text:["base",K,U]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Re]}],"font-family":[{font:[oe]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",L]}],"line-clamp":[{"line-clamp":["none",te,Re]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",W,L]}],"list-image":[{"list-image":["none",L]}],"list-style-type":[{list:["none","disc","decimal",L]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",W,U]}],"underline-offset":[{"underline-offset":["auto",W,L]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",L]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",L]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),_n]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Hn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zn]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[W,L]}],"outline-w":[{outline:[W,U]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[W,U]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",K,Dn]}],"shadow-color":[{shadow:[oe]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",K,L]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[g]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",L]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",L]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",L]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[ae,L]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",L]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",L]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",L]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[W,U,Re]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Kn=kn(Un);function k(...r){return Kn(mn(r))}const xe={BASE_URL:"/camper-planner/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ACSI_AFFILIATE_CODE:"your_acsi_affiliate_code",VITE_API_TIMEOUT:"10000",VITE_APP_ENV:"development",VITE_BOOKING_AFFILIATE_ID:"your_booking_affiliate_id",VITE_ORS_API_KEY:"5b3ce3597851110001cf6248a96ac2c424b94ce6b8b4be2a3074bdf3",VITE_PITCHUP_AFFILIATE_ID:"your_pitchup_affiliate_id"},He=new Map,ye=r=>{const t=He.get(r);return t?Object.fromEntries(Object.entries(t.stores).map(([e,n])=>[e,n.getState()])):{}},Gn=(r,t,e)=>{if(r===void 0)return{type:"untracked",connection:t.connect(e)};const n=He.get(e.name);if(n)return{type:"tracked",store:r,...n};const i={connection:t.connect(e),stores:{}};return He.set(e.name,i),{type:"tracked",store:r,...i}},qn=(r,t={})=>(e,n,i)=>{const{enabled:s,anonymousActionType:a,store:o,...l}=t;let d;try{d=(s??(xe?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return(xe?"production":void 0)!=="production"&&s&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),r(e,n,i);const{connection:h,...g}=Gn(o,d,l);let u=!0;i.setState=(f,y,x)=>{const b=e(f,y);if(!u)return b;const w=x===void 0?{type:a||"anonymous"}:typeof x=="string"?{type:x}:x;return o===void 0?(h?.send(w,n()),b):(h?.send({...w,type:`${o}/${w.type}`},{...ye(l.name),[o]:i.getState()}),b)};const m=(...f)=>{const y=u;u=!1,e(...f),u=y},p=r(i.setState,n,i);if(g.type==="untracked"?h?.init(p):(g.stores[g.store]=i,h?.init(Object.fromEntries(Object.entries(g.stores).map(([f,y])=>[f,f===g.store?p:y.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let f=!1;const y=i.dispatch;i.dispatch=(...x)=>{(xe?"production":void 0)!=="production"&&x[0].type==="__setState"&&!f&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),f=!0),y(...x)}}return h.subscribe(f=>{var y;switch(f.type){case"ACTION":if(typeof f.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Ee(f.payload,x=>{if(x.type==="__setState"){if(o===void 0){m(x.state);return}Object.keys(x.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const b=x.state[o];if(b==null)return;JSON.stringify(i.getState())!==JSON.stringify(b)&&m(b);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(x)});case"DISPATCH":switch(f.payload.type){case"RESET":return m(p),o===void 0?h?.init(i.getState()):h?.init(ye(l.name));case"COMMIT":if(o===void 0){h?.init(i.getState());return}return h?.init(ye(l.name));case"ROLLBACK":return Ee(f.state,x=>{if(o===void 0){m(x),h?.init(i.getState());return}m(x[o]),h?.init(ye(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Ee(f.state,x=>{if(o===void 0){m(x);return}JSON.stringify(i.getState())!==JSON.stringify(x[o])&&m(x[o])});case"IMPORT_STATE":{const{nextLiftedState:x}=f.payload,b=(y=x.computedStates.slice(-1)[0])==null?void 0:y.state;if(!b)return;m(o===void 0?b:b[o]),h?.send(null,x);return}case"PAUSE_RECORDING":return u=!u}return}}),p},ie=qn,Ee=(r,t)=>{let e;try{e=JSON.parse(r)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}e!==void 0&&t(e)};function Jn(r,t){let e;try{e=r()}catch{return}return{getItem:i=>{var s;const a=l=>l===null?null:JSON.parse(l,void 0),o=(s=e.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>e.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>e.removeItem(i)}}const ue=r=>t=>{try{const e=r(t);return e instanceof Promise?e:{then(n){return ue(n)(e)},catch(n){return this}}}catch(e){return{then(n){return this},catch(n){return ue(n)(e)}}}},Qn=(r,t)=>(e,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,x)=>({...x,...y}),...t},a=!1;const o=new Set,l=new Set;let d;try{d=s.getStorage()}catch{}if(!d)return r((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),e(...y)},n,i);const h=ue(s.serialize),g=()=>{const y=s.partialize({...n()});let x;const b=h({state:y,version:s.version}).then(w=>d.setItem(s.name,w)).catch(w=>{x=w});if(x)throw x;return b},u=i.setState;i.setState=(y,x)=>{u(y,x),g()};const m=r((...y)=>{e(...y),g()},n,i);let p;const f=()=>{var y;if(!d)return;a=!1,o.forEach(b=>b(n()));const x=((y=s.onRehydrateStorage)==null?void 0:y.call(s,n()))||void 0;return ue(d.getItem.bind(d))(s.name).then(b=>{if(b)return s.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var w;return p=s.merge(b,(w=n())!=null?w:m),e(p,!0),g()}).then(()=>{x?.(p,void 0),a=!0,l.forEach(b=>b(p))}).catch(b=>{x?.(void 0,b)})};return i.persist={setOptions:y=>{s={...s,...y},y.getStorage&&(d=y.getStorage())},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>f(),hasHydrated:()=>a,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},f(),p||m},Yn=(r,t)=>(e,n,i)=>{let s={storage:Jn(()=>localStorage),partialize:f=>f,version:0,merge:(f,y)=>({...y,...f}),...t},a=!1;const o=new Set,l=new Set;let d=s.storage;if(!d)return r((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),e(...f)},n,i);const h=()=>{const f=s.partialize({...n()});return d.setItem(s.name,{state:f,version:s.version})},g=i.setState;i.setState=(f,y)=>{g(f,y),h()};const u=r((...f)=>{e(...f),h()},n,i);i.getInitialState=()=>u;let m;const p=()=>{var f,y;if(!d)return;a=!1,o.forEach(b=>{var w;return b((w=n())!=null?w:u)});const x=((y=s.onRehydrateStorage)==null?void 0:y.call(s,(f=n())!=null?f:u))||void 0;return ue(d.getItem.bind(d))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return[!0,s.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var w;const[v,N]=b;if(m=s.merge(N,(w=n())!=null?w:u),e(m,!0),v)return h()}).then(()=>{x?.(m,void 0),m=n(),a=!0,l.forEach(b=>b(m))}).catch(b=>{x?.(void 0,b)})};return i.persist={setOptions:f=>{s={...s,...f},f.storage&&(d=f.storage)},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:f=>(o.add(f),()=>{o.delete(f)}),onFinishHydration:f=>(l.add(f),()=>{l.delete(f)})},s.skipHydration||p(),m||u},Xn=(r,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((xe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Qn(r,t)):Yn(r,t),Le=Xn;class jt{constructor(t,e){I(this,"config");I(this,"cache");I(this,"rateLimitState");I(this,"rateLimit");this.config=t,this.cache=new Map,this.rateLimitState=new Map,this.rateLimit=e,this.startCacheCleanup()}async request(t){this.rateLimit.enabled&&await this.checkRateLimit();const e=this.generateCacheKey(t);if(this.config.cacheEnabled&&!t.skipCache){const i=this.getFromCache(e);if(i)return i}const n=await this.makeHttpRequest(t);return this.config.cacheEnabled&&!t.skipCache&&this.setCache(e,n),n}async makeHttpRequest(t){const{method:e,endpoint:n,params:i,headers:s={},body:a}=t,o=t.customTimeout||this.config.timeout;let l=`${this.config.baseUrl}${n}`;if(e==="GET"&&i){const u=new URLSearchParams;Object.entries(i).forEach(([m,p])=>{p!=null&&u.append(m,String(p))}),u.toString()&&(l+=`?${u.toString()}`)}const d={"Content-Type":"application/json",...s};this.config.userAgent&&(d["User-Agent"]=this.config.userAgent),this.config.apiKey&&(d.Authorization=`Bearer ${this.config.apiKey}`);const h={method:e,headers:d,signal:AbortSignal.timeout(o)};if(e!=="GET"&&a){const u=d["Content-Type"]||d["content-type"];u&&u.includes("text/plain")?h.body=a:h.body=JSON.stringify(a)}let g;for(let u=0;u<=this.config.retries;u++)try{const m=await fetch(l,h);if(!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const p=m.headers.get("content-type");return p&&p.includes("application/json")?await m.json():await m.text()}catch(m){if(g=m,m instanceof Error){if(m.name==="AbortError")throw new Error(`Request timeout after ${o}ms`);if(m.message.includes("HTTP 4"))throw m}if(u<this.config.retries){const p=Math.pow(2,u)*1e3;await new Promise(f=>setTimeout(f,p))}}throw g}classifyError(t,e){const n=t.message.toLowerCase();if(t.name==="AbortError"||n.includes("timeout"))return{type:"timeout",message:`Request timed out${e?` while ${e}`:""}`,originalError:t,suggestion:"The service is taking too long to respond. Please try again or zoom in to search a smaller area.",retryable:!0};if(n.includes("failed to fetch")||n.includes("network"))return{type:"network",message:`Network connection failed${e?` while ${e}`:""}`,originalError:t,suggestion:"Please check your internet connection and try again.",retryable:!0};if(n.includes("rate limit"))return{type:"rate_limit",message:`Too many requests${e?` while ${e}`:""}`,originalError:t,suggestion:t.message.includes("wait")?t.message:"Please wait a moment before trying again.",retryable:!0};if(n.includes("http 5"))return{type:"server",message:`Service temporarily unavailable${e?` while ${e}`:""}`,originalError:t,suggestion:"The service is experiencing issues. Please try again in a few moments.",retryable:!0};if(n.includes("http 4")){const i=n.includes("404");return n.includes("429")?{type:"rate_limit",message:`Too many requests${e?` while ${e}`:""}`,originalError:t,suggestion:"Please wait a moment before searching again.",retryable:!0}:{type:"client",message:i?`No data found${e?` while ${e}`:""}`:`Request failed${e?` while ${e}`:""}`,originalError:t,suggestion:i?"Try searching a different location or zooming out to see more results.":"Please check your request and try again.",retryable:!1}}return{type:"unknown",message:`Something went wrong${e?` while ${e}`:""}`,originalError:t,suggestion:"Please try again. If the problem persists, try refreshing the page.",retryable:!0}}async checkRateLimit(){const t=Date.now(),e="default",n=this.rateLimitState.get(e)||{count:0,resetTime:t+this.rateLimit.windowMs};if(t>n.resetTime&&(n.count=0,n.resetTime=t+this.rateLimit.windowMs),n.count>=this.rateLimit.requests){const i=n.resetTime-t;throw new Error(`Rate limit exceeded. Please wait ${Math.ceil(i/1e3)} seconds.`)}n.count++,this.rateLimitState.set(e,n)}generateCacheKey(t){const{method:e,endpoint:n,params:i,body:s}=t,a=[e,n];return i&&a.push(JSON.stringify(i)),s&&a.push(JSON.stringify(s)),a.join("|")}getFromCache(t){const e=this.cache.get(t);return e?Date.now()>e.timestamp+e.ttl?(this.cache.delete(t),null):e.data:null}setCache(t,e,n){const i=n||this.config.cacheTtl,s={data:e,timestamp:Date.now(),ttl:i};this.cache.set(t,s)}clearCache(){this.cache.clear()}getCacheStats(){const t=Date.now(),e=Array.from(this.cache.entries()).map(([n,i])=>({key:n,size:JSON.stringify(i.data).length,age:t-i.timestamp}));return{size:this.cache.size,entries:e}}startCacheCleanup(){setInterval(()=>{const t=Date.now();for(const[e,n]of this.cache.entries())t>n.timestamp+n.ttl&&this.cache.delete(e)},6e4)}getServiceInfo(){return{name:this.constructor.name,baseUrl:this.config.baseUrl,cacheSize:this.cache.size}}}class H extends Error{constructor(e,n,i,s=!0){super(e);I(this,"code");I(this,"service");I(this,"recoverable");this.name="RoutingError",this.code=n,this.service=i,this.recoverable=s}}class kt extends jt{constructor(){const e={baseUrl:Ae.routing.endpoints.openrouteservice,timeout:15e3,retries:2,cacheEnabled:!0,cacheTtl:36e5,userAgent:"EuropeanCamperPlanner/1.0",apiKey:"5b3ce3597851110001cf6248a96ac2c424b94ce6b8b4be2a3074bdf3"},n={requests:2e3,windowMs:1440*60*1e3,enabled:!0};super(e,n);I(this,"fallbackService");this.initializeFallbackService()}async calculateRoute(e){try{this.validateRouteRequest(e);const n=e.vehicleProfile?this.validateVehicleRestrictions(e.vehicleProfile):null;if(n?.cannotAccommodate)return{id:`restriction_blocked_${Date.now()}`,status:"error",routes:[],metadata:{service:"openrouteservice",profile:this.determineProfile(e.vehicleProfile,e.options?.profile),timestamp:Date.now(),query:e,attribution:"Vehicle restriction validation"},errors:["Vehicle dimensions exceed EU road limits"],restrictions:n};const i={...e,options:{...e.options,alternative_routes:!0,elevation:!0,geometry:!0,instructions:!0}},s=await this.calculateRouteWithORS(i);return n&&(s.restrictions=n,s.warnings=[...s.warnings||[],...n.suggestedActions]),s}catch(n){if(n instanceof H&&!n.recoverable)throw n;console.warn("OpenRouteService failed, trying fallback:",n);try{const i=await this.calculateRouteWithOSRM(e),s=["Primary routing service unavailable, using fallback"];return e.vehicleProfile&&(s.push("⚠️ Vehicle restrictions not supported by fallback service"),s.push("Route may include roads unsuitable for your vehicle")),{...i,warnings:s}}catch(i){throw console.error("Fallback routing service also failed:",i),new H("All routing services are currently unavailable","SERVICE_UNAVAILABLE","all",!1)}}}async calculateRouteWithORS(e){const{waypoints:n,vehicleProfile:i,options:s={}}=e,a=n.map(g=>[g.lng,g.lat]),o=this.determineProfile(i,s.profile),l={coordinates:a,format:"geojson",geometry:s.geometry!==!1,instructions:s.instructions!==!1,elevation:s.elevation||!1};i&&(l.height=i.height,l.width=i.width,l.weight=i.weight,l.length=i.length,l.axleload=Math.round(i.weight/2*10)/10,l.hazmat=!1,l.surface_type="any"),s.alternative_routes!==!1&&(l.alternative_routes={target_count:2,weight_factor:1.4,share_factor:.6}),s.avoidFeatures&&s.avoidFeatures.length>0&&(l.avoid_features=s.avoidFeatures);const d={method:"POST",endpoint:`/directions/${o}/geojson`,body:l,headers:{Accept:"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8"}},h=await this.request(d);return this.transformORSResponse(h,e)}async calculateRouteWithOSRM(e){const{waypoints:n}=e,i=n.map(d=>`${d.lng},${d.lat}`).join(";"),s={overview:"full",geometries:"geojson",steps:"true",annotations:"true"},a={method:"GET",endpoint:`/route/v1/driving/${i}`,params:s},o={baseUrl:Ae.routing.endpoints.osrm,timeout:1e4,retries:1,cacheEnabled:!0,cacheTtl:18e5,userAgent:"EuropeanCamperPlanner/1.0"},l=this.config;this.config=o;try{const d=await this.request(a);return this.transformOSRMResponse(d,e)}finally{this.config=l}}validateVehicleRestrictions(e){const n={violatedDimensions:[],restrictedSegments:[],cannotAccommodate:!1,suggestedActions:[]},i={height:4,width:2.55,weight:40,length:18.75};return e.height>i.height&&(n.violatedDimensions.push("height"),n.suggestedActions.push(`Vehicle height ${e.height}m exceeds EU limit of ${i.height}m`)),e.width>i.width&&(n.violatedDimensions.push("width"),n.suggestedActions.push(`Vehicle width ${e.width}m exceeds EU limit of ${i.width}m`)),e.weight>i.weight&&(n.violatedDimensions.push("weight"),n.suggestedActions.push(`Vehicle weight ${e.weight}t exceeds EU limit of ${i.weight}t`)),e.length>i.length&&(n.violatedDimensions.push("length"),n.suggestedActions.push(`Vehicle length ${e.length}m exceeds EU limit of ${i.length}m`)),n.cannotAccommodate=n.violatedDimensions.length>0,n.violatedDimensions.length>0?n:null}validateRouteRequest(e){const{waypoints:n,vehicleProfile:i}=e;if(!n||n.length<2)throw new H("At least 2 waypoints are required","INVALID_WAYPOINTS","validation",!1);if(n.length>50)throw new H("Maximum 50 waypoints allowed","TOO_MANY_WAYPOINTS","validation",!1);for(const s of n)if(s.lat<-90||s.lat>90||s.lng<-180||s.lng>180)throw new H(`Invalid coordinates: ${s.lat}, ${s.lng}`,"INVALID_COORDINATES","validation",!1);if(i){if(i.height<=0||i.height>4.5)throw new H("Vehicle height must be between 0 and 4.5 meters","INVALID_VEHICLE","validation",!1);if(i.width<=0||i.width>3)throw new H("Vehicle width must be between 0 and 3.0 meters","INVALID_VEHICLE","validation",!1);if(i.weight<=0||i.weight>40)throw new H("Vehicle weight must be between 0 and 40 tonnes","INVALID_VEHICLE","validation",!1);if(i.length<=0||i.length>20)throw new H("Vehicle length must be between 0 and 20 meters","INVALID_VEHICLE","validation",!1)}}determineProfile(e,n){return n||(e&&(e.height>2.5||e.width>2.2||e.weight>3.5||e.length>7)?"driving-hgv":"driving-car")}transformORSResponse(e,n){const i=e.features||[];if(i.length===0)throw new H("No route found","NO_ROUTE","openrouteservice",!0);const s=i[0],a={geometry:s.geometry,summary:{distance:s.properties.summary.distance,duration:s.properties.summary.duration},segments:s.properties.segments||[],waypoints:s.properties.way_points||[]},o=i.slice(1).map(d=>({geometry:d.geometry,summary:{distance:d.properties.summary.distance,duration:d.properties.summary.duration},segments:d.properties.segments||[],waypoints:d.properties.way_points||[]})),l=[];if(n.vehicleProfile&&a.summary.distance===0&&l.push("Route calculation returned empty result - vehicle may not fit on available roads"),o.length>0){const d=a.summary.distance;Math.min(...o.map(g=>g.summary.distance))>d*1.5&&l.push("Alternative routes are significantly longer - possible vehicle restrictions on main route")}return{id:`ors_${Date.now()}`,status:"success",routes:[a],alternativeRoutes:o,metadata:{service:"openrouteservice",profile:this.determineProfile(n.vehicleProfile,n.options?.profile),timestamp:Date.now(),query:n,attribution:"openrouteservice.org | OpenStreetMap contributors"},warnings:l.length>0?l:void 0}}transformOSRMResponse(e,n){const i=e.routes[0];if(!i)throw new H("No route found","NO_ROUTE","osrm",!0);const s={geometry:i.geometry,summary:{distance:i.distance,duration:i.duration},segments:i.legs||[],waypoints:e.waypoints?.map((a,o)=>o)||[]};return{id:`osrm_${Date.now()}`,status:"success",routes:[s],metadata:{service:"osrm",profile:"driving",timestamp:Date.now(),query:n,attribution:"OpenStreetMap contributors | OSRM"},warnings:["Using fallback routing service (vehicle restrictions not supported)"]}}initializeFallbackService(){this.fallbackService=void 0}async healthCheck(){try{const e={method:"GET",endpoint:"/health",skipCache:!0,customTimeout:5e3};return await this.request(e),!0}catch(e){return console.warn("OpenRouteService health check failed:",e),!1}}getServiceStatus(){const e=this.rateLimitState.get("default")||{count:0,resetTime:Date.now()};return{primary:{name:"OpenRouteService",healthy:!0,cacheSize:this.cache.size},fallback:{name:"OSRM",available:!0},rateLimitInfo:{remaining:Math.max(0,this.rateLimit.requests-e.count),resetTime:e.resetTime}}}}const sr=new kt;class Zn{constructor(){I(this,"dbName","CampsiteCache");I(this,"version",1);I(this,"storeName","campsites");I(this,"db",null)}async initialize(){return new Promise((t,e)=>{const n=indexedDB.open(this.dbName,this.version);n.onerror=()=>e(new Error("Failed to open IndexedDB")),n.onsuccess=()=>{this.db=n.result,t()},n.onupgradeneeded=i=>{const s=i.target.result;if(!s.objectStoreNames.contains(this.storeName)){const a=s.createObjectStore(this.storeName,{keyPath:"id"});a.createIndex("lat","lat",{unique:!1}),a.createIndex("lng","lng",{unique:!1}),a.createIndex("type","type",{unique:!1}),a.createIndex("last_updated","last_updated",{unique:!1}),a.createIndex("bounds",["lat","lng"],{unique:!1})}s.objectStoreNames.contains("cache_metadata")||s.createObjectStore("cache_metadata",{keyPath:"key"}).createIndex("timestamp","timestamp",{unique:!1})}})}async getCampsitesInBounds(t){return this.db||await this.initialize(),new Promise((e,n)=>{const s=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName),a=[],o=s.openCursor();o.onsuccess=l=>{const d=l.target.result;if(d){const h=d.value;h.lat>=t.south&&h.lat<=t.north&&h.lng>=t.west&&h.lng<=t.east&&a.push(h),d.continue()}else e(a)},o.onerror=()=>n(new Error("Failed to query campsites from cache"))})}async storeCampsites(t){return this.db||await this.initialize(),new Promise((e,n)=>{const s=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName);let a=0;const o=t.length;if(o===0){e();return}for(const l of t){const d=s.put(l);d.onsuccess=()=>{a++,a===o&&e()},d.onerror=()=>n(new Error("Failed to store campsite in cache"))}})}async getCacheMetadata(t){return this.db||await this.initialize(),new Promise((e,n)=>{const a=this.db.transaction(["cache_metadata"],"readonly").objectStore("cache_metadata").get(t);a.onsuccess=()=>e(a.result?.data),a.onerror=()=>n(new Error("Failed to get cache metadata"))})}async setCacheMetadata(t,e){return this.db||await this.initialize(),new Promise((n,i)=>{const o=this.db.transaction(["cache_metadata"],"readwrite").objectStore("cache_metadata").put({key:t,data:e,timestamp:Date.now()});o.onsuccess=()=>n(),o.onerror=()=>i(new Error("Failed to set cache metadata"))})}async clearExpiredCache(t=1440*60*1e3){this.db||await this.initialize();const e=Date.now()-t;return new Promise((n,i)=>{const o=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).index("last_updated"),l=IDBKeyRange.upperBound(e),d=o.openCursor(l);d.onsuccess=h=>{const g=h.target.result;g?(g.delete(),g.continue()):n()},d.onerror=()=>i(new Error("Failed to clear expired cache"))})}}class ei extends jt{constructor(){const e={baseUrl:Ae.campsites.sources.overpass,timeout:3e4,retries:1,cacheEnabled:!1,cacheTtl:0,userAgent:"EuropeanCamperPlanner/1.0"};super(e,{requests:2,windowMs:1e3,enabled:!1});I(this,"cacheManager");I(this,"_fallbackService");I(this,"activeRequests",new Map);I(this,"lastNominatimRequest",0);this.cacheManager=new Zn,this.initializeFallbackService(),this.initializeCache()}async geocodeLocationMultiple(e,n=5){try{const s=Date.now()-this.lastNominatimRequest;s<1100&&await new Promise(g=>setTimeout(g,1100-s)),this.lastNominatimRequest=Date.now();const a=new URLSearchParams({q:e,format:"json",limit:String(n),addressdetails:"1",extratags:"1",namedetails:"1",countrycodes:"gb,ie,fr,de,es,pt,it,nl,be,at,ch,dk,no,se,fi,pl,cz,hr,si,gr,hu,sk,ro,bg,ee,lv,lt,lu,mt,cy"}),l=!1?`/api/geocode?${a.toString()}`:`https://nominatim.openstreetmap.org/search?${a.toString()}`,d=await fetch(l,{method:"GET",headers:{"User-Agent":"EuropeanCamperPlanner/1.0 (https://github.com/user/camper-planner)"}});if(!d.ok)throw new Error(`Geocoding HTTP error: ${d.status}`);const h=await d.json();return h&&h.length>0?h.map(u=>{let m=u.display_name.split(",")[0].trim();if(u.address){const p=u.address;if(p.house_number&&p.road)m=`${p.house_number} ${p.road}`;else if(p.road)m=p.road;else if(p.postcode){const f=p.city||p.town||p.village||"";m=f?`${p.postcode}, ${f}`:p.postcode}}return{display_name:u.display_name,lat:parseFloat(u.lat),lng:parseFloat(u.lon),boundingbox:u.boundingbox,type:u.type||u.class||"place",importance:parseFloat(u.importance||"0.5"),name:m}}):[]}catch(i){return console.error("Geocoding failed:",i),[]}}async geocodeLocation(e){const n=await this.geocodeLocationMultiple(e,1);return n.length>0?n[0]:null}async searchCampsites(e){const n=Date.now();if(e.locationQuery)return this.searchCampsitesByLocation(e,n);const i=this.generateCampsiteCacheKey(e);if(this.activeRequests.has(i))return this.activeRequests.get(i);if(!e.bounds||typeof e.bounds.south>"u"||typeof e.bounds.west>"u"||typeof e.bounds.north>"u"||typeof e.bounds.east>"u")return console.warn("CampsiteService: Invalid bounds provided, returning empty result"),{status:"error",error:"Invalid bounds provided",campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-n,cache_hit:!1},cached:!1,boundingBox:e.bounds};const s=this.executeSearchRequest(e,i,n);this.activeRequests.set(i,s);try{return await s}finally{this.activeRequests.delete(i)}}async searchCampsitesByLocation(e,n){try{const i=await this.geocodeLocation(e.locationQuery);if(!i)return{status:"error",error:`Could not find location: ${e.locationQuery}`,campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-n,cache_hit:!1},cached:!1,boundingBox:e.bounds};const s=50,a=s/111,o=s/(111*Math.cos(i.lat*Math.PI/180)),l={...e,bounds:{north:i.lat+a,south:i.lat-a,east:i.lng+o,west:i.lng-o},locationQuery:void 0},d=await this.searchCampsites(l);return{...d,metadata:{...d.metadata,geocoded_location:i,query:e}}}catch(i){return console.error("Location-based search failed:",i),{status:"error",error:`Location search failed: ${i instanceof Error?i.message:"Unknown error"}`,campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-n,cache_hit:!1},cached:!1,boundingBox:e.bounds}}}async executeSearchRequest(e,n,i){try{const s=await this.getCachedCampsites(e);if(s)return{...s,metadata:{...s.metadata,cache_hit:!0,query_duration:Date.now()-i}};const a=await this.searchWithOverpass(e);return await this.cacheManager.storeCampsites(a.campsites),await this.setCacheMetadata(e),{...a,metadata:{...a.metadata,cache_hit:!1,query_duration:Date.now()-i}}}catch(s){console.warn("Overpass API failed:",s);const a=await this.getCachedCampsites(e,!0);return a?(console.info("Using stale cache data for campsites"),{...a,metadata:{...a.metadata,cache_hit:!0,query_duration:Date.now()-i}}):(console.warn("No campsite data available, returning empty result"),{status:"success",campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-i,cache_hit:!1},cached:!1,boundingBox:e.bounds})}}async searchWithOverpass(e){const{bounds:n,types:i=["campsite","aire","caravan_site"],maxResults:s=1e3}=e,o={method:"POST",endpoint:"",body:this.buildOverpassQuery(n,i),headers:{"Content-Type":"text/plain; charset=utf-8"}},l=await this.request(o),d=this.parseOverpassResponse(l),h=this.filterAndScoreCampsites(d,e).slice(0,s);return{status:"success",campsites:h,metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:h.length,cache_hit:!1,query_duration:0},cached:!1,boundingBox:n}}async _searchWithOpenCampingMap(e){const{bounds:n,maxResults:i=1e3}=e,s={baseUrl:"https://opencampingmap.org/api",timeout:15e3,retries:1,cacheEnabled:!1,cacheTtl:0,userAgent:"EuropeanCamperPlanner/1.0"},a=this.config;this.config=s;try{const o={method:"GET",endpoint:"/campsites",params:{bbox:`${n.west},${n.south},${n.east},${n.north}`,limit:i}},l=await this.request(o),d=this.parseOpenCampingMapResponse(l);return{campsites:d,metadata:{service:"opencampingmap",timestamp:Date.now(),query:e,results_count:d.length,cache_hit:!1,query_duration:0},cached:!1,boundingBox:n}}finally{this.config=a}}isValidCoordinate(e,n){return typeof e!="number"||isNaN(e)||!isFinite(e)?!1:n==="latitude"?e>=-90&&e<=90:e>=-180&&e<=180}buildOverpassQuery(e,n){const{south:i,west:s,north:a,east:o}=e;if(!this.isValidCoordinate(i,"latitude")||!this.isValidCoordinate(a,"latitude")||!this.isValidCoordinate(s,"longitude")||!this.isValidCoordinate(o,"longitude"))throw console.error("Invalid coordinates detected",{south:i,west:s,north:a,east:o}),new Error(`Invalid coordinates: lat=${i}-${a}, lng=${s}-${o}`);const l=a-i,d=o-s;if(l>5||d>5)throw console.warn("Bounding box too large for campsite query",{latSpan:l,lngSpan:d,bounds:e}),new Error(`Bounding box too large: ${l}° lat x ${d}° lng (max 5° each)`);const h=`${i.toFixed(6)},${s.toFixed(6)},${a.toFixed(6)},${o.toFixed(6)}`,g=[];return n.includes("campsite")&&(g.push(`node["tourism"="camp_site"](${h});`),g.push(`way["tourism"="camp_site"](${h});`),g.push(`relation["tourism"="camp_site"](${h});`)),n.includes("caravan_site")&&(g.push(`node["tourism"="caravan_site"](${h});`),g.push(`way["tourism"="caravan_site"](${h});`),g.push(`relation["tourism"="caravan_site"](${h});`)),n.includes("aire")&&(g.push(`node["amenity"="parking"]["motorhome"="yes"](${h});`),g.push(`way["amenity"="parking"]["motorhome"="yes"](${h});`),g.push(`node["amenity"="parking"]["caravan"="yes"](${h});`),g.push(`way["amenity"="parking"]["caravan"="yes"](${h});`),g.push(`node["tourism"="wilderness_hut"](${h});`),g.push(`node["highway"="services"]["motorhome"="yes"](${h});`),g.push(`way["highway"="services"]["motorhome"="yes"](${h});`)),`[out:json][timeout:30];(${g.join("")});out center meta 1000;`}parseOverpassResponse(e){return!e||!e.elements?[]:e.elements.map(n=>this.parseOSMElement(n)).filter(Boolean)}parseOpenCampingMapResponse(e){return!e||!e.features?[]:e.features.map(n=>this.parseOpenCampingMapFeature(n)).filter(Boolean)}parseOSMElement(e){const n=e.lat??e.center?.lat,i=e.lon??e.center?.lon;if(!n||!i||!e.tags)return null;const s=e.tags;if(s.disused==="yes"||s.abandoned==="yes"||s.demolished==="yes"||s["tourism:disused"]==="yes"||s.lifecycle_status==="abandoned"||s.lifecycle_status==="disused"||s.lifecycle_status==="demolished")return null;const a=this.determineCampsiteType(s);return{id:e.id,type:a,name:s.name||s["name:en"]||`${a} ${e.id}`,lat:n,lng:i,amenities:{toilets:this.parseBoolean(s.amenity==="toilets"||s.toilets),showers:this.parseBoolean(s.shower),drinking_water:this.parseBoolean(s.drinking_water),electricity:this.parseBoolean(s.electricity),wifi:this.parseBoolean(s.internet_access==="wifi"||s.wifi),restaurant:this.parseBoolean(s.amenity==="restaurant"||s.restaurant),shop:this.parseBoolean(s.shop),playground:this.parseBoolean(s.playground),laundry:this.parseBoolean(s.laundry),swimming_pool:this.parseBoolean(s.swimming_pool)},access:{motorhome:this.parseBoolean(s.motorhome),caravan:this.parseBoolean(s.caravan),tent:this.parseBoolean(s.tents!=="no"&&a==="campsite"),max_height:this.parseNumber(s.maxheight),max_length:this.parseNumber(s.maxlength),max_weight:this.parseNumber(s.maxweight)},contact:{phone:s.phone,website:s.website||s.url,email:s.email},opening_hours:s.opening_hours,fee:s.fee,reservation:s.reservation,capacity:this.parseNumber(s.capacity),source:"openstreetmap",last_updated:Date.now(),quality_score:this.calculateQualityScore(s)}}parseOpenCampingMapFeature(e){if(!e.geometry||!e.properties)return null;const n=e.properties,[i,s]=e.geometry.coordinates;return{id:n.id||Math.random()*1e6,type:"campsite",name:n.name||"Unnamed Campsite",lat:s,lng:i,amenities:{toilets:!!n.toilets,showers:!!n.showers,drinking_water:!!n.drinking_water,electricity:!!n.electricity,wifi:!!n.wifi,restaurant:!!n.restaurant,shop:!!n.shop,playground:!!n.playground,laundry:!!n.laundry,swimming_pool:!!n.swimming_pool},access:{motorhome:!!n.motorhome,caravan:!!n.caravan,tent:!!n.tent,max_height:n.max_height,max_length:n.max_length,max_weight:n.max_weight},contact:{phone:n.phone,website:n.website,email:n.email},opening_hours:n.opening_hours,fee:n.fee,reservation:n.reservation,capacity:n.capacity,source:"opencampingmap",last_updated:Date.now(),quality_score:.8}}determineCampsiteType(e){return e.tourism==="camp_site"?"campsite":e.tourism==="caravan_site"?"caravan_site":e.amenity==="parking"&&(e.motorhome==="yes"||e.caravan==="yes")||e.highway==="services"&&e.motorhome==="yes"?"aire":"campsite"}parseBoolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){const n=e.toLowerCase();return n==="yes"||n==="true"||n==="1"}return!1}parseNumber(e){if(typeof e=="number")return e;if(typeof e=="string"){const n=parseFloat(e.replace(/[^\d.]/g,""));return isNaN(n)?void 0:n}}calculateQualityScore(e){let n=0;const i=[e.name,e.phone||e.website,e.opening_hours,e.drinking_water,e.electricity,e.toilets||e.amenity==="toilets",e.motorhome||e.caravan];return n=i.filter(Boolean).length/i.length,Math.round(n*100)/100}filterAndScoreCampsites(e,n){let i=e;n.vehicleFilter&&(i=i.filter(o=>this.isVehicleCompatible(o,n.vehicleFilter))),n.amenities&&n.amenities.length>0&&(i=i.filter(o=>n.amenities.some(l=>o.amenities[l]===!0)));const s=(n.bounds.north+n.bounds.south)/2,a=(n.bounds.east+n.bounds.west)/2;return i.sort((o,l)=>{const d=this.calculateDistance(s,a,o.lat,o.lng),h=this.calculateDistance(s,a,l.lat,l.lng),g=(o.quality_score||.5)-d/100;return(l.quality_score||.5)-h/100-g})}isVehicleCompatible(e,n){return!(n.motorhome&&!e.access.motorhome||n.caravan&&!e.access.caravan||n.height&&e.access.max_height&&n.height>e.access.max_height||n.length&&e.access.max_length&&n.length>e.access.max_length||n.weight&&e.access.max_weight&&n.weight>e.access.max_weight)}calculateDistance(e,n,i,s){const o=(i-e)*Math.PI/180,l=(s-n)*Math.PI/180,d=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))}async getCachedCampsites(e,n=!1){try{const i=this.generateCampsiteCacheKey(e),s=await this.cacheManager.getCacheMetadata(i);if(s){const a=Date.now()-s.timestamp,o=1440*60*1e3;if(n||a<o){const l=await this.cacheManager.getCampsitesInBounds(e.bounds);if(l.length>0)return{status:"success",campsites:this.filterAndScoreCampsites(l,e),metadata:{service:s.service||"overpass",timestamp:s.timestamp,query:e,results_count:l.length,cache_hit:!0,query_duration:0},cached:!0,boundingBox:e.bounds}}}return null}catch(i){return console.warn("Cache lookup failed:",i),null}}async setCacheMetadata(e){try{const n=this.generateCampsiteCacheKey(e);await this.cacheManager.setCacheMetadata(n,{timestamp:Date.now(),service:"overpass",bounds:e.bounds})}catch(n){console.warn("Failed to set cache metadata:",n)}}generateCampsiteCacheKey(e){const{bounds:n,types:i=[],amenities:s=[]}=e;return!n||typeof n.south>"u"||typeof n.west>"u"||typeof n.north>"u"||typeof n.east>"u"?(console.warn("CampsiteService: Invalid bounds provided, using fallback cache key"),`campsites_invalid_bounds_${Date.now()}_${i.join(",")}_${s.join(",")}`):`campsites_${n.south}_${n.west}_${n.north}_${n.east}_${i.join(",")}_${s.join(",")}`}async initializeCache(){try{await this.cacheManager.initialize(),await this.cacheManager.clearExpiredCache()}catch(e){console.warn("Failed to initialize campsite cache:",e)}}initializeFallbackService(){this._fallbackService=void 0}async healthCheck(){try{const n={method:"POST",endpoint:"",body:"[out:json][timeout:5]; out count;",headers:{"Content-Type":"text/plain"},customTimeout:5e3};return await this.request(n),!0}catch(e){return console.warn("Overpass API health check failed:",e),!1}}getServiceStatus(){const e=this.rateLimitState.get("default")||{count:0,resetTime:Date.now()};return{primary:{name:"Overpass API",healthy:!0,cacheSize:"IndexedDB"},fallback:{name:"OpenCampingMap",available:!0},rateLimitInfo:{remaining:Math.max(0,this.rateLimit.requests-e.count),resetTime:e.resetTime}}}async refreshCache(e){const n={bounds:e};await this.searchWithOverpass(n)}getCacheStats(){return{size:0,entries:[]}}}const ar=new ei,or=J()(ie(r=>({center:[54.526,15.2551],zoom:5,selectedWaypoint:null,setCenter:t=>r({center:t}),setZoom:t=>r({zoom:t}),setSelectedWaypoint:t=>r({selectedWaypoint:t})}),{name:"map-store"})),Rt=J()(Le(ie(r=>({profile:null,setProfile:t=>r({profile:t}),clearProfile:()=>r({profile:null})}),{name:"vehicle-store"}),{name:"camper-planner-vehicle",partialize:r=>({profile:r.profile})})),Y=r=>r.map((t,e)=>{if(e>0&&e<r.length-1&&(t.type==="campsite"||t.type==="accommodation"))return t;let n;return r.length===1||e===0?n="start":e===r.length-1?n="end":n="waypoint",{...t,type:n}}),X=(r,t)=>{const e=[...r.history.slice(0,r.historyIndex+1),t].slice(-r.maxHistorySize);return{...r,history:e,historyIndex:e.length-1}},We=J()(Le(ie((r,t)=>({waypoints:[],calculatedRoute:null,isOptimized:!1,totalDistance:0,estimatedTime:0,history:[],historyIndex:-1,maxHistorySize:50,addWaypoint:e=>r(n=>{const i=[...n.waypoints,e],s=Y(i),a={type:"add",timestamp:Date.now(),data:e,previousState:n.waypoints};return{...X(n,a),waypoints:s,isOptimized:!1}}),removeWaypoint:e=>r(n=>{const i=n.waypoints.find(l=>l.id===e),s=n.waypoints.filter(l=>l.id!==e),a=Y(s),o={type:"remove",timestamp:Date.now(),data:{id:e,waypoint:i},previousState:n.waypoints};return{...X(n,o),waypoints:a,isOptimized:!1}}),updateWaypoint:(e,n)=>r(i=>{const s=i.waypoints.find(l=>l.id===e),a=i.waypoints.map(l=>l.id===e?{...l,...n}:l),o={type:"update",timestamp:Date.now(),data:{id:e,updates:n,previousWaypoint:s},previousState:i.waypoints};return{...X(i,o),waypoints:a}}),reorderWaypoints:e=>{const n=t(),i=Y(e),s={type:"reorder",timestamp:Date.now(),data:e,previousState:n.waypoints};r({...X(n,s),waypoints:i,isOptimized:!0})},insertWaypoint:(e,n)=>r(i=>{const s=i.waypoints.findIndex(d=>d.id===n),a=[...i.waypoints.slice(0,s+1),e,...i.waypoints.slice(s+1)],o=Y(a),l={type:"add",timestamp:Date.now(),data:{waypoint:e,afterId:n},previousState:i.waypoints};return{...X(i,l),waypoints:o,isOptimized:!1}}),clearRoute:()=>r(e=>{const n={type:"clear",timestamp:Date.now(),data:null,previousState:e.waypoints};return{...X(e,n),waypoints:[],calculatedRoute:null,isOptimized:!1,totalDistance:0,estimatedTime:0}}),setCalculatedRoute:e=>r({calculatedRoute:e}),undo:()=>r(e=>{if(e.historyIndex<0)return e;const n=e.history[e.historyIndex];return{...e,waypoints:Y(n.previousState),historyIndex:e.historyIndex-1,isOptimized:!1}}),redo:()=>r(e=>{if(e.historyIndex>=e.history.length-1)return e;const n=e.historyIndex+1,i=e.history[n];let s=e.waypoints;switch(i.type){case"add":{const a=i.data;if("afterId"in a){const o=e.waypoints.findIndex(l=>l.id===a.afterId);s=[...e.waypoints.slice(0,o+1),a.waypoint,...e.waypoints.slice(o+1)]}else s=[...e.waypoints,a];break}case"remove":{const a=i.data;s=e.waypoints.filter(o=>o.id!==a.id);break}case"update":{const a=i.data;s=e.waypoints.map(o=>o.id===a.id?{...o,...a.updates}:o);break}case"reorder":s=i.data;break;case"clear":s=[];break}return{...e,waypoints:Y(s),historyIndex:n,isOptimized:i.type==="reorder"}}),canUndo:()=>t().historyIndex>=0,canRedo:()=>{const e=t();return e.historyIndex<e.history.length-1},isValidForRouting:()=>t().waypoints.length>=2}),{name:"route-store"}),{name:"camper-planner-route",partialize:r=>({waypoints:r.waypoints,isOptimized:r.isOptimized,totalDistance:r.totalDistance,estimatedTime:r.estimatedTime})}));J()(Le(ie((r,t)=>({currentTrip:null,savedTrips:[],setCurrentTrip:e=>r({currentTrip:e}),saveTrip:e=>r(n=>({savedTrips:[...n.savedTrips.filter(i=>i.id!==e.id),e]})),loadTrip:e=>{const n=t().savedTrips.find(i=>i.id===e);n&&r({currentTrip:n})},deleteTrip:e=>r(n=>({savedTrips:n.savedTrips.filter(i=>i.id!==e),currentTrip:n.currentTrip?.id===e?null:n.currentTrip}))}),{name:"trip-store"}),{name:"camper-planner-trips",partialize:r=>({savedTrips:r.savedTrips,currentTrip:r.currentTrip})}));const _e=J()(ie((r,t)=>({isLoading:!1,error:null,notifications:[],sidebarOpen:!0,vehicleSidebarOpen:!1,setLoading:e=>r({isLoading:e}),setError:e=>r({error:e}),addNotification:e=>{const n=Math.random().toString(36).substr(2,9);r(i=>({notifications:[...i.notifications,{...e,id:n}]})),setTimeout(()=>{t().removeNotification(n)},5e3)},removeNotification:e=>r(n=>({notifications:n.notifications.filter(i=>i.id!==e)})),toggleSidebar:()=>r(e=>({sidebarOpen:!e.sidebarOpen})),openVehicleSidebar:()=>r({vehicleSidebarOpen:!0}),closeVehicleSidebar:()=>r({vehicleSidebarOpen:!1})}),{name:"ui-store"})),ti=J()(ie(r=>({wizardOpen:!1,wizardStep:0,start:null,end:null,startDate:null,endDate:null,drivingStyle:"moderate",crossing:null,restDayFrequency:0,itinerary:null,isGenerating:!1,generationError:null,openWizard:()=>r({wizardOpen:!0,wizardStep:0}),closeWizard:()=>r({wizardOpen:!1}),setStep:t=>r({wizardStep:t}),nextStep:()=>r(t=>({wizardStep:t.wizardStep+1})),prevStep:()=>r(t=>({wizardStep:Math.max(0,t.wizardStep-1)})),setStart:t=>r({start:t}),setEnd:t=>r({end:t}),setStartDate:t=>r({startDate:t}),setEndDate:t=>r({endDate:t}),setDrivingStyle:t=>r({drivingStyle:t}),setCrossing:t=>r({crossing:t}),setRestDayFrequency:t=>r({restDayFrequency:t}),setItinerary:t=>r({itinerary:t}),setIsGenerating:t=>r({isGenerating:t}),setGenerationError:t=>r({generationError:t}),selectCampsite:(t,e)=>r(n=>{if(!n.itinerary)return n;const i=n.itinerary.days.map(s=>s.dayNumber===t?{...s,selectedOvernight:e}:s);return{itinerary:{...n.itinerary,days:i}}}),resetWizard:()=>r({wizardStep:0,start:null,end:null,startDate:null,endDate:null,drivingStyle:"moderate",crossing:null,restDayFrequency:0,itinerary:null,isGenerating:!1,generationError:null})}),{name:"trip-wizard-store"})),et=[{code:"en",name:"English",nativeName:"English",flag:"🇺🇸"},{code:"de",name:"German",nativeName:"Deutsch",flag:"🇩🇪"},{code:"fr",name:"French",nativeName:"Français",flag:"🇫🇷"},{code:"es",name:"Spanish",nativeName:"Español",flag:"🇪🇸"},{code:"it",name:"Italian",nativeName:"Italiano",flag:"🇮🇹"},{code:"nl",name:"Dutch",nativeName:"Nederlands",flag:"🇳🇱"}],ni=({variant:r="dropdown",size:t="md",className:e})=>{const{i18n:n}=bt(),[i,s]=C.useState(!1),a=C.useRef(null),o=et.find(d=>d.code===n.language)||et[0];C.useEffect(()=>{const d=h=>{a.current&&!a.current.contains(h.target)&&s(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const l={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-2",lg:"text-base px-4 py-3"};return c.jsxs("button",{type:"button",className:k("flex items-center space-x-1 rounded-md font-medium transition-colors","text-neutral-400 cursor-not-allowed",l[t],e),disabled:!0,title:"Language selection coming soon",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),c.jsx("span",{children:o.code.toUpperCase()})]})},ii=()=>{const r=pt(),{t}=bt(),[e,n]=C.useState(!1),{toggleSidebar:i,openVehicleSidebar:s}=_e(),{profile:a}=Rt(),{openWizard:o}=ti(),l=a?{name:a.name||"Custom Vehicle",dims:`${a.height}×${a.width}×${a.length}m`}:null,d=[{path:"/",label:t("nav.planner"),key:"planner"},{path:"/about",label:t("nav.about"),key:"about"},{path:"/help",label:t("nav.help"),key:"help"}],h=u=>u==="/"?r.pathname===u:r.pathname.startsWith(u),g=()=>{n(!e)};return c.jsxs(c.Fragment,{children:[c.jsx("header",{className:"bg-white/80 backdrop-blur-md shadow-soft sticky top-0 z-40",children:c.jsxs("div",{className:"px-4 sm:px-6",children:[c.jsxs("div",{className:"flex items-center h-16 gap-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[r.pathname==="/"&&c.jsx("button",{onClick:i,className:"lg:hidden p-2 rounded-xl text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100","aria-label":"Toggle sidebar",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),c.jsxs(je,{to:"/",className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-700 rounded-full flex items-center justify-center shadow-sm",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m0 0L9 7",clipRule:"evenodd"})})}),c.jsxs("div",{className:"hidden sm:block",children:[c.jsx("h1",{className:"text-lg lg:text-xl font-bold text-neutral-900",children:"European Camper Planner"}),c.jsx("p",{className:"text-xs text-primary-600 font-medium tracking-wide uppercase hidden lg:block",children:"Free trip planning for Europe"})]}),c.jsx("div",{className:"sm:hidden",children:c.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:"Camper Planner"})})]}),r.pathname==="/"&&c.jsxs("button",{onClick:s,className:k("hidden sm:flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200","hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary-500",l?"bg-green-50 text-green-700 ring-1 ring-green-200 hover:bg-green-100":"bg-primary-50 text-primary-700 ring-1 ring-primary-200 hover:bg-primary-100"),title:l?"Edit vehicle profile":"Set up your vehicle profile",children:[c.jsx("span",{children:"🚐"}),c.jsx("span",{className:"max-w-[120px] truncate",children:l?l.name:"Setup Vehicle"})]})]}),c.jsx("nav",{className:"hidden md:flex space-x-8",children:d.map(u=>c.jsx(je,{to:u.path,className:k("px-3 py-2 rounded-xl text-sm font-medium transition-all duration-200",h(u.path)?"text-primary-700 bg-primary-50":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"),children:u.label},u.key))}),c.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4 ml-auto",children:[r.pathname==="/"&&c.jsxs("button",{onClick:()=>{o(),n(!1)},className:"hidden sm:flex items-center gap-1.5 px-4 py-2 bg-accent-500 text-white rounded-xl hover:bg-accent-600 text-sm font-semibold transition-all duration-200 shadow-sm hover:shadow-medium active:scale-[0.97]",children:[c.jsx(Ye,{className:"w-4 h-4"}),"Plan a Trip"]}),c.jsx(ni,{variant:"button",size:"sm"}),c.jsx("button",{type:"button",onClick:g,className:"md:hidden p-2 rounded-xl text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100","aria-label":"Toggle menu",children:c.jsx("svg",{className:k("w-6 h-6 transition-transform",e&&"rotate-90"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),e&&c.jsx("div",{className:"md:hidden bg-white/95 backdrop-blur-sm",children:c.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[d.map(u=>c.jsx(je,{to:u.path,onClick:()=>n(!1),className:k("block px-3 py-2 rounded-xl text-base font-medium transition-all duration-200",h(u.path)?"text-primary-700 bg-primary-50":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"),children:u.label},u.key)),r.pathname==="/"&&c.jsxs("button",{onClick:()=>{o(),n(!1)},className:"w-full flex items-center gap-2 px-3 py-2.5 rounded-xl text-base font-semibold text-accent-700 bg-accent-50 hover:bg-accent-100 transition-all duration-200",children:[c.jsx(Ye,{className:"w-4 h-4"}),"Plan a Trip"]})]})})]})}),e&&c.jsx("div",{className:"fixed inset-0 z-30 bg-black/25 backdrop-blur-sm md:hidden",onClick:()=>n(!1)})]})};class ri extends C.Component{constructor(e){super(e);I(this,"handleReload",()=>{window.location.reload()});I(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:c.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:c.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:c.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.864-.833-2.632 0L4.182 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),c.jsx("h2",{className:"mt-6 text-lg font-medium text-neutral-900",children:"Something went wrong"}),c.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,c.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[c.jsx("button",{onClick:this.handleReset,className:"px-4 py-2 text-sm font-medium text-neutral-700 bg-white border border-neutral-300 rounded-md hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Try Again"}),c.jsx("button",{onClick:this.handleReload,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Reload Page"}),c.jsx("a",{href:"/",className:"px-4 py-2 text-sm font-medium text-primary-600 bg-primary-50 border border-primary-200 rounded-md hover:bg-primary-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 text-center",children:"Go Home"})]})]})})})}):this.props.children}}const tt=({size:r="md",variant:t="spinner",className:e,text:n})=>{const i={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"},s={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"};return t==="dots"?c.jsxs("div",{className:k("flex items-center justify-center space-x-1",e),children:[[0,1,2].map(a=>c.jsx("div",{className:k("bg-primary-600 rounded-full animate-pulse",i[r]),style:{animationDelay:`${a*.2}s`,animationDuration:"1s"}},a)),n&&c.jsx("span",{className:k("ml-3 text-neutral-600",s[r]),children:n})]}):t==="pulse"?c.jsxs("div",{className:k("flex items-center justify-center",e),children:[c.jsx("div",{className:k("bg-primary-600 rounded-full animate-ping",i[r])}),n&&c.jsx("span",{className:k("ml-3 text-neutral-600",s[r]),children:n})]}):c.jsxs("div",{className:k("flex items-center justify-center",e),children:[c.jsx("div",{className:k("animate-spin rounded-full border-2 border-neutral-300 border-t-primary-600",i[r]),role:"status","aria-label":"Loading",children:c.jsx("span",{className:"sr-only",children:"Loading..."})}),n&&c.jsx("span",{className:k("ml-3 text-neutral-600",s[r]),children:n})]})},si=({children:r,sidebar:t,sidebarOpen:e=!1,className:n,fullHeight:i=!0})=>c.jsxs("div",{className:k("flex",i?"h-full":"min-h-screen",n),children:[t&&c.jsxs(c.Fragment,{children:[c.jsx("aside",{className:k("hidden lg:flex lg:flex-col lg:w-80 lg:fixed lg:inset-y-0 lg:pt-16","bg-white border-r border-neutral-200","z-30"),children:c.jsx("div",{className:"flex-1 overflow-y-auto",children:t})}),e&&c.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"}),c.jsxs("aside",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[c.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:c.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[c.jsx("span",{className:"sr-only",children:"Close sidebar"}),c.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})}),c.jsx("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:t})]})]})]}),c.jsx("main",{className:k("flex-1 flex flex-col",t&&"lg:pl-80"),children:r})]});class ai{constructor(){I(this,"routingService");I(this,"distanceCache",new Map);this.routingService=new kt}async optimizeRoute(t,e){if(t.length<3)throw new Error("Route optimization requires at least 3 waypoints");const n=Date.now(),i=await this.calculateRouteMetrics(t,e.vehicleProfile),s=await this.buildDistanceMatrix(t,e.vehicleProfile),a=await this.solveTSP(s,e,t),o=this.reorderWaypoints(t,a.order,e.lockedWaypoints),l=await this.calculateRouteMetrics(o,e.vehicleProfile),d=this.calculateImprovements(i,l);return{originalRoute:{waypoints:t,totalDistance:i.distance,totalTime:i.duration,estimatedCost:i.cost},optimizedRoute:{waypoints:o,totalDistance:l.distance,totalTime:l.duration,estimatedCost:l.cost,reorderingApplied:JSON.stringify(t.map(h=>h.id))!==JSON.stringify(o.map(h=>h.id))},improvements:d,optimizationMetadata:{algorithm:e.objective==="shortest"?"Distance-TSP":e.objective==="fastest"?"Time-TSP":"Balanced-TSP",iterations:a.iterations,executionTime:Date.now()-n,convergenceReached:a.converged}}}async findOptimalInsertion(t,e,n){if(t.length===0)return{suggestedPosition:0,routeImpact:{distanceAdded:0,timeAdded:0,efficiency:1},alternatives:[]};const i=[],s=await this.calculateRouteMetrics(t,n.vehicleProfile);for(let o=0;o<=t.length;o++){const l=[...t];l.splice(o,0,e);const d=await this.calculateRouteMetrics(l,n.vehicleProfile),h=d.distance-s.distance,g=d.duration-s.duration,u=this.calculateInsertionEfficiency(h,g,n);i.push({position:o,distanceAdded:h,timeAdded:g,efficiency:u})}i.sort((o,l)=>l.efficiency-o.efficiency);const a=i[0];return{suggestedPosition:a.position,routeImpact:{distanceAdded:a.distanceAdded,timeAdded:a.timeAdded,efficiency:a.efficiency},alternatives:i.slice(1,4)}}async buildDistanceMatrix(t,e){const n=t.length,i=Array(n).fill(null).map(()=>Array(n).fill(0)),s=Array(n).fill(null).map(()=>Array(n).fill(0)),a=Array(n).fill(null).map(()=>Array(n).fill(0)),o=this.generateMatrixCacheKey(t,e),l=this.distanceCache.get(o);if(l)return l;for(let h=0;h<n;h++)for(let g=0;g<n;g++){if(h===g){i[h][g]=0,s[h][g]=0,a[h][g]=0;continue}try{const u={waypoints:[t[h],t[g]],vehicleProfile:e,options:{alternatives:!1,steps:!1,geometries:"geojson"}},m=await this.routingService.calculateRoute(u);if(m.routes&&m.routes.length>0){const p=m.routes[0];i[h][g]=p.summary.distance/1e3,s[h][g]=p.summary.duration/60,a[h][g]=this.estimateRouteCost(p.summary.distance,p.summary.duration,e)}else i[h][g]=this.calculateHaversineDistance(t[h],t[g]),s[h][g]=i[h][g]*1.2,a[h][g]=i[h][g]*.5}catch(u){console.warn(`Failed to calculate route from ${h} to ${g}:`,u),i[h][g]=this.calculateHaversineDistance(t[h],t[g]),s[h][g]=i[h][g]*1.2,a[h][g]=i[h][g]*.5}}const d={distances:i,durations:s,costs:a};return this.distanceCache.set(o,d),d}async solveTSP(t,e,n){const i=t.distances.length;if(i<=3)return{order:Array.from({length:i},(u,m)=>m),iterations:0,converged:!0};const s=this.getLockedPositions(n,e.lockedWaypoints),a=(u,m)=>{switch(e.objective){case"shortest":return t.distances[u][m];case"fastest":return t.durations[u][m];case"balanced":const p=t.durations[u][m]/Math.max(...t.durations.flat()),f=t.distances[u][m]/Math.max(...t.distances.flat());return .6*p+.4*f;default:return t.distances[u][m]}};let o=this.nearestNeighborTSP(t,a,s),l=this.calculateTourCost(o,a);const d=Math.min(1e3,i*i);let h=0,g=!0;for(;g&&h<d;){g=!1;for(let u=1;u<i-1;u++)if(!s.has(u))for(let m=u+1;m<i;m++){if(s.has(m))continue;const p=this.twoOptSwap(o,u,m),f=this.calculateTourCost(p,a);f<l&&(o=p,l=f,g=!0)}h++}return{order:o,iterations:h,converged:!g}}nearestNeighborTSP(t,e,n){const i=t.distances.length,s=new Set,a=[];let o=0;for(a.push(o),s.add(o);s.size<i;){let l=-1,d=1/0;for(let h=0;h<i;h++)if(!s.has(h)){const g=e(o,h);g<d&&(d=g,l=h)}l!==-1&&(a.push(l),s.add(l),o=l)}return a}twoOptSwap(t,e,n){const i=[...t];for(;e<n;)[i[e],i[n]]=[i[n],i[e]],e++,n--;return i}calculateTourCost(t,e){let n=0;for(let i=0;i<t.length-1;i++)n+=e(t[i],t[i+1]);return n}reorderWaypoints(t,e,n){if(n&&n.length>0){const i=[...t],s=new Set(n);let a=0;for(let o=0;o<i.length;o++)if(!s.has(i[o].id)){for(;a<e.length&&s.has(t[e[a]].id);)a++;a<e.length&&(i[o]=t[e[a]],a++)}return i}return e.map(i=>t[i])}async calculateRouteMetrics(t,e){if(t.length<2)return{distance:0,duration:0,cost:0};try{const i={waypoints:t,vehicleProfile:e,options:{alternatives:!1,steps:!1,geometries:"geojson"}},s=await this.routingService.calculateRoute(i);if(s.routes&&s.routes.length>0){const a=s.routes[0];return{distance:a.summary.distance/1e3,duration:a.summary.duration/60,cost:this.estimateRouteCost(a.summary.distance,a.summary.duration,e)}}}catch(i){console.warn("Failed to calculate route metrics:",i)}let n=0;for(let i=0;i<t.length-1;i++)n+=this.calculateHaversineDistance(t[i],t[i+1]);return{distance:n,duration:n*1.2,cost:n*.5}}calculateImprovements(t,e){const n=Math.max(0,t.distance-e.distance),i=Math.max(0,t.duration-e.duration),s=t.cost&&e.cost?Math.max(0,t.cost-e.cost):void 0,a=t.distance>0?n/t.distance*100:0;return{distanceSaved:n,timeSaved:i,costSaved:s,percentageImprovement:a}}calculateInsertionEfficiency(t,e,n){const a=Math.max(0,1-t/50),o=Math.max(0,1-e/60);switch(n.objective){case"shortest":return .8*a+.2*o;case"fastest":return .2*a+.8*o;case"balanced":return .5*a+.5*o;default:return .5*a+.5*o}}getLockedPositions(t,e){const n=new Set;return e&&t.forEach((i,s)=>{e.includes(i.id)&&n.add(s)}),n}generateMatrixCacheKey(t,e){const n=t.map(s=>`${s.lat.toFixed(4)},${s.lng.toFixed(4)}`).join("|"),i=e?`${e.type}-${e.height}-${e.weight}`:"default";return`${n}::${i}`}calculateHaversineDistance(t,e){const i=(e.lat-t.lat)*Math.PI/180,s=(e.lng-t.lng)*Math.PI/180,a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}estimateRouteCost(t,e,n){const i=t/1e3;let s=8;if(n)switch(n.type){case"motorhome":s=12+(n.weight||0)*.5;break;case"caravan":s=10+(n.weight||0)*.3;break;case"van":s=9;break;default:s=7;break}const a=1.5,o=i*.1;return i*s/100*a+o}clearCache(){this.distanceCache.clear()}getCacheStats(){return{size:this.distanceCache.size,keys:Array.from(this.distanceCache.keys())}}}const lr=new ai,oi={consumptionType:"l_per_100km",consumption:12,fuelType:"diesel",tankCapacity:80},li={priceType:"default_european",currency:"EUR",lastUpdated:new Date},ci={showCostBreakdown:!0,showDailyEstimates:!0,showOptimizationSuggestions:!0,currency:"EUR",includeAccommodationCosts:!0,includeTollEstimates:!1},di=J()(Le((r,t)=>({fuelConsumptionSettings:oi,setFuelConsumptionSettings:e=>{r({fuelConsumptionSettings:e}),r({lastCalculation:{}})},fuelPriceSettings:li,setFuelPriceSettings:e=>{r({fuelPriceSettings:e}),r({lastCalculation:{}})},preferences:ci,setPreferences:e=>{r({preferences:{...t().preferences,...e}})},autoUpdatePrices:!1,setAutoUpdatePrices:e=>{r({autoUpdatePrices:e})},lastCalculation:{},setLastCalculation:e=>{r({lastCalculation:e})}}),{name:"camper-planner-cost-settings",partialize:r=>({fuelConsumptionSettings:r.fuelConsumptionSettings,fuelPriceSettings:r.fuelPriceSettings,preferences:r.preferences,autoUpdatePrices:r.autoUpdatePrices})}));function cr(r,t){const e=r.map(i=>i.id).join("-"),n=t?`${t.type}-${t.length}-${t.weight}`:"default";return`${e}_${n}`}function dr(r,t=30){if(!r)return!1;const e=Date.now(),n=t*60*1e3;return e-r<n}const Oe="camper-planner-onboarding-complete",nt="1.0",ui=()=>{const[r,t]=C.useState(!1),[e,n]=C.useState(!0);C.useEffect(()=>{(()=>{try{const l=localStorage.getItem(Oe);if(!l){t(!0),n(!1);return}if(JSON.parse(l).version!==nt){t(!0),n(!1);return}t(!1),n(!1)}catch(l){console.error("Error checking onboarding status:",l),t(!0),n(!1)}})()},[]);const i=()=>{try{const o={isComplete:!0,version:nt,completedAt:new Date().toISOString()};localStorage.setItem(Oe,JSON.stringify(o)),t(!1)}catch(o){console.error("Error saving onboarding state:",o),t(!1)}};return{showOnboarding:r,isLoading:e,completeOnboarding:i,skipOnboarding:()=>{i()},resetOnboarding:()=>{try{localStorage.removeItem(Oe),t(!0)}catch(o){console.error("Error resetting onboarding:",o)}}}},q=class q{constructor(){I(this,"announceElement",null);this.createAnnounceElement()}static getInstance(){return q.instance||(q.instance=new q),q.instance}createAnnounceElement(){typeof window>"u"||(this.announceElement=document.createElement("div"),this.announceElement.setAttribute("aria-live","polite"),this.announceElement.setAttribute("aria-atomic","true"),this.announceElement.setAttribute("aria-hidden","false"),this.announceElement.className="sr-only",this.announceElement.style.position="absolute",this.announceElement.style.left="-10000px",this.announceElement.style.width="1px",this.announceElement.style.height="1px",this.announceElement.style.overflow="hidden",document.body.appendChild(this.announceElement))}announce(t,e="polite"){this.announceElement&&(this.announceElement.setAttribute("aria-live",e),this.announceElement.textContent="",setTimeout(()=>{this.announceElement&&(this.announceElement.textContent=t)},100),setTimeout(()=>{this.announceElement&&(this.announceElement.textContent="")},1e3))}};I(q,"instance");let Fe=q;const hi=()=>{const r=Fe.getInstance();return(t,e="polite")=>{r.announce(t,e)}},gi={handleEnterKey:r=>t=>{t.key==="Enter"&&(t.preventDefault(),r())},handleSpaceKey:r=>t=>{t.key===" "&&(t.preventDefault(),r())},handleEscapeKey:r=>t=>{t.key==="Escape"&&(t.preventDefault(),r())},handleArrowKeys:r=>t=>{switch(t.key){case"ArrowUp":r.up&&(t.preventDefault(),r.up());break;case"ArrowDown":r.down&&(t.preventDefault(),r.down());break;case"ArrowLeft":r.left&&(t.preventDefault(),r.left());break;case"ArrowRight":r.right&&(t.preventDefault(),r.right());break}},trapFocus:r=>{const t=r.current?.querySelectorAll('a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select');if(!t||t.length===0)return;const e=t[0],n=t[t.length-1];return i=>{i.key==="Tab"&&(i.shiftKey?document.activeElement===e&&(i.preventDefault(),n.focus()):document.activeElement===n&&(i.preventDefault(),e.focus()))}}},mi=r=>{const t=C.useRef(null);return C.useEffect(()=>{if(!r||!t.current)return;const e=gi.trapFocus(t);e&&document.addEventListener("keydown",e);const n=t.current.querySelectorAll('a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select');return n.length>0&&n[0].focus(),()=>{e&&document.removeEventListener("keydown",e)}},[r]),t},it={generateId:(r="aria")=>`${r}-${Math.random().toString(36).substr(2,9)}`,labelledBy:r=>({"aria-labelledby":r}),describedBy:r=>({"aria-describedby":r}),expanded:r=>({"aria-expanded":r}),selected:r=>({"aria-selected":r}),pressed:r=>({"aria-pressed":r}),checked:r=>({"aria-checked":r}),disabled:r=>({"aria-disabled":r}),hidden:r=>({"aria-hidden":r}),live:r=>({"aria-live":r}),role:r=>({role:r}),combobox:(r,t=!0)=>({role:"combobox","aria-expanded":r,"aria-haspopup":t?"listbox":!1}),listbox:(r=!1)=>({role:"listbox","aria-multiselectable":r}),option:(r=!1)=>({role:"option","aria-selected":r}),tab:(r=!1,t)=>({role:"tab","aria-selected":r,...t&&{"aria-controls":t}}),tabpanel:r=>({role:"tabpanel",...r&&{"aria-labelledby":r}}),dialog:(r,t)=>({role:"dialog","aria-modal":!0,...r&&{"aria-labelledby":r},...t&&{"aria-describedby":t}}),button:(r,t)=>({role:"button",...r!==void 0&&{"aria-pressed":r},...t!==void 0&&{"aria-expanded":t}})},ce=[{id:"fiat",name:"Fiat",country:"Italy",models:[{id:"ducato",name:"Ducato",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:2.25,width:2.05,length:4.96,weight:3.3,fuelConsumption:9.5,internalHeight:1.66,internalWidth:1.87,internalLength:2.67},{id:"l1h2",name:"L1H2 (Short/Medium)",height:2.52,width:2.05,length:4.96,weight:3.5,fuelConsumption:10,internalHeight:1.93,internalWidth:1.87,internalLength:2.67},{id:"l2h1",name:"L2H1 (Medium/Low)",height:2.25,width:2.05,length:5.41,weight:3.3,fuelConsumption:10,internalHeight:1.66,internalWidth:1.87,internalLength:3.12},{id:"l2h2",name:"L2H2 (Medium/Medium)",height:2.52,width:2.05,length:5.41,weight:3.5,fuelConsumption:10.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.12},{id:"l3h2",name:"L3H2 (Long/Medium)",height:2.52,width:2.05,length:6,weight:3.5,fuelConsumption:11.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.71},{id:"l3h3",name:"L3H3 (Long/High)",height:2.76,width:2.05,length:6,weight:4,fuelConsumption:12,internalHeight:2.17,internalWidth:1.87,internalLength:3.71},{id:"l4h2",name:"L4H2 (XLong/Medium)",height:2.52,width:2.05,length:6.36,weight:4,fuelConsumption:12.5,internalHeight:1.93,internalWidth:1.87,internalLength:4.07},{id:"l4h3",name:"L4H3 (XLong/High)",height:2.76,width:2.05,length:6.36,weight:4.25,fuelConsumption:13,internalHeight:2.17,internalWidth:1.87,internalLength:4.07}]}]},{id:"peugeot",name:"Peugeot",country:"France",models:[{id:"boxer",name:"Boxer",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:2.25,width:2.05,length:4.96,weight:3.3,fuelConsumption:9.5,internalHeight:1.66,internalWidth:1.87,internalLength:2.67},{id:"l1h2",name:"L1H2 (Short/Medium)",height:2.52,width:2.05,length:4.96,weight:3.5,fuelConsumption:10,internalHeight:1.93,internalWidth:1.87,internalLength:2.67},{id:"l2h2",name:"L2H2 (Medium/Medium)",height:2.52,width:2.05,length:5.41,weight:3.5,fuelConsumption:10.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.12},{id:"l3h2",name:"L3H2 (Long/Medium)",height:2.52,width:2.05,length:6,weight:3.5,fuelConsumption:11.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.71},{id:"l3h3",name:"L3H3 (Long/High)",height:2.76,width:2.05,length:6,weight:4,fuelConsumption:12,internalHeight:2.17,internalWidth:1.87,internalLength:3.71},{id:"l4h2",name:"L4H2 (XLong/Medium)",height:2.52,width:2.05,length:6.36,weight:4,fuelConsumption:12.5,internalHeight:1.93,internalWidth:1.87,internalLength:4.07},{id:"l4h3",name:"L4H3 (XLong/High)",height:2.76,width:2.05,length:6.36,weight:4.25,fuelConsumption:13,internalHeight:2.17,internalWidth:1.87,internalLength:4.07}]}]},{id:"citroen",name:"Citroën",country:"France",models:[{id:"relay",name:"Relay / Jumper",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:2.25,width:2.05,length:4.96,weight:3.3,fuelConsumption:9.5,internalHeight:1.66,internalWidth:1.87,internalLength:2.67},{id:"l1h2",name:"L1H2 (Short/Medium)",height:2.52,width:2.05,length:4.96,weight:3.5,fuelConsumption:10,internalHeight:1.93,internalWidth:1.87,internalLength:2.67},{id:"l2h2",name:"L2H2 (Medium/Medium)",height:2.52,width:2.05,length:5.41,weight:3.5,fuelConsumption:10.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.12},{id:"l3h2",name:"L3H2 (Long/Medium)",height:2.52,width:2.05,length:6,weight:3.5,fuelConsumption:11.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.71},{id:"l3h3",name:"L3H3 (Long/High)",height:2.76,width:2.05,length:6,weight:4,fuelConsumption:12,internalHeight:2.17,internalWidth:1.87,internalLength:3.71},{id:"l4h3",name:"L4H3 (XLong/High)",height:2.76,width:2.05,length:6.36,weight:4.25,fuelConsumption:13,internalHeight:2.17,internalWidth:1.87,internalLength:4.07}]}]},{id:"mercedes",name:"Mercedes-Benz",country:"Germany",models:[{id:"sprinter",name:"Sprinter",variants:[{id:"a0-standard",name:"Compact Standard Roof",height:2.37,width:1.99,length:5.27,weight:3.5,fuelConsumption:10,internalHeight:1.56,internalWidth:1.79,internalLength:2.6},{id:"a0-high",name:"Compact High Roof",height:2.69,width:1.99,length:5.27,weight:3.5,fuelConsumption:10.5,internalHeight:1.88,internalWidth:1.79,internalLength:2.6},{id:"a1-standard",name:"Standard Roof (Medium)",height:2.37,width:1.99,length:5.93,weight:3.5,fuelConsumption:10.5,internalHeight:1.56,internalWidth:1.79,internalLength:3.27},{id:"a1-high",name:"High Roof (Medium)",height:2.69,width:1.99,length:5.93,weight:3.5,fuelConsumption:11,internalHeight:1.88,internalWidth:1.79,internalLength:3.27},{id:"a1-superhigh",name:"Super High Roof (Medium)",height:2.97,width:1.99,length:5.93,weight:3.5,fuelConsumption:11.5,internalHeight:2.14,internalWidth:1.79,internalLength:3.27},{id:"a2-high",name:"High Roof (Long)",height:2.69,width:1.99,length:6.97,weight:3.5,fuelConsumption:12,internalHeight:1.88,internalWidth:1.79,internalLength:4.31},{id:"a2-superhigh",name:"Super High Roof (Long)",height:2.97,width:1.99,length:6.97,weight:4,fuelConsumption:12.5,internalHeight:2.14,internalWidth:1.79,internalLength:4.31},{id:"a3-high",name:"High Roof (XLong)",height:2.69,width:1.99,length:7.37,weight:4,fuelConsumption:13,internalHeight:1.88,internalWidth:1.79,internalLength:4.71},{id:"a3-superhigh",name:"Super High Roof (XLong)",height:2.97,width:1.99,length:7.37,weight:4.5,fuelConsumption:13.5,internalHeight:2.14,internalWidth:1.79,internalLength:4.71}]}]},{id:"volkswagen",name:"Volkswagen",country:"Germany",models:[{id:"crafter",name:"Crafter",variants:[{id:"short-normal",name:"Short Normal Roof",height:2.35,width:2.04,length:5.99,weight:3.5,fuelConsumption:10,internalHeight:1.63,internalWidth:1.83,internalLength:3.45},{id:"short-high",name:"Short High Roof",height:2.59,width:2.04,length:5.99,weight:3.5,fuelConsumption:10.5,internalHeight:1.86,internalWidth:1.83,internalLength:3.45},{id:"medium-normal",name:"Medium Normal Roof",height:2.35,width:2.04,length:6.84,weight:3.5,fuelConsumption:11,internalHeight:1.63,internalWidth:1.83,internalLength:4.3},{id:"medium-high",name:"Medium High Roof",height:2.59,width:2.04,length:6.84,weight:3.5,fuelConsumption:11.5,internalHeight:1.86,internalWidth:1.83,internalLength:4.3},{id:"long-normal",name:"Long Normal Roof",height:2.35,width:2.04,length:7.39,weight:4,fuelConsumption:12,internalHeight:1.63,internalWidth:1.83,internalLength:4.85},{id:"long-high",name:"Long High Roof",height:2.59,width:2.04,length:7.39,weight:4,fuelConsumption:12.5,internalHeight:1.86,internalWidth:1.83,internalLength:4.85}]},{id:"transporter",name:"Transporter (T6.1)",variants:[{id:"swb",name:"Short Wheelbase",height:1.99,width:1.9,length:4.9,weight:2.8,fuelConsumption:8.5,internalHeight:1.41,internalWidth:1.7,internalLength:2.57},{id:"lwb",name:"Long Wheelbase",height:1.99,width:1.9,length:5.3,weight:3,fuelConsumption:9,internalHeight:1.41,internalWidth:1.7,internalLength:2.97},{id:"lwb-high",name:"Long High Roof",height:2.48,width:1.9,length:5.3,weight:3,fuelConsumption:9.5,internalHeight:1.94,internalWidth:1.7,internalLength:2.97}]},{id:"california",name:"California",variants:[{id:"beach",name:"Beach",height:1.99,width:1.9,length:4.9,weight:3,fuelConsumption:9},{id:"coast",name:"Coast",height:1.99,width:1.9,length:4.9,weight:3.1,fuelConsumption:9.5},{id:"ocean",name:"Ocean",height:1.99,width:1.9,length:4.9,weight:3.1,fuelConsumption:9.5}]}]},{id:"ford",name:"Ford",country:"USA/Europe",models:[{id:"transit",name:"Transit",variants:[{id:"l2h2",name:"L2H2 (Short/Medium)",height:2.35,width:2.06,length:5.53,weight:3.3,fuelConsumption:10,internalHeight:1.78,internalWidth:1.79,internalLength:2.9},{id:"l2h3",name:"L2H3 (Short/High)",height:2.55,width:2.06,length:5.53,weight:3.5,fuelConsumption:10.5,internalHeight:1.98,internalWidth:1.79,internalLength:2.9},{id:"l3h2",name:"L3H2 (Medium/Medium)",height:2.35,width:2.06,length:5.98,weight:3.5,fuelConsumption:10.5,internalHeight:1.78,internalWidth:1.79,internalLength:3.34},{id:"l3h3",name:"L3H3 (Medium/High)",height:2.55,width:2.06,length:5.98,weight:3.5,fuelConsumption:11,internalHeight:1.98,internalWidth:1.79,internalLength:3.34},{id:"l4h2",name:"L4H2 (Long/Medium)",height:2.35,width:2.06,length:6.7,weight:4,fuelConsumption:11.5,internalHeight:1.78,internalWidth:1.79,internalLength:4.22},{id:"l4h3",name:"L4H3 (Long/High)",height:2.55,width:2.06,length:6.7,weight:4,fuelConsumption:12,internalHeight:1.98,internalWidth:1.79,internalLength:4.22}]},{id:"transit-custom",name:"Transit Custom",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:1.98,width:1.99,length:4.97,weight:2.8,fuelConsumption:7.5,internalHeight:1.41,internalWidth:1.54,internalLength:2.56},{id:"l1h2",name:"L1H2 (Short/High)",height:2.34,width:1.99,length:4.97,weight:2.9,fuelConsumption:8,internalHeight:1.78,internalWidth:1.54,internalLength:2.56},{id:"l2h1",name:"L2H1 (Long/Low)",height:1.98,width:1.99,length:5.34,weight:3,fuelConsumption:8,internalHeight:1.41,internalWidth:1.54,internalLength:2.93},{id:"l2h2",name:"L2H2 (Long/High)",height:2.34,width:1.99,length:5.34,weight:3.1,fuelConsumption:8.5,internalHeight:1.78,internalWidth:1.54,internalLength:2.93}]},{id:"nugget",name:"Transit Custom Nugget",variants:[{id:"standard",name:"Nugget",height:2.09,width:1.99,length:4.97,weight:3.1,fuelConsumption:8},{id:"plus",name:"Nugget Plus",height:2.09,width:1.99,length:5.34,weight:3.2,fuelConsumption:8.5}]}]},{id:"renault",name:"Renault",country:"France",models:[{id:"master",name:"Master",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:2.31,width:2.07,length:5.08,weight:3.3,fuelConsumption:10,internalHeight:1.66,internalWidth:1.77,internalLength:2.58},{id:"l1h2",name:"L1H2 (Short/Medium)",height:2.5,width:2.07,length:5.08,weight:3.5,fuelConsumption:10.5,internalHeight:1.85,internalWidth:1.77,internalLength:2.58},{id:"l2h2",name:"L2H2 (Medium/Medium)",height:2.5,width:2.07,length:5.55,weight:3.5,fuelConsumption:11,internalHeight:1.85,internalWidth:1.77,internalLength:3.08},{id:"l3h2",name:"L3H2 (Long/Medium)",height:2.5,width:2.07,length:6.2,weight:3.5,fuelConsumption:11.5,internalHeight:1.85,internalWidth:1.77,internalLength:3.73},{id:"l3h3",name:"L3H3 (Long/High)",height:2.75,width:2.07,length:6.2,weight:4,fuelConsumption:12,internalHeight:2.1,internalWidth:1.77,internalLength:3.73},{id:"l4h2",name:"L4H2 (XLong/Medium)",height:2.5,width:2.07,length:6.85,weight:4,fuelConsumption:12,internalHeight:1.85,internalWidth:1.77,internalLength:4.38},{id:"l4h3",name:"L4H3 (XLong/High)",height:2.75,width:2.07,length:6.85,weight:4.5,fuelConsumption:12.5,internalHeight:2.1,internalWidth:1.77,internalLength:4.38}]},{id:"trafic",name:"Trafic",variants:[{id:"l1h1",name:"L1H1 (Short/Standard)",height:1.97,width:1.96,length:4.99,weight:2.7,fuelConsumption:7.5,internalHeight:1.39,internalWidth:1.66,internalLength:2.54},{id:"l1h2",name:"L1H2 (Short/High)",height:2.5,width:1.96,length:4.99,weight:2.8,fuelConsumption:8,internalHeight:1.9,internalWidth:1.66,internalLength:2.54},{id:"l2h1",name:"L2H1 (Long/Standard)",height:1.97,width:1.96,length:5.4,weight:2.9,fuelConsumption:8,internalHeight:1.39,internalWidth:1.66,internalLength:2.94},{id:"l2h2",name:"L2H2 (Long/High)",height:2.5,width:1.96,length:5.4,weight:3,fuelConsumption:8.5,internalHeight:1.9,internalWidth:1.66,internalLength:2.94}]}]},{id:"man",name:"MAN",country:"Germany",models:[{id:"tge",name:"TGE",variants:[{id:"short-normal",name:"Short Normal Roof",height:2.35,width:2.04,length:5.99,weight:3.5,fuelConsumption:10,internalHeight:1.63,internalWidth:1.83,internalLength:3.45},{id:"short-high",name:"Short High Roof",height:2.59,width:2.04,length:5.99,weight:3.5,fuelConsumption:10.5,internalHeight:1.86,internalWidth:1.83,internalLength:3.45},{id:"medium-high",name:"Medium High Roof",height:2.59,width:2.04,length:6.84,weight:3.5,fuelConsumption:11.5,internalHeight:1.86,internalWidth:1.83,internalLength:4.3},{id:"long-high",name:"Long High Roof",height:2.59,width:2.04,length:7.39,weight:4,fuelConsumption:12.5,internalHeight:1.86,internalWidth:1.83,internalLength:4.85}]}]},{id:"opel",name:"Opel / Vauxhall",country:"Germany/UK",models:[{id:"movano",name:"Movano",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:2.31,width:2.07,length:5.08,weight:3.3,fuelConsumption:10,internalHeight:1.66,internalWidth:1.77,internalLength:2.58},{id:"l2h2",name:"L2H2 (Medium/Medium)",height:2.5,width:2.07,length:5.55,weight:3.5,fuelConsumption:11,internalHeight:1.85,internalWidth:1.77,internalLength:3.08},{id:"l3h2",name:"L3H2 (Long/Medium)",height:2.5,width:2.07,length:6.2,weight:3.5,fuelConsumption:11.5,internalHeight:1.85,internalWidth:1.77,internalLength:3.73},{id:"l3h3",name:"L3H3 (Long/High)",height:2.75,width:2.07,length:6.2,weight:4,fuelConsumption:12,internalHeight:2.1,internalWidth:1.77,internalLength:3.73},{id:"l4h3",name:"L4H3 (XLong/High)",height:2.75,width:2.07,length:6.85,weight:4.5,fuelConsumption:12.5,internalHeight:2.1,internalWidth:1.77,internalLength:4.38}]},{id:"vivaro",name:"Vivaro",variants:[{id:"l1",name:"L1 Standard",height:1.9,width:1.92,length:4.96,weight:2.7,fuelConsumption:7.5},{id:"l2",name:"L2 Long",height:1.9,width:1.92,length:5.31,weight:2.9,fuelConsumption:8}]}]},{id:"iveco",name:"Iveco",country:"Italy",models:[{id:"daily",name:"Daily",variants:[{id:"7.2",name:"7.2m³ (Short)",height:2.3,width:2.01,length:5,weight:3.5,fuelConsumption:10.5,internalHeight:1.55,internalWidth:1.8,internalLength:2.61},{id:"10.8",name:"10.8m³ (Medium)",height:2.55,width:2.01,length:5.55,weight:3.5,fuelConsumption:11.5,internalHeight:1.8,internalWidth:1.8,internalLength:3.16},{id:"12",name:"12m³ (Medium/High)",height:2.7,width:2.01,length:5.55,weight:3.5,fuelConsumption:12,internalHeight:1.95,internalWidth:1.8,internalLength:3.16},{id:"15.6",name:"15.6m³ (Long)",height:2.55,width:2.01,length:6.5,weight:4,fuelConsumption:12.5,internalHeight:1.8,internalWidth:1.8,internalLength:4.68},{id:"18",name:"18m³ (Long/High)",height:2.7,width:2.01,length:6.5,weight:4.5,fuelConsumption:13,internalHeight:1.95,internalWidth:1.8,internalLength:4.68}]}]}],ur=[{id:"vw-california",name:"VW California",make:"Volkswagen",base:"T6.1 California",height:1.99,width:1.9,length:4.9,weight:3,fuelConsumption:9.5},{id:"ford-nugget",name:"Ford Nugget",make:"Ford",base:"Transit Custom",height:2.09,width:1.99,length:4.97,weight:3.1,fuelConsumption:8},{id:"mercedes-marco-polo",name:"Mercedes Marco Polo",make:"Mercedes-Benz",base:"V-Class",height:2,width:1.93,length:5.14,weight:3.1,fuelConsumption:9.5},{id:"hymer-camper-van",name:"Hymer Camper Van",make:"Hymer",base:"Fiat Ducato L2H2",height:2.65,width:2.05,length:5.99,weight:3.5,fuelConsumption:12},{id:"adria-twin",name:"Adria Twin",make:"Adria",base:"Fiat Ducato L2H2",height:2.58,width:2.05,length:5.99,weight:3.3,fuelConsumption:11.5},{id:"possl-summit",name:"Pössl Summit",make:"Pössl",base:"Fiat Ducato L3H2",height:2.65,width:2.05,length:6.36,weight:3.5,fuelConsumption:12.5},{id:"hymer-b-class",name:"Hymer B-Class",make:"Hymer",base:"Mercedes Sprinter",height:2.95,width:2.3,length:7.49,weight:4.5,fuelConsumption:15},{id:"burstner-elegance",name:"Bürstner Elegance",make:"Bürstner",base:"Fiat Ducato",height:2.96,width:2.32,length:7.42,weight:4.4,fuelConsumption:14.5},{id:"carthago-c-tourer",name:"Carthago C-Tourer",make:"Carthago",base:"Fiat Ducato",height:2.9,width:2.3,length:6.99,weight:4,fuelConsumption:14},{id:"car-small-caravan",name:"Car + Small Caravan",make:"Various",base:"2-berth caravan",height:2.6,width:2.3,length:10,weight:3.5,fuelConsumption:10},{id:"car-medium-caravan",name:"Car + Medium Caravan",make:"Various",base:"4-berth caravan",height:2.65,width:2.3,length:12,weight:4,fuelConsumption:11.5},{id:"car-large-caravan",name:"Car + Large Caravan",make:"Various",base:"Twin-axle caravan",height:2.7,width:2.5,length:14,weight:5,fuelConsumption:13}];function pi(r){return ce.find(e=>e.id===r)?.models||[]}function Et(r,t){return ce.find(i=>i.id===r)?.models.find(i=>i.id===t)?.variants||[]}function fi(r,t,e){return Et(r,t).find(n=>n.id===e)}const yi=()=>c.jsxs("div",{className:"text-center space-y-6",children:[c.jsx("div",{className:"text-6xl",children:"🏕️"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Welcome to European Camper Trip Planner"}),c.jsx("p",{className:"text-neutral-600 max-w-md mx-auto",children:"Plan safe routes that respect your vehicle's size. Find campsites, calculate costs, and export to GPS."})]}),c.jsx("div",{className:"text-sm text-neutral-500",children:"Let's set up your vehicle and get you started with your first route."})]}),bi=({onVehicleSet:r,vehicleData:t,setVehicleData:e})=>{const n=t.makeId?pi(t.makeId):[],i=t.makeId&&t.modelId?Et(t.makeId,t.modelId):[],s=u=>{e({...t,makeId:u,modelId:"",variantId:"",vehicleName:""})},a=u=>{e({...t,modelId:u,variantId:"",vehicleName:""})},o=u=>{const m=i.find(p=>p.id===u);if(m){const p=ce.find(x=>x.id===t.makeId),f=p?.models.find(x=>x.id===t.modelId),y=`${p?.name} ${f?.name} ${m.name}`;e({...t,variantId:u,vehicleName:y,height:m.height,width:m.width,length:m.length,weight:m.weight})}},l=(u,m)=>{const p=parseFloat(m)||0;e({...t,[u]:p,vehicleName:t.vehicleName||"Custom Vehicle"})};C.useEffect(()=>{t.height>0&&t.width>0&&t.length>0&&t.weight>0&&r({id:"onboarding-vehicle",name:t.vehicleName||"Custom Vehicle",type:"motorhome",height:t.height,width:t.width,length:t.length,weight:t.weight,fuelType:"diesel",createdAt:new Date().toISOString()})},[t,r]);const d=ce.find(u=>u.id===t.makeId),h=d?.models.find(u=>u.id===t.modelId),g=i.find(u=>u.id===t.variantId);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-1",children:"Tell Us About Your Vehicle"}),c.jsx("p",{className:"text-neutral-600 text-sm",children:"Select your base vehicle to auto-fill dimensions"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Make"}),c.jsxs("select",{value:t.makeId,onChange:u=>s(u.target.value),className:"w-full px-3 py-2.5 border border-neutral-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white",children:[c.jsx("option",{value:"",children:"Select make..."}),ce.map(u=>c.jsxs("option",{value:u.id,children:[u.name," (",u.country,")"]},u.id))]})]}),t.makeId&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Model"}),c.jsxs("select",{value:t.modelId,onChange:u=>a(u.target.value),className:"w-full px-3 py-2.5 border border-neutral-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white",children:[c.jsx("option",{value:"",children:"Select model..."}),n.map(u=>c.jsx("option",{value:u.id,children:u.name},u.id))]})]}),t.modelId&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Size / Variant"}),c.jsxs("select",{value:t.variantId,onChange:u=>o(u.target.value),className:"w-full px-3 py-2.5 border border-neutral-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white",children:[c.jsx("option",{value:"",children:"Select variant..."}),i.map(u=>c.jsxs("option",{value:u.id,children:[u.name," (",u.length,"m × ",u.height,"m)"]},u.id))]})]}),g&&c.jsx("div",{className:"p-3 bg-primary-50 border border-primary-200 rounded-xl",children:c.jsxs("div",{className:"text-sm text-primary-800",children:[c.jsxs("strong",{children:[d?.name," ",h?.name," ",g.name]}),c.jsxs("div",{className:"text-primary-600 mt-1",children:[g.length,"m L × ",g.width,"m W × ",g.height,"m H • ",g.weight,"t"]})]})}),c.jsxs("div",{className:"bg-neutral-50 rounded-xl p-4 border border-neutral-200",children:[c.jsx("h3",{className:"font-medium text-neutral-900 mb-3 text-sm",children:g?"Fine-tune Dimensions":"Or Enter Dimensions Manually"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"Height (m)"}),c.jsx("input",{type:"number",step:"0.1",min:"1",max:"5",value:t.height,onChange:u=>l("height",u.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"Width (m)"}),c.jsx("input",{type:"number",step:"0.1",min:"1",max:"3.5",value:t.width,onChange:u=>l("width",u.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"Length (m)"}),c.jsx("input",{type:"number",step:"0.1",min:"2",max:"20",value:t.length,onChange:u=>l("length",u.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"Weight (tonnes)"}),c.jsx("input",{type:"number",step:"0.1",min:"0.5",max:"40",value:t.weight,onChange:u=>l("weight",u.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),c.jsx("p",{className:"text-xs text-neutral-500 mt-3",children:"💡 Include roof equipment (AC, solar panels, antenna) in height measurement."})]})]})},xi=({vehicleLength:r,databaseFuelConsumption:t,fuelData:e,setFuelData:n})=>{const[i,s]=C.useState(!1),a=l=>l<5?9:l<6?11:l<7?13:l<8?15:17,o=[{id:"diesel",name:"Diesel",icon:"⛽"},{id:"petrol",name:"Petrol",icon:"⛽"},{id:"lpg",name:"LPG",icon:"🔥"},{id:"electricity",name:"Electric",icon:"⚡"}];return C.useEffect(()=>{if(!i){const l=t??a(r);(e.consumption===0||e.consumption!==l)&&n({...e,consumption:l})}},[r,t]),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-1",children:"Fuel Settings"}),c.jsx("p",{className:"text-neutral-600 text-sm",children:"This helps us calculate your trip costs accurately."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Fuel Type"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map(l=>c.jsxs("button",{onClick:()=>n({...e,fuelType:l.id}),className:k("p-3 border-2 rounded-xl text-center transition-colors",e.fuelType===l.id?"border-primary-500 bg-primary-50":"border-neutral-200 hover:border-primary-300 hover:bg-neutral-50"),children:[c.jsx("span",{className:"text-lg",children:l.icon}),c.jsx("span",{className:"ml-2 text-sm font-medium",children:l.name})]},l.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Fuel Consumption"}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("input",{type:"number",step:"0.5",min:"3",max:"30",value:e.consumption,onChange:l=>{s(!0),n({...e,consumption:parseFloat(l.target.value)||0})},className:"flex-1 px-4 py-3 border border-neutral-300 rounded-md text-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),c.jsx("span",{className:"text-neutral-600 text-sm whitespace-nowrap",children:"L/100km"})]}),t&&!i&&c.jsx("p",{className:"text-xs text-primary-600 mt-1.5",children:"Auto-filled from vehicle database. Edit above to override."})]}),c.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-xl p-4",children:[c.jsx("h4",{className:"font-medium text-primary-900 mb-2 text-sm",children:"💡 Typical consumption values:"}),c.jsxs("ul",{className:"text-sm text-primary-800 space-y-1",children:[c.jsx("li",{children:"• Motorhome: 12-18 L/100km"}),c.jsx("li",{children:"• Camper Van: 8-12 L/100km"}),c.jsx("li",{children:"• Car + Caravan: 10-14 L/100km"}),c.jsx("li",{children:"• Car + Tent: 6-10 L/100km"})]})]})]})},wi=({onWaypointsAdded:r})=>{const{waypoints:t}=We();return C.useEffect(()=>{t.length>=2&&r()},[t.length,r]),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-1",children:"Try Adding Waypoints"}),c.jsx("p",{className:"text-neutral-600 text-sm",children:"Practice adding locations to plan your first route."})]}),c.jsxs("div",{className:"bg-neutral-100 rounded-xl p-4 text-center",children:[c.jsx("div",{className:"text-3xl mb-2",children:"🗺️ 🖱️"}),c.jsx("p",{className:"text-sm text-neutral-600",children:"Right-click (or long-press on mobile) on the map behind this dialog to add waypoints."})]}),c.jsxs("div",{className:"flex justify-center gap-6",children:[c.jsxs("div",{className:k("flex items-center gap-2 text-sm",t.length>=1?"text-green-600":"text-neutral-400"),children:[c.jsx("span",{className:k("w-6 h-6 rounded-full border-2 flex items-center justify-center text-xs font-bold",t.length>=1?"border-green-500 bg-green-50":"border-neutral-300"),children:t.length>=1?"✓":"1"}),c.jsx("span",{children:"Add start point"})]}),c.jsxs("div",{className:k("flex items-center gap-2 text-sm",t.length>=2?"text-green-600":"text-neutral-400"),children:[c.jsx("span",{className:k("w-6 h-6 rounded-full border-2 flex items-center justify-center text-xs font-bold",t.length>=2?"border-green-500 bg-green-50":"border-neutral-300"),children:t.length>=2?"✓":"2"}),c.jsx("span",{children:"Add destination"})]})]}),t.length===0&&c.jsx("p",{className:"text-center text-sm text-neutral-500",children:"💡 Right-click anywhere on the map to add your first waypoint"}),t.length===1&&c.jsx("p",{className:"text-center text-sm text-neutral-500",children:"👍 Great! Now right-click to add your destination"}),t.length>=2&&c.jsx("p",{className:"text-center text-sm text-green-600 font-medium",children:"✅ Perfect! Your route is ready. Click Continue to finish setup."})]})},vi=({vehicleData:r,fuelData:t})=>{const{waypoints:e,calculatedRoute:n}=We(),i=()=>r.vehicleName||"Custom Vehicle",s={diesel:"Diesel",petrol:"Petrol",lpg:"LPG",electricity:"Electric"},a=n?.routes?.[0]?.summary?.distance?n.routes[0].summary.distance/1e3:0,o=a/100*t.consumption,l=t.fuelType==="diesel"?1.65:1.75,d=o*l;return c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl mb-2",children:"✅"}),c.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"You're All Set!"}),c.jsx("p",{className:"text-neutral-600 text-sm",children:"Here's a summary of your setup"})]}),c.jsxs("div",{className:"bg-neutral-50 rounded-xl p-4 border border-neutral-200 space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-neutral-200",children:[c.jsx("span",{className:"text-sm text-neutral-600",children:"Vehicle"}),c.jsxs("span",{className:"text-sm font-medium",children:[i()," (",r.height,"m × ",r.width,"m × ",r.length,"m)"]})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-neutral-200",children:[c.jsx("span",{className:"text-sm text-neutral-600",children:"Weight"}),c.jsxs("span",{className:"text-sm font-medium",children:[r.weight," tonnes"]})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-neutral-200",children:[c.jsx("span",{className:"text-sm text-neutral-600",children:"Fuel"}),c.jsxs("span",{className:"text-sm font-medium",children:[s[t.fuelType]," @ ",t.consumption," L/100km"]})]}),e.length>=2&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-neutral-200",children:[c.jsx("span",{className:"text-sm text-neutral-600",children:"Route"}),c.jsxs("span",{className:"text-sm font-medium",children:[e.length," waypoints",a>0&&` • ${Math.round(a)} km`]})]}),d>0&&c.jsxs("div",{className:"flex justify-between items-center py-2",children:[c.jsx("span",{className:"text-sm text-neutral-600",children:"Est. Fuel Cost"}),c.jsxs("span",{className:"text-sm font-medium text-green-600",children:["€",d.toFixed(0)]})]})]})]}),c.jsxs("div",{className:"bg-primary-50 rounded-xl p-4 border border-primary-200",children:[c.jsx("h4",{className:"font-medium text-primary-900 mb-2 text-sm",children:"Quick Reference"}),c.jsxs("ul",{className:"text-sm text-primary-800 space-y-1",children:[c.jsxs("li",{children:["🗺️ ",c.jsx("strong",{children:"Right-click map"})," → Add waypoints"]}),c.jsxs("li",{children:["🏕️ ",c.jsx("strong",{children:"Green button"})," → Find campsites"]}),c.jsxs("li",{children:["⚡ ",c.jsx("strong",{children:"Lightning bolt"})," → Optimize route order"]}),c.jsxs("li",{children:["💾 ",c.jsx("strong",{children:"Briefcase icon"})," → Save your trip"]})]})]})]})},Si=({currentStep:r,totalSteps:t,steps:e})=>c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"text-sm font-medium text-neutral-700",children:["Step ",r+1," of ",t]}),c.jsxs("span",{className:"text-sm text-neutral-500",children:[Math.round((r+1)/t*100),"% complete"]})]}),c.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:c.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${(r+1)/t*100}%`}})}),c.jsx("div",{className:"flex justify-between mt-3",children:e.map((n,i)=>c.jsxs("div",{className:k("flex items-center space-x-1 text-xs",i<=r?"text-primary-600":"text-neutral-400"),children:[c.jsx("div",{className:k("w-2 h-2 rounded-full",i<r?"bg-primary-600":i===r?"bg-primary-600 animate-pulse":"bg-neutral-300")}),c.jsx("span",{className:"hidden sm:inline",children:n.title})]},n.id))})]}),Ci=({onComplete:r,onSkip:t,className:e})=>{const n=hi(),[i,s]=C.useState(0),a=mi(!0),[o,l]=C.useState({makeId:"",modelId:"",variantId:"",vehicleName:"",height:2.5,width:2,length:5.5,weight:2.8}),[d,h]=C.useState({fuelType:"diesel",consumption:0}),[g,u]=C.useState(!1),m=C.useMemo(()=>{if(o.makeId&&o.modelId&&o.variantId)return fi(o.makeId,o.modelId,o.variantId)?.fuelConsumption},[o.makeId,o.modelId,o.variantId]),{setProfile:p}=Rt(),{setFuelConsumptionSettings:f}=di(),{waypoints:y}=We();C.useEffect(()=>{y.length>=2&&u(!0)},[y.length]),C.useEffect(()=>{d.consumption>0&&f({consumptionType:"l_per_100km",consumption:d.consumption,fuelType:d.fuelType,tankCapacity:80})},[d,f]);const x=C.useCallback(T=>{p(T)},[p]),b=C.useCallback(()=>{u(!0)},[]),w=[{id:"welcome",title:"Welcome",description:"Introduction",content:c.jsx(yi,{}),canSkip:!0,canGoBack:!1},{id:"vehicle",title:"Vehicle",description:"Set up your vehicle",content:c.jsx(bi,{onVehicleSet:x,vehicleData:o,setVehicleData:l}),canSkip:!1,canGoBack:!0,validation:()=>o.height>0&&o.width>0&&o.length>0&&o.weight>0},{id:"fuel",title:"Fuel",description:"Fuel settings",content:c.jsx(xi,{vehicleLength:o.length,databaseFuelConsumption:m,fuelData:d,setFuelData:h}),canSkip:!0,canGoBack:!0,validation:()=>d.consumption>0},{id:"tutorial",title:"Try It",description:"Add waypoints",content:c.jsx(wi,{onWaypointsAdded:b}),canSkip:!0,canGoBack:!0,validation:()=>g||y.length>=2},{id:"summary",title:"Done",description:"Summary",content:c.jsx(vi,{vehicleData:o,fuelData:d}),canSkip:!1,canGoBack:!0}],v=w[i],N=C.useCallback(()=>{v.validation&&!v.validation()||(v.onComplete&&v.onComplete(),i<w.length-1?(s(i+1),n(`Step ${i+2}: ${w[i+1].title}`,"polite")):r())},[i,v,w,r,n]),j=C.useCallback(()=>{i>0&&(s(i-1),n(`Step ${i}: ${w[i-1].title}`,"polite"))},[i,w,n]),O=C.useCallback(()=>{t()},[t]);return C.useEffect(()=>{const T=G=>{G.key==="Escape"&&O()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[O]),c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{ref:a,className:k("bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[85vh] flex flex-col",e),...it.dialog("onboarding-dialog","onboarding-description"),children:[c.jsx("div",{className:"p-5 border-b border-neutral-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{id:"onboarding-dialog",className:"text-lg font-semibold text-neutral-900",children:"Getting Started"}),c.jsx("p",{id:"onboarding-description",className:"text-sm text-neutral-600",children:"Let's set up your trip planner"})]}),c.jsx("button",{onClick:O,className:"text-neutral-400 hover:text-neutral-600 transition-colors",...it.button(),"aria-label":"Close onboarding",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsxs("div",{className:"p-5 flex-1 overflow-y-auto",children:[c.jsx(Si,{currentStep:i,totalSteps:w.length,steps:w}),c.jsx("div",{children:v.content})]}),c.jsxs("div",{className:"p-5 border-t border-neutral-200 flex justify-between items-center",children:[c.jsx("div",{children:v.canSkip&&i<w.length-1&&c.jsx("button",{onClick:O,className:"text-sm text-neutral-500 hover:text-neutral-700 transition-colors",children:"Skip setup"})}),c.jsxs("div",{className:"flex space-x-3",children:[v.canGoBack&&i>0&&c.jsx("button",{onClick:j,className:"px-4 py-2 border border-neutral-300 rounded-md text-neutral-700 hover:bg-neutral-50 transition-colors",children:"Back"}),c.jsx("button",{onClick:N,disabled:v.validation&&!v.validation(),className:k("px-6 py-2 rounded-md font-medium transition-colors",v.validation&&!v.validation()?"bg-neutral-300 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 active:scale-[0.97]"),children:i===w.length-1?"Start Planning":"Continue"})]})]})]})})},S=r=>typeof r=="string",le=()=>{let r,t;const e=new Promise((n,i)=>{r=n,t=i});return e.resolve=r,e.reject=t,e},rt=r=>r==null?"":""+r,Li=(r,t,e)=>{r.forEach(n=>{t[n]&&(e[n]=t[n])})},Ni=/###/g,st=r=>r&&r.indexOf("###")>-1?r.replace(Ni,"."):r,at=r=>!r||S(r),de=(r,t,e)=>{const n=S(t)?t.split("."):t;let i=0;for(;i<n.length-1;){if(at(r))return{};const s=st(n[i]);!r[s]&&e&&(r[s]=new e),Object.prototype.hasOwnProperty.call(r,s)?r=r[s]:r={},++i}return at(r)?{}:{obj:r,k:st(n[i])}},ot=(r,t,e)=>{const{obj:n,k:i}=de(r,t,Object);if(n!==void 0||t.length===1){n[i]=e;return}let s=t[t.length-1],a=t.slice(0,t.length-1),o=de(r,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=de(r,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=e},ji=(r,t,e,n)=>{const{obj:i,k:s}=de(r,t,Object);i[s]=i[s]||[],i[s].push(e)},we=(r,t)=>{const{obj:e,k:n}=de(r,t);if(e)return e[n]},ki=(r,t,e)=>{const n=we(r,e);return n!==void 0?n:we(t,e)},Ot=(r,t,e)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in r?S(r[n])||r[n]instanceof String||S(t[n])||t[n]instanceof String?e&&(r[n]=t[n]):Ot(r[n],t[n],e):r[n]=t[n]);return r},Z=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ri={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ei=r=>S(r)?r.replace(/[&<>"'\/]/g,t=>Ri[t]):r;class Oi{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(e!==void 0)return e;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const Ii=[" ",",","?","!",";"],Pi=new Oi(20),Mi=(r,t,e)=>{t=t||"",e=e||"";const n=Ii.filter(a=>t.indexOf(a)<0&&e.indexOf(a)<0);if(n.length===0)return!0;const i=Pi.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(r);if(!s){const a=r.indexOf(e);a>0&&!i.test(r.substring(0,a))&&(s=!0)}return s},ze=function(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!r)return;if(r[t])return r[t];const n=t.split(e);let i=r;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=s;l<n.length;++l)if(l!==s&&(o+=e),o+=n[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;s+=l-s+1;break}i=a}return i},ve=r=>r&&r.replace("_","-"),Ti={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,t){console&&console[r]&&console[r].apply(console,t)}};class Se{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||Ti,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,n,i){return i&&!this.debug?null:(S(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new Se(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Se(this.logger,t)}}var F=new Se;class Ne{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(e)||0;this.observers[n].set(e,i+1)}),this}off(t,e){if(this.observers[t]){if(!e){delete this.observers[t];return}this.observers[t].delete(e)}}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(a=>{let[o,l]=a;for(let d=0;d<l;d++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let d=0;d<l;d++)o.apply(o,[t,...n])})}}class lt extends Ne{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,e],n&&(Array.isArray(n)?o.push(...n):S(n)&&s?o.push(...n.split(s)):o.push(n)));const l=we(this.data,o);return!l&&!e&&!n&&t.indexOf(".")>-1&&(t=o[0],e=o[1],n=o.slice(2).join(".")),l||!a||!S(n)?l:ze(this.data&&this.data[t]&&this.data[t][e],n,s)}addResource(t,e,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[t,e];n&&(o=o.concat(a?n.split(a):n)),t.indexOf(".")>-1&&(o=t.split("."),i=e,e=o[1]),this.addNamespaces(e),ot(this.data,o,i),s.silent||this.emit("added",t,e,n,i)}addResources(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(S(n[s])||Array.isArray(n[s]))&&this.addResource(t,e,s,n[s],{silent:!0});i.silent||this.emit("added",t,e,n)}addResourceBundle(t,e,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[t,e];t.indexOf(".")>-1&&(o=t.split("."),i=n,n=e,e=o[1]),this.addNamespaces(e);let l=we(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Ot(l,n,s):l={...l,...n},ot(this.data,o,l),a.silent||this.emit("added",t,e,n)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return this.getResource(t,e)!==void 0}getResourceBundle(t,e){return e||(e=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,e)}:this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find(i=>e[i]&&Object.keys(e[i]).length>0)}toJSON(){return this.data}}var It={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,t,e,n,i){return r.forEach(s=>{this.processors[s]&&(t=this.processors[s].process(t,e,n,i))}),t}};const ct={};class Ce extends Ne{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Li(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=F.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,e);return n&&n.res!==void 0}extractFromKey(t,e){let n=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator;let s=e.ns||this.options.defaultNS||[];const a=n&&t.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!Mi(t,n,i);if(a&&!o){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:S(s)?[s]:s};const d=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(d[0])>-1)&&(s=d.shift()),t=d.join(i)}return{key:t,namespaces:S(s)?[s]:s}}translate(t,e,n){if(typeof e!="object"&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),typeof e=="object"&&(e={...e}),e||(e={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=e.returnDetails!==void 0?e.returnDetails:this.options.returnDetails,s=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(t[t.length-1],e),l=o[o.length-1],d=e.lng||this.language,h=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(h){const v=e.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${v}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:`${l}${v}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:a}const g=this.resolve(t,e);let u=g&&g.res;const m=g&&g.usedKey||a,p=g&&g.exactUsedKey||a,f=Object.prototype.toString.apply(u),y=["[object Number]","[object Function]","[object RegExp]"],x=e.joinArrays!==void 0?e.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!S(u)&&typeof u!="boolean"&&typeof u!="number";if(b&&u&&w&&y.indexOf(f)<0&&!(S(x)&&Array.isArray(u))){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const v=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,u,{...e,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(g.res=v,g.usedParams=this.getUsedParamsDetails(e),g):v}if(s){const v=Array.isArray(u),N=v?[]:{},j=v?p:m;for(const O in u)if(Object.prototype.hasOwnProperty.call(u,O)){const T=`${j}${s}${O}`;N[O]=this.translate(T,{...e,joinArrays:!1,ns:o}),N[O]===T&&(N[O]=u[O])}u=N}}else if(b&&S(x)&&Array.isArray(u))u=u.join(x),u&&(u=this.extendTranslation(u,t,e,n));else{let v=!1,N=!1;const j=e.count!==void 0&&!S(e.count),O=Ce.hasDefaultValue(e),T=j?this.pluralResolver.getSuffix(d,e.count,e):"",G=e.ordinal&&j?this.pluralResolver.getSuffix(d,e.count,{ordinal:!1}):"",Q=j&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),z=Q&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${T}`]||e[`defaultValue${G}`]||e.defaultValue;!this.isValidLookup(u)&&O&&(v=!0,u=z),this.isValidLookup(u)||(N=!0,u=a);const pe=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:u,_=O&&z!==u&&this.options.updateMissing;if(N||v||_){if(this.logger.log(_?"updateKey":"missingKey",d,l,a,_?z:u),s){const P=this.resolve(a,{...e,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let P=0;P<D.length;P++)V.push(D[P]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(e.lng||this.language):V.push(e.lng||this.language);const re=(P,A,B)=>{const $=O&&B!==u?B:pe;this.options.missingKeyHandler?this.options.missingKeyHandler(P,l,A,$,_,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(P,l,A,$,_,e),this.emit("missingKey",P,l,A,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?V.forEach(P=>{const A=this.pluralResolver.getSuffixes(P,e);Q&&e[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(B=>{re([P],a+B,e[`defaultValue${B}`]||z)})}):re(V,a,z))}u=this.extendTranslation(u,t,e,g,n),N&&u===a&&this.options.appendNamespaceToMissingKey&&(u=`${l}:${a}`),(N||v)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?u=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,v?u:void 0):u=this.options.parseMissingKeyHandler(u))}return i?(g.res=u,g.usedParams=this.getUsedParamsDetails(e),g):u}extendTranslation(t,e,n,i,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=S(t)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const u=t.match(this.interpolator.nestingRegexp);h=u&&u.length}let g=n.replace&&!S(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),t=this.interpolator.interpolate(t,g,n.lng||this.language||i.usedLng,n),d){const u=t.match(this.interpolator.nestingRegexp),m=u&&u.length;h<m&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var u=arguments.length,m=new Array(u),p=0;p<u;p++)m[p]=arguments[p];return s&&s[0]===m[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${e[0]}`),null):a.translate(...m,e)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=S(o)?[o]:o;return t!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(t=It.handle(l,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,a,o;return S(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(l,e),h=d.key;i=h;let g=d.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const u=e.count!==void 0&&!S(e.count),m=u&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),p=e.context!==void 0&&(S(e.context)||typeof e.context=="number")&&e.context!=="",f=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);g.forEach(y=>{this.isValidLookup(n)||(o=y,!ct[`${f[0]}-${y}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(ct[`${f[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${f.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(x=>{if(this.isValidLookup(n))return;a=x;const b=[h];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,h,x,y,e);else{let v;u&&(v=this.pluralResolver.getSuffix(x,e.count,e));const N=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(b.push(h+v),e.ordinal&&v.indexOf(j)===0&&b.push(h+v.replace(j,this.options.pluralSeparator)),m&&b.push(h+N)),p){const O=`${h}${this.options.contextSeparator}${e.context}`;b.push(O),u&&(b.push(O+v),e.ordinal&&v.indexOf(j)===0&&b.push(O+v.replace(j,this.options.pluralSeparator)),m&&b.push(O+N))}}let w;for(;w=b.pop();)this.isValidLookup(n)||(s=w,n=this.getResource(x,y,w,e))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,i):this.resourceStore.getResource(t,e,n,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!S(t.replace);let i=n?t.replace:t;if(n&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of e)delete i[s]}return i}static hasDefaultValue(t){const e="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&t[n]!==void 0)return!0;return!1}}const Ie=r=>r.charAt(0).toUpperCase()+r.slice(1);class dt{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=F.create("languageUtils")}getScriptPartFromCode(t){if(t=ve(t),!t||t.indexOf("-")<0)return null;const e=t.split("-");return e.length===2||(e.pop(),e[e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(t){if(t=ve(t),!t||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(S(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(t)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const e=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ie(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ie(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ie(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach(n=>{if(e)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(e=i)}),!e&&this.options.supportedLngs&&t.forEach(n=>{if(e)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return e=i;e=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if(typeof t=="function"&&(t=t(e)),S(t)&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}toResolveHierarchy(t,e){const n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return S(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):S(t)&&s(this.formatLanguageCode(t)),n.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}let Ai=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],$i={1:r=>+(r>1),2:r=>+(r!=1),3:r=>0,4:r=>r%10==1&&r%100!=11?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,5:r=>r==0?0:r==1?1:r==2?2:r%100>=3&&r%100<=10?3:r%100>=11?4:5,6:r=>r==1?0:r>=2&&r<=4?1:2,7:r=>r==1?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,8:r=>r==1?0:r==2?1:r!=8&&r!=11?2:3,9:r=>+(r>=2),10:r=>r==1?0:r==2?1:r<7?2:r<11?3:4,11:r=>r==1||r==11?0:r==2||r==12?1:r>2&&r<20?2:3,12:r=>+(r%10!=1||r%100==11),13:r=>+(r!==0),14:r=>r==1?0:r==2?1:r==3?2:3,15:r=>r%10==1&&r%100!=11?0:r%10>=2&&(r%100<10||r%100>=20)?1:2,16:r=>r%10==1&&r%100!=11?0:r!==0?1:2,17:r=>r==1||r%10==1&&r%100!=11?0:1,18:r=>r==0?0:r==1?1:2,19:r=>r==1?0:r==0||r%100>1&&r%100<11?1:r%100>10&&r%100<20?2:3,20:r=>r==1?0:r==0||r%100>0&&r%100<20?1:2,21:r=>r%100==1?1:r%100==2?2:r%100==3||r%100==4?3:0,22:r=>r==1?0:r==2?1:(r<0||r>10)&&r%10==0?2:3};const Hi=["v1","v2","v3"],_i=["v4"],ut={zero:0,one:1,two:2,few:3,many:4,other:5},Fi=()=>{const r={};return Ai.forEach(t=>{t.lngs.forEach(e=>{r[e]={numbers:t.nr,plurals:$i[t.fc]}})}),r};class zi{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=F.create("pluralResolver"),(!this.options.compatibilityJSON||_i.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Fi(),this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=ve(t==="dev"?"en":t),i=e.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!t.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,e)}return this.pluralRulesCache[s]=a,a}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,e);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(i=>`${e}${i}`)}getSuffixes(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,e);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,s)=>ut[i]-ut[s]).map(i=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(t,i,e)):[]}getSuffix(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(e)}`:this.getSuffixRetroCompatible(i,e):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,e){const n=t.noAbs?t.plurals(e):t.plurals(Math.abs(e));let i=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Hi.includes(this.options.compatibilityJSON)}}const ht=function(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=ki(r,t,e);return!s&&i&&S(e)&&(s=ze(r,e,n),s===void 0&&(s=ze(t,e,n))),s},Pe=r=>r.replace(/\$/g,"$$$$");class Di{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=F.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(e=>e),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:e,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:d,unescapeSuffix:h,unescapePrefix:g,nestingPrefix:u,nestingPrefixEscaped:m,nestingSuffix:p,nestingSuffixEscaped:f,nestingOptionsSeparator:y,maxReplaces:x,alwaysFormat:b}=t.interpolation;this.escape=e!==void 0?e:Ei,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Z(s):a||"{{",this.suffix=o?Z(o):l||"}}",this.formatSeparator=d||",",this.unescapePrefix=h?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=u?Z(u):m||Z("$t("),this.nestingSuffix=p?Z(p):f||Z(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=x||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(e,n)=>e&&e.source===n?(e.lastIndex=0,e):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,n,i){let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const x=ht(e,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,n,{...i,...e,interpolationkey:m}):x}const p=m.split(this.formatSeparator),f=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(ht(e,l,f,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...i,...e,interpolationkey:f})};this.resetRegExp();const h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>Pe(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?Pe(this.escape(m)):Pe(m)}].forEach(m=>{for(o=0;s=m.regex.exec(t);){const p=s[1].trim();if(a=d(p),a===void 0)if(typeof h=="function"){const y=h(t,s,i);a=S(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,p))a="";else if(g){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),a="";else!S(a)&&!this.useRawValueToEscape&&(a=rt(a));const f=m.safeValue(a);if(t=t.replace(s[0],f),g?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,a;const o=(l,d)=>{const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const g=l.split(new RegExp(`${h}[ ]*{`));let u=`{${g[1]}`;l=g[0],u=this.interpolate(u,a);const m=u.match(/'/g),p=u.match(/"/g);(m&&m.length%2===0&&!p||p.length%2!==0)&&(u=u.replace(/'/g,'"'));try{a=JSON.parse(u),d&&(a={...d,...a})}catch(f){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,f),`${l}${h}${u}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];a={...n},a=a.replace&&!S(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let d=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const h=i[1].split(this.formatSeparator).map(g=>g.trim());i[1]=h.shift(),l=h,d=!0}if(s=e(o.call(this,i[1].trim(),a),a),s&&i[0]===t&&!S(s))return s;S(s)||(s=rt(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),d&&(s=l.reduce((h,g)=>this.format(h,g,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const Wi=r=>{let t=r.toLowerCase().trim();const e={};if(r.indexOf("(")>-1){const n=r.split("(");t=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);t==="currency"&&i.indexOf(":")<0?e.currency||(e.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?e.range||(e.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),d=l.join(":").trim().replace(/^'+|'+$/g,""),h=o.trim();e[h]||(e[h]=d),d==="false"&&(e[h]=!1),d==="true"&&(e[h]=!0),isNaN(d)||(e[h]=parseInt(d,10))}})}return{formatName:t,formatOptions:e}},ee=r=>{const t={};return(e,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=n+JSON.stringify(s);let o=t[a];return o||(o=r(ve(n),i),t[a]=o),o(e)}};class Vi{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=F.create("formatter"),this.options=t,this.formats={number:ee((e,n)=>{const i=new Intl.NumberFormat(e,{...n});return s=>i.format(s)}),currency:ee((e,n)=>{const i=new Intl.NumberFormat(e,{...n,style:"currency"});return s=>i.format(s)}),datetime:ee((e,n)=>{const i=new Intl.DateTimeFormat(e,{...n});return s=>i.format(s)}),relativetime:ee((e,n)=>{const i=new Intl.RelativeTimeFormat(e,{...n});return s=>i.format(s,n.range||"day")}),list:ee((e,n)=>{const i=new Intl.ListFormat(e,{...n});return s=>i.format(s)})},this.init(t)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=ee(e)}format(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=e.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{const{formatName:d,formatOptions:h}=Wi(l);if(this.formats[d]){let g=o;try{const u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=u.locale||u.lng||i.locale||i.lng||n;g=this.formats[d](o,m,{...h,...i,...u})}catch(u){this.logger.warn(u)}return g}else this.logger.warn(`there was no format function for ${d}`);return o},t)}}const Bi=(r,t)=>{r.pending[t]!==void 0&&(delete r.pending[t],r.pendingCount--)};class Ui extends Ne{constructor(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=F.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(t,e,n,i){const s={},a={},o={},l={};return t.forEach(d=>{let h=!0;e.forEach(g=>{const u=`${d}|${g}`;!n.reload&&this.store.hasResourceBundle(d,g)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?a[u]===void 0&&(a[u]=!0):(this.state[u]=1,h=!1,a[u]===void 0&&(a[u]=!0),s[u]===void 0&&(s[u]=!0),l[g]===void 0&&(l[g]=!0)))}),h||(o[d]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,e,n){const i=t.split("|"),s=i[0],a=i[1];e&&this.emit("failedLoading",s,a,e),!e&&n&&this.store.addResourceBundle(s,a,n,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2,e&&n&&(this.state[t]=0);const o={};this.queue.forEach(l=>{ji(l.loaded,[s],a),Bi(l,t),e&&l.errors.push(e),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(d=>{o[d]||(o[d]={});const h=l.loaded[d];h.length&&h.forEach(g=>{o[d][g]===void 0&&(o[d][g]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:e,fcName:n,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(d,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(d&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,e,n,i+1,s*2,a)},s);return}a(d,h)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const d=l(t,e);d&&typeof d.then=="function"?d.then(h=>o(null,h)).catch(o):o(null,d)}catch(d){o(d)}return}return l(t,e,o)}prepareLoading(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();S(t)&&(t=this.languageUtils.toResolveHierarchy(t)),S(e)&&(e=[e]);const s=this.queueLoad(t,e,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(t,e,n){this.prepareLoading(t,e,{},n)}reload(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}loadOne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${e}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${e}loaded namespace ${s} for language ${i}`,o),this.loaded(t,a,o)})}saveMissing(t,e,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)){this.logger.warn(`did not save key "${n}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:s},d=this.backend.create.bind(this.backend);if(d.length<6)try{let h;d.length===5?h=d(t,e,n,i,l):h=d(t,e,n,i),h&&typeof h.then=="function"?h.then(g=>o(null,g)).catch(o):o(null,h)}catch(h){o(h)}else d(t,e,n,i,o,l)}!t||!t[0]||this.store.addResource(t[0],e,n,i)}}}const gt=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let t={};if(typeof r[1]=="object"&&(t=r[1]),S(r[1])&&(t.defaultValue=r[1]),S(r[2])&&(t.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const e=r[3]||r[2];Object.keys(e).forEach(n=>{t[n]=e[n]})}return t},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),mt=r=>(S(r.ns)&&(r.ns=[r.ns]),S(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),S(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs&&r.supportedLngs.indexOf("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),r),be=()=>{},Ki=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(e=>{typeof r[e]=="function"&&(r[e]=r[e].bind(r))})};class he extends Ne{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=mt(t),this.services={},this.logger=F,this.modules={external:[]},Ki(this),e&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,e),this;setTimeout(()=>{this.init(t,e)},0)}}init(){var t=this;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),!e.defaultNS&&e.defaultNS!==!1&&e.ns&&(S(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=gt();this.options={...i,...this.options,...mt(e)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?F.init(s(this.modules.logger),this.options):F.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:typeof Intl<"u"&&(h=Vi);const g=new dt(this.options);this.store=new lt(this.options.resources,this.options);const u=this.services;u.logger=F,u.resourceStore=this.store,u.languageUtils=g,u.pluralResolver=new zi(g,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(u.formatter=s(h),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new Di(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new Ui(s(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(m){for(var p=arguments.length,f=new Array(p>1?p-1:0),y=1;y<p;y++)f[y-1]=arguments[y];t.emit(m,...f)}),this.modules.languageDetector&&(u.languageDetector=s(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=s(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new Ce(this.services,this.options),this.translator.on("*",function(m){for(var p=arguments.length,f=new Array(p>1?p-1:0),y=1;y<p;y++)f[y-1]=arguments[y];t.emit(m,...f)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=be),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return t.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return t.store[h](...arguments),t}});const l=le(),d=()=>{const h=(g,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(u),n(g,u)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),l}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:be;const i=S(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(d=>{d!=="cimode"&&s.indexOf(d)<0&&s.push(d)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(t,e,n){const i=le();return typeof t=="function"&&(n=t,t=void 0),typeof e=="function"&&(n=e,e=void 0),t||(t=this.languages),e||(e=this.options.ns),n||(n=be),this.services.backendConnector.reload(t,e,s=>{i.resolve(),n(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&It.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let e=0;e<this.languages.length;e++){const n=this.languages[e];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,e){var n=this;this.isLanguageChangingTo=t;const i=le();this.emit("languageChanging",t);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,d)=>{d?(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),e&&e(l,function(){return n.t(...arguments)})},o=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const d=S(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,h=>{a(h,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),i}getFixedT(t,e,n){var i=this;const s=function(a,o){let l;if(typeof o!="object"){for(var d=arguments.length,h=new Array(d>2?d-2:0),g=2;g<d;g++)h[g-2]=arguments[g];l=i.options.overloadTranslationOptionHandler([a,o].concat(h))}else l={...o};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||s.keyPrefix);const u=i.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(a)?m=a.map(p=>`${l.keyPrefix}${u}${p}`):m=l.keyPrefix?`${l.keyPrefix}${u}${a}`:a,i.t(m,l)};return S(t)?s.lng=t:s.lngs=t,s.ns=e,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=e.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const d=this.services.backendConnector.state[`${o}|${l}`];return d===-1||d===0||d===2};if(e.precheck){const o=e.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,t)&&(!i||a(s,t)))}loadNamespaces(t,e){const n=le();return this.options.ns?(S(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),e&&e(i)}),n):(e&&e(),Promise.resolve())}loadLanguages(t,e){const n=le();S(t)&&(t=[t]);const i=this.options.preload||[],s=t.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{n.resolve(),e&&e(a)}),n):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new dt(gt());return e.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new he(t,e)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:be;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},s=new he(i);return(t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new lt(this.store.data,i),s.services.resourceStore=s.store),s.translator=new Ce(s.services,i),s.translator.on("*",function(o){for(var l=arguments.length,d=new Array(l>1?l-1:0),h=1;h<l;h++)d[h-1]=arguments[h];s.emit(o,...d)}),s.init(i,e),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const M=he.createInstance();M.createInstance=he.createInstance;M.createInstance;M.dir;M.init;M.loadResources;M.reloadResources;M.use;M.changeLanguage;M.getFixedT;M.t;M.exists;M.setDefaultNamespace;M.hasLoadedNamespace;M.loadNamespaces;M.loadLanguages;const Gi={en:{translation:{nav:{planner:"Trip Planner",about:"About",help:"Help",settings:"Settings"},map:{title:"European Camper Trip Planner",addWaypoint:"Click map to add waypoint",removeWaypoint:"Remove waypoint",clearRoute:"Clear route",optimizeRoute:"Optimize route"},vehicle:{title:"Vehicle Profile",height:"Height (m)",width:"Width (m)",weight:"Weight (t)",length:"Length (m)",save:"Save Profile",clear:"Clear Profile"},route:{title:"Route Planning",distance:"Total Distance",duration:"Estimated Time",waypoints:"Waypoints",export:"Export Route",save:"Save Trip"},campsites:{title:"Campsites",campsite:"Campsite",aire:"Aire",parking:"Parking",filter:"Filter",showAll:"Show All"},actions:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",loading:"Loading...",error:"Error",success:"Success"},errors:{routeCalculation:"Failed to calculate route",vehicleValidation:"Invalid vehicle dimensions",networkError:"Network connection error",apiKeyMissing:"API key not configured"},success:{tripSaved:"Trip saved successfully",routeOptimized:"Route optimized",profileSaved:"Vehicle profile saved"}}}};M.use(nn).init({resources:Gi,lng:"en",fallbackLng:"en",supportedLngs:["en"],interpolation:{escapeValue:!1},defaultNS:"translation",debug:!1,react:{useSuspense:!1},saveMissing:!1,missingKeyHandler:(r,t,e)=>{}});const qi=ge.lazy(()=>me(()=>import("./PlannerPage-CarwcE0P.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),Ji=ge.lazy(()=>me(()=>import("./AboutPage-d1o1_P6B.js"),__vite__mapDeps([9,1,6,10,5,7]))),Qi=ge.lazy(()=>me(()=>import("./HelpPage-DFGwrBEr.js"),__vite__mapDeps([11,1,6,10,3,7]))),Yi=ge.lazy(()=>me(()=>import("./SettingsPage-qukowQ6w.js"),__vite__mapDeps([12,1,4,7]))),Xi=ge.lazy(()=>me(()=>import("./NotFoundPage-DAh1s8oq.js"),__vite__mapDeps([13,1,7]))),Zi=()=>{const r=pt(),{isLoading:t,error:e,sidebarOpen:n}=_e(),{showOnboarding:i,completeOnboarding:s,skipOnboarding:a}=ui();return c.jsx(ri,{children:c.jsxs("div",{className:"h-screen flex flex-col bg-neutral-50",children:[i&&r.pathname==="/"&&c.jsx(Ci,{onComplete:s,onSkip:a}),c.jsx(ii,{}),t&&c.jsx("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-3 flex items-center space-x-2",children:[c.jsx(tt,{size:"sm"}),c.jsx("span",{className:"text-sm text-neutral-600",children:"Loading..."})]})}),e&&c.jsx("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 z-50 max-w-md w-full mx-4",children:c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-red-800",children:e})}),c.jsx("div",{className:"ml-auto pl-3",children:c.jsxs("button",{className:"text-red-400 hover:text-red-600",onClick:()=>_e.getState().setError(null),children:[c.jsx("span",{className:"sr-only",children:"Dismiss"}),c.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})}),c.jsx(si,{sidebar:void 0,sidebarOpen:n,children:c.jsx(C.Suspense,{fallback:c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsx(tt,{size:"lg"})}),children:c.jsx(_t,{})})})]})})},er=$t([{path:"/",element:c.jsx(Zi,{}),children:[{index:!0,element:c.jsx(qi,{})},{path:"about",element:c.jsx(Ji,{})},{path:"help",element:c.jsx(Qi,{})},{path:"settings",element:c.jsx(Yi,{})},{path:"*",element:c.jsx(Xi,{})}]}],{basename:"/camper-planner"});function tr(){return c.jsx(Ht,{router:er})}Wt.createRoot(document.getElementById("root")).render(c.jsx(C.StrictMode,{children:c.jsx(tr,{})}));export{ur as M,Ye as R,ce as V,ar as a,k as b,hn as c,Rt as d,di as e,_e as f,or as g,pi as h,Et as i,c as j,ti as k,H as l,lr as m,cr as n,dr as o,ui as p,bt as q,sr as r,We as u};
