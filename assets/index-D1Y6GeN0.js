const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlannerPage-DG8VqSn6.js","assets/react-vendor-BKsxK57A.js","assets/map-vendor-F4U-KZbU.js","assets/triangle-alert-DYw3rxgl.js","assets/file-text-B1TCAAzH.js","assets/trash-2-DPIXIfZS.js","assets/zap-CC5TY6jT.js","assets/state-vendor-E9RzGJqF.js","assets/fuel-DK8y6WAN.js","assets/star-DGZJB3U0.js","assets/clock-BYBCM7c-.js","assets/download-BeIngjKG.js","assets/globe-CJS6Z_d8.js","assets/chevron-down-D-83emCf.js","assets/lightbulb-C_ZzYb7y.js","assets/PlannerPage-DdS04Ii9.css","assets/AboutPage-CkVDJWt6.js","assets/chevron-right-HgxmtkrK.js","assets/shield-6K4u_j_T.js","assets/HelpPage-BquLPjnZ.js","assets/SettingsPage-eCoEZ52l.js","assets/arrow-left-CnIHvw0f.js","assets/NotFoundPage-CB_9Bo5T.js","assets/SupportPage-cJfsLw2X.js","assets/chevron-left-DlIbCoo7.js","assets/PrivacyPolicyPage-DjBHBoMx.js","assets/TermsPage-BY7F1jlX.js","assets/AffiliateDisclosurePage-Df_CeZPI.js","assets/FeedbackPage-D8XXcCVq.js","assets/BlogListPage-BGe3p1qO.js","assets/SEOHead-q5IrAy78.js","assets/BlogPostPage-BfL6feYa.js"])))=>i.map(i=>d[i]);
var Vt=Object.defineProperty;var Ut=(n,t,e)=>t in n?Vt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var R=(n,t,e)=>Ut(n,typeof t!="symbol"?t+"":t,e);import{r as Kt,c as Wt,a as N,u as jt,L as A,R as D,d as Ht,e as qt,O as Gt}from"./react-vendor-BKsxK57A.js";import{c as ne}from"./state-vendor-E9RzGJqF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();var Ae={exports:{}},fe={};var Xe;function Jt(){if(Xe)return fe;Xe=1;var n=Kt(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,u){var c,p={},d=null,f=null;u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),l.ref!==void 0&&(f=l.ref);for(c in l)s.call(l,c)&&!i.hasOwnProperty(c)&&(p[c]=l[c]);if(o&&o.defaultProps)for(c in l=o.defaultProps,l)p[c]===void 0&&(p[c]=l[c]);return{$$typeof:t,type:o,key:d,ref:f,props:p,_owner:r.current}}return fe.Fragment=e,fe.jsx=a,fe.jsxs=a,fe}var et;function Yt(){return et||(et=1,Ae.exports=Jt()),Ae.exports}var h=Yt(),Ne={},tt;function Qt(){if(tt)return Ne;tt=1;var n=Wt();return Ne.createRoot=n.createRoot,Ne.hydrateRoot=n.hydrateRoot,Ne}var Zt=Qt();const Xt="modulepreload",es=function(n){return"/"+n},st={},z=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){let l=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");r=l(e.map(u=>{if(u=es(u),u in st)return;st[u]=!0;const c=u.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Xt,c||(d.as="script"),d.crossOrigin="",d.href=u,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((f,y)=>{d.addEventListener("load",f),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function ts(){if(console&&console.warn){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const nt={};function We(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];typeof t[0]=="string"&&nt[t[0]]||(typeof t[0]=="string"&&(nt[t[0]]=new Date),ts(...t))}const Et=(n,t)=>()=>{if(n.isInitialized)t();else{const e=()=>{setTimeout(()=>{n.off("initialized",e)},0),t()};n.on("initialized",e)}};function rt(n,t,e){n.loadNamespaces(t,Et(n,e))}function it(n,t,e,s){typeof e=="string"&&(e=[e]),e.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(t,Et(n,s))}function ss(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=t.languages[0],r=t.options?t.options.fallbackLng:!1,i=t.languages[t.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=t.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};return e.bindI18n&&e.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,n)?!1:!!(t.hasResourceBundle(s,n)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(s,n)&&(!r||a(i,n)))}function ns(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(We("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(n,{lng:e.lng,precheck:(r,i)=>{if(e.bindI18n&&e.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}):ss(n,t,e)}const rs=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,is={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},as=n=>is[n],os=n=>n.replace(rs,as);let He={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:os};function ls(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};He={...He,...n}}function cs(){return He}let Lt;function us(n){Lt=n}function ds(){return Lt}const hs={type:"3rdParty",init(n){ls(n.options.react),us(n)}},ps=N.createContext();class fs{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const gs=(n,t)=>{const e=N.useRef();return N.useEffect(()=>{e.current=n},[n,t]),e.current};function ms(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:e}=t,{i18n:s,defaultNS:r}=N.useContext(ps)||{},i=e||s||ds();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new fs),!i){We("You will need to pass in an i18next instance by using initReactI18next");const w=(k,j)=>typeof j=="string"?j:j&&typeof j=="object"&&typeof j.defaultValue=="string"?j.defaultValue:Array.isArray(k)?k[k.length-1]:k,S=[w,{},!1];return S.t=w,S.i18n={},S.ready=!1,S}i.options.react&&i.options.react.wait!==void 0&&We("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...cs(),...i.options.react,...t},{useSuspense:o,keyPrefix:l}=a;let u=r||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const c=(i.isInitialized||i.initializedStoreOnce)&&u.every(w=>ns(w,i,a));function p(){return i.getFixedT(t.lng||null,a.nsMode==="fallback"?u:u[0],l)}const[d,f]=N.useState(p);let y=u.join();t.lng&&(y=`${t.lng}${y}`);const m=gs(y),g=N.useRef(!0);N.useEffect(()=>{const{bindI18n:w,bindI18nStore:S}=a;g.current=!0,!c&&!o&&(t.lng?it(i,t.lng,u,()=>{g.current&&f(p)}):rt(i,u,()=>{g.current&&f(p)})),c&&m&&m!==y&&g.current&&f(p);function k(){g.current&&f(p)}return w&&i&&i.on(w,k),S&&i&&i.store.on(S,k),()=>{g.current=!1,w&&i&&w.split(" ").forEach(j=>i.off(j,k)),S&&i&&S.split(" ").forEach(j=>i.store.off(j,k))}},[i,y]);const x=N.useRef(!0);N.useEffect(()=>{g.current&&!x.current&&f(p),x.current=!1},[i,l]);const b=[d,i,c];if(b.t=d,b.i18n=i,b.ready=c,c||!c&&!o)return b;throw new Promise(w=>{t.lng?it(i,t.lng,u,()=>w()):rt(i,u,()=>w())})}const ys=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bs=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase()),at=n=>{const t=bs(n);return t.charAt(0).toUpperCase()+t.slice(1)},Rt=(...n)=>n.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim(),xs=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var vs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ws=N.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...o},l)=>N.createElement("svg",{ref:l,...vs,width:t,height:t,stroke:n,strokeWidth:s?Number(e)*24/Number(t):e,className:Rt("lucide",r),...!i&&!xs(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,c])=>N.createElement(u,c)),...Array.isArray(i)?i:[i]]));const _=(n,t)=>{const e=N.forwardRef(({className:s,...r},i)=>N.createElement(ws,{ref:i,iconNode:t,className:Rt(`lucide-${ys(at(n))}`,`lucide-${n}`,s),...r}));return e.displayName=at(n),e};const Ss=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Cs=_("arrow-right",Ss);const Ns=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ks=_("book-open",Ns);const js=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Es=_("briefcase",js);const Ls=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Rs=_("calculator",Ls);const Os=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ot=_("circle-check-big",Os);const Ps=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ot=_("external-link",Ps);const Ts=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],_s=_("heart",Ts);const Is=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],As=_("map-pin",Is);const Ms=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$s=_("message-square",Ms);const Ds=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],zs=_("navigation",Ds);const Fs=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],lt=_("route",Fs);const Bs=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vs=_("search",Bs);const Us=[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]],Ks=_("tent",Us);const Ws=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Hs=_("truck",Ws);const qs=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gs=_("wifi-off",qs);const Js=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Ys=_("wrench",Js);const Qs=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zs=_("x",Qs),Xs={BASIC_ROUTING:!0,CAMPSITE_DISPLAY:!0,ROUTE_OPTIMIZATION:!0,MULTI_LANGUAGE_COMPLETE:!1},qe={routing:{endpoints:{openrouteservice:"https://api.openrouteservice.org/v2",osrm:"https://router.project-osrm.org"}},campsites:{sources:{overpass:"https://overpass-api.de/api/interpreter"}}};function Pt(n){var t,e,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=Pt(n[t]))&&(s&&(s+=" "),s+=e)}else for(e in n)n[e]&&(s&&(s+=" "),s+=e);return s}function en(){for(var n,t,e=0,s="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=Pt(n))&&(s&&(s+=" "),s+=t);return s}const Ze="-",tn=n=>{const t=nn(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:a=>{const o=a.split(Ze);return o[0]===""&&o.length!==1&&o.shift(),Tt(o,t)||sn(a)},getConflictingClassGroupIds:(a,o)=>{const l=e[a]||[];return o&&s[a]?[...l,...s[a]]:l}}},Tt=(n,t)=>{if(n.length===0)return t.classGroupId;const e=n[0],s=t.nextPart.get(e),r=s?Tt(n.slice(1),s):void 0;if(r)return r;if(t.validators.length===0)return;const i=n.join(Ze);return t.validators.find(({validator:a})=>a(i))?.classGroupId},ct=/^\[(.+)\]$/,sn=n=>{if(ct.test(n)){const t=ct.exec(n)[1],e=t?.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},nn=n=>{const{theme:t,prefix:e}=n,s={nextPart:new Map,validators:[]};return an(Object.entries(n.classGroups),e).forEach(([i,a])=>{Ge(a,s,i,t)}),s},Ge=(n,t,e,s)=>{n.forEach(r=>{if(typeof r=="string"){const i=r===""?t:ut(t,r);i.classGroupId=e;return}if(typeof r=="function"){if(rn(r)){Ge(r(s),t,e,s);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([i,a])=>{Ge(a,ut(t,i),e,s)})})},ut=(n,t)=>{let e=n;return t.split(Ze).forEach(s=>{e.nextPart.has(s)||e.nextPart.set(s,{nextPart:new Map,validators:[]}),e=e.nextPart.get(s)}),e},rn=n=>n.isThemeGetter,an=(n,t)=>t?n.map(([e,s])=>{const r=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[e,r]}):n,on=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,s=new Map;const r=(i,a)=>{e.set(i,a),t++,t>n&&(t=0,s=e,e=new Map)};return{get(i){let a=e.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){e.has(i)?e.set(i,a):r(i,a)}}},_t="!",ln=n=>{const{separator:t,experimentalParseClassName:e}=n,s=t.length===1,r=t[0],i=t.length,a=o=>{const l=[];let u=0,c=0,p;for(let g=0;g<o.length;g++){let x=o[g];if(u===0){if(x===r&&(s||o.slice(g,g+i)===t)){l.push(o.slice(c,g)),c=g+i;continue}if(x==="/"){p=g;continue}}x==="["?u++:x==="]"&&u--}const d=l.length===0?o:o.substring(c),f=d.startsWith(_t),y=f?d.substring(1):d,m=p&&p>c?p-c:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:y,maybePostfixModifierPosition:m}};return e?o=>e({className:o,parseClassName:a}):a},cn=n=>{if(n.length<=1)return n;const t=[];let e=[];return n.forEach(s=>{s[0]==="["?(t.push(...e.sort(),s),e=[]):e.push(s)}),t.push(...e.sort()),t},un=n=>({cache:on(n.cacheSize),parseClassName:ln(n),...tn(n)}),dn=/\s+/,hn=(n,t)=>{const{parseClassName:e,getClassGroupId:s,getConflictingClassGroupIds:r}=t,i=[],a=n.trim().split(dn);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:c,hasImportantModifier:p,baseClassName:d,maybePostfixModifierPosition:f}=e(u);let y=!!f,m=s(y?d.substring(0,f):d);if(!m){if(!y){o=u+(o.length>0?" "+o:o);continue}if(m=s(d),!m){o=u+(o.length>0?" "+o:o);continue}y=!1}const g=cn(c).join(":"),x=p?g+_t:g,b=x+m;if(i.includes(b))continue;i.push(b);const w=r(m,y);for(let S=0;S<w.length;++S){const k=w[S];i.push(x+k)}o=u+(o.length>0?" "+o:o)}return o};function pn(){let n=0,t,e,s="";for(;n<arguments.length;)(t=arguments[n++])&&(e=It(t))&&(s&&(s+=" "),s+=e);return s}const It=n=>{if(typeof n=="string")return n;let t,e="";for(let s=0;s<n.length;s++)n[s]&&(t=It(n[s]))&&(e&&(e+=" "),e+=t);return e};function fn(n,...t){let e,s,r,i=a;function a(l){const u=t.reduce((c,p)=>p(c),n());return e=un(u),s=e.cache.get,r=e.cache.set,i=o,o(l)}function o(l){const u=s(l);if(u)return u;const c=hn(l,e);return r(l,c),c}return function(){return i(pn.apply(null,arguments))}}const L=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},At=/^\[(?:([a-z-]+):)?(.+)\]$/i,gn=/^\d+\/\d+$/,mn=new Set(["px","full","screen"]),yn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,vn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,W=n=>ue(n)||mn.has(n)||gn.test(n),G=n=>de(n,"length",Rn),ue=n=>!!n&&!Number.isNaN(Number(n)),Me=n=>de(n,"number",ue),ge=n=>!!n&&Number.isInteger(Number(n)),Sn=n=>n.endsWith("%")&&ue(n.slice(0,-1)),C=n=>At.test(n),J=n=>yn.test(n),Cn=new Set(["length","size","percentage"]),Nn=n=>de(n,Cn,Mt),kn=n=>de(n,"position",Mt),jn=new Set(["image","url"]),En=n=>de(n,jn,Pn),Ln=n=>de(n,"",On),me=()=>!0,de=(n,t,e)=>{const s=At.exec(n);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):e(s[2]):!1},Rn=n=>bn.test(n)&&!xn.test(n),Mt=()=>!1,On=n=>vn.test(n),Pn=n=>wn.test(n),Tn=()=>{const n=L("colors"),t=L("spacing"),e=L("blur"),s=L("brightness"),r=L("borderColor"),i=L("borderRadius"),a=L("borderSpacing"),o=L("borderWidth"),l=L("contrast"),u=L("grayscale"),c=L("hueRotate"),p=L("invert"),d=L("gap"),f=L("gradientColorStops"),y=L("gradientColorStopPositions"),m=L("inset"),g=L("margin"),x=L("opacity"),b=L("padding"),w=L("saturate"),S=L("scale"),k=L("sepia"),j=L("skew"),O=L("space"),X=L("translate"),he=()=>["auto","contain","none"],ie=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",C,t],E=()=>[C,t],Ce=()=>["",W,G],B=()=>["auto",ue,C],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",C],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[ue,C];return{cacheSize:500,separator:":",theme:{colors:[me],spacing:[W,G],blur:["none","",J,C],brightness:$(),borderColor:[n],borderRadius:["none","","full",J,C],borderSpacing:E(),borderWidth:Ce(),contrast:$(),grayscale:M(),hueRotate:$(),invert:M(),gap:E(),gradientColorStops:[n],gradientColorStopPositions:[Sn,G],inset:U(),margin:U(),opacity:$(),padding:E(),saturate:$(),scale:$(),sepia:M(),skew:$(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",C]}],container:["container"],columns:[{columns:[J]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),C]}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:he()}],"overscroll-x":[{"overscroll-x":he()}],"overscroll-y":[{"overscroll-y":he()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ge,C]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",C]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",ge,C]}],"grid-cols":[{"grid-cols":[me]}],"col-start-end":[{col:["auto",{span:["full",ge,C]},C]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[me]}],"row-start-end":[{row:["auto",{span:[ge,C]},C]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",C]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",C]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",C,t]}],"min-w":[{"min-w":[C,t,"min","max","fit"]}],"max-w":[{"max-w":[C,t,"none","full","min","max","fit","prose",{screen:[J]},J]}],h:[{h:[C,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[C,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[C,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[C,t,"auto","min","max","fit"]}],"font-size":[{text:["base",J,G]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Me]}],"font-family":[{font:[me]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",C]}],"line-clamp":[{"line-clamp":["none",ue,Me]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",W,C]}],"list-image":[{"list-image":["none",C]}],"list-style-type":[{list:["none","disc","decimal",C]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",W,G]}],"underline-offset":[{"underline-offset":["auto",W,C]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",C]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",C]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),kn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},En]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:K()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[W,C]}],"outline-w":[{outline:[W,G]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:Ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[W,G]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",J,Ln]}],"shadow-color":[{shadow:[me]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",J,C]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[p]}],saturate:[{saturate:[w]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",C]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",C]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",C]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ge,C]}],"translate-x":[{"translate-x":[X]}],"translate-y":[{"translate-y":[X]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",C]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",C]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",C]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[W,G,Me]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_n=fn(Tn);function P(...n){return _n(en(n))}const Ee={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ACSI_AFFILIATE_CODE:"your_acsi_affiliate_code",VITE_API_TIMEOUT:"10000",VITE_APP_ENV:"development",VITE_BOOKING_AFFILIATE_ID:"your_booking_affiliate_id",VITE_ORS_API_KEY:"5b3ce3597851110001cf6248a96ac2c424b94ce6b8b4be2a3074bdf3",VITE_PITCHUP_AFFILIATE_ID:"your_pitchup_affiliate_id"},Je=new Map,ke=n=>{const t=Je.get(n);return t?Object.fromEntries(Object.entries(t.stores).map(([e,s])=>[e,s.getState()])):{}},In=(n,t,e)=>{if(n===void 0)return{type:"untracked",connection:t.connect(e)};const s=Je.get(e.name);if(s)return{type:"tracked",store:n,...s};const r={connection:t.connect(e),stores:{}};return Je.set(e.name,r),{type:"tracked",store:n,...r}},An=(n,t={})=>(e,s,r)=>{const{enabled:i,anonymousActionType:a,store:o,...l}=t;let u;try{u=(i??(Ee?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(Ee?"production":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),n(e,s,r);const{connection:c,...p}=In(o,u,l);let d=!0;r.setState=(m,g,x)=>{const b=e(m,g);if(!d)return b;const w=x===void 0?{type:a||"anonymous"}:typeof x=="string"?{type:x}:x;return o===void 0?(c?.send(w,s()),b):(c?.send({...w,type:`${o}/${w.type}`},{...ke(l.name),[o]:r.getState()}),b)};const f=(...m)=>{const g=d;d=!1,e(...m),d=g},y=n(r.setState,s,r);if(p.type==="untracked"?c?.init(y):(p.stores[p.store]=r,c?.init(Object.fromEntries(Object.entries(p.stores).map(([m,g])=>[m,m===p.store?y:g.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){let m=!1;const g=r.dispatch;r.dispatch=(...x)=>{(Ee?"production":void 0)!=="production"&&x[0].type==="__setState"&&!m&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),m=!0),g(...x)}}return c.subscribe(m=>{var g;switch(m.type){case"ACTION":if(typeof m.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return $e(m.payload,x=>{if(x.type==="__setState"){if(o===void 0){f(x.state);return}Object.keys(x.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const b=x.state[o];if(b==null)return;JSON.stringify(r.getState())!==JSON.stringify(b)&&f(b);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(x)});case"DISPATCH":switch(m.payload.type){case"RESET":return f(y),o===void 0?c?.init(r.getState()):c?.init(ke(l.name));case"COMMIT":if(o===void 0){c?.init(r.getState());return}return c?.init(ke(l.name));case"ROLLBACK":return $e(m.state,x=>{if(o===void 0){f(x),c?.init(r.getState());return}f(x[o]),c?.init(ke(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return $e(m.state,x=>{if(o===void 0){f(x);return}JSON.stringify(r.getState())!==JSON.stringify(x[o])&&f(x[o])});case"IMPORT_STATE":{const{nextLiftedState:x}=m.payload,b=(g=x.computedStates.slice(-1)[0])==null?void 0:g.state;if(!b)return;f(o===void 0?b:b[o]),c?.send(null,x);return}case"PAUSE_RECORDING":return d=!d}return}}),y},re=An,$e=(n,t)=>{let e;try{e=JSON.parse(n)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}e!==void 0&&t(e)};function Mn(n,t){let e;try{e=n()}catch{return}return{getItem:r=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=e.getItem(r))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(r,i)=>e.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>e.removeItem(r)}}const we=n=>t=>{try{const e=n(t);return e instanceof Promise?e:{then(s){return we(s)(e)},catch(s){return this}}}catch(e){return{then(s){return this},catch(s){return we(s)(e)}}}},$n=(n,t)=>(e,s,r)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,x)=>({...x,...g}),...t},a=!1;const o=new Set,l=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return n((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),e(...g)},s,r);const c=we(i.serialize),p=()=>{const g=i.partialize({...s()});let x;const b=c({state:g,version:i.version}).then(w=>u.setItem(i.name,w)).catch(w=>{x=w});if(x)throw x;return b},d=r.setState;r.setState=(g,x)=>{d(g,x),p()};const f=n((...g)=>{e(...g),p()},s,r);let y;const m=()=>{var g;if(!u)return;a=!1,o.forEach(b=>b(s()));const x=((g=i.onRehydrateStorage)==null?void 0:g.call(i,s()))||void 0;return we(u.getItem.bind(u))(i.name).then(b=>{if(b)return i.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return i.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var w;return y=i.merge(b,(w=s())!=null?w:f),e(y,!0),p()}).then(()=>{x?.(y,void 0),a=!0,l.forEach(b=>b(y))}).catch(b=>{x?.(void 0,b)})};return r.persist={setOptions:g=>{i={...i,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},m(),y||f},Dn=(n,t)=>(e,s,r)=>{let i={storage:Mn(()=>localStorage),partialize:m=>m,version:0,merge:(m,g)=>({...g,...m}),...t},a=!1;const o=new Set,l=new Set;let u=i.storage;if(!u)return n((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),e(...m)},s,r);const c=()=>{const m=i.partialize({...s()});return u.setItem(i.name,{state:m,version:i.version})},p=r.setState;r.setState=(m,g)=>{p(m,g),c()};const d=n((...m)=>{e(...m),c()},s,r);r.getInitialState=()=>d;let f;const y=()=>{var m,g;if(!u)return;a=!1,o.forEach(b=>{var w;return b((w=s())!=null?w:d)});const x=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(m=s())!=null?m:d))||void 0;return we(u.getItem.bind(u))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var w;const[S,k]=b;if(f=i.merge(k,(w=s())!=null?w:d),e(f,!0),S)return c()}).then(()=>{x?.(f,void 0),f=s(),a=!0,l.forEach(b=>b(f))}).catch(b=>{x?.(void 0,b)})};return r.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:m=>(o.add(m),()=>{o.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},i.skipHydration||y(),f||d},zn=(n,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Ee?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),$n(n,t)):Dn(n,t),_e=zn;class $t{constructor(t,e){R(this,"config");R(this,"cache");R(this,"rateLimitState");R(this,"rateLimit");this.config=t,this.cache=new Map,this.rateLimitState=new Map,this.rateLimit=e,this.startCacheCleanup()}async request(t){this.rateLimit.enabled&&await this.checkRateLimit();const e=this.generateCacheKey(t);if(this.config.cacheEnabled&&!t.skipCache){const r=this.getFromCache(e);if(r)return r}const s=await this.makeHttpRequest(t);return this.config.cacheEnabled&&!t.skipCache&&this.setCache(e,s),s}async makeHttpRequest(t){const{method:e,endpoint:s,params:r,headers:i={},body:a}=t,o=t.customTimeout||this.config.timeout;let l=`${this.config.baseUrl}${s}`;if(e==="GET"&&r){const d=new URLSearchParams;Object.entries(r).forEach(([f,y])=>{y!=null&&d.append(f,String(y))}),d.toString()&&(l+=`?${d.toString()}`)}const u={"Content-Type":"application/json",...i};this.config.userAgent&&(u["User-Agent"]=this.config.userAgent),this.config.apiKey&&(u.Authorization=`Bearer ${this.config.apiKey}`);const c={method:e,headers:u,signal:AbortSignal.timeout(o)};if(e!=="GET"&&a){const d=u["Content-Type"]||u["content-type"];d&&d.includes("text/plain")?c.body=a:c.body=JSON.stringify(a)}let p;for(let d=0;d<=this.config.retries;d++)try{const f=await fetch(l,c);if(!f.ok)throw new Error(`HTTP ${f.status}: ${f.statusText}`);const y=f.headers.get("content-type");return y&&y.includes("application/json")?await f.json():await f.text()}catch(f){if(p=f,f instanceof Error){if(f.name==="AbortError")throw new Error(`Request timeout after ${o}ms`);if(f.message.includes("HTTP 4")&&!f.message.includes("HTTP 429"))throw f}if(d<this.config.retries){const y=Math.pow(2,d)*1e3;await new Promise(m=>setTimeout(m,y))}}throw p}classifyError(t,e){const s=t.message.toLowerCase();if(t.name==="AbortError"||s.includes("timeout"))return{type:"timeout",message:`Request timed out${e?` while ${e}`:""}`,originalError:t,suggestion:"The service is taking too long to respond. Please try again or zoom in to search a smaller area.",retryable:!0};if(s.includes("failed to fetch")||s.includes("network"))return{type:"network",message:`Network connection failed${e?` while ${e}`:""}`,originalError:t,suggestion:"Please check your internet connection and try again.",retryable:!0};if(s.includes("rate limit"))return{type:"rate_limit",message:`Too many requests${e?` while ${e}`:""}`,originalError:t,suggestion:t.message.includes("wait")?t.message:"Please wait a moment before trying again.",retryable:!0};if(s.includes("http 5"))return{type:"server",message:`Service temporarily unavailable${e?` while ${e}`:""}`,originalError:t,suggestion:"The service is experiencing issues. Please try again in a few moments.",retryable:!0};if(s.includes("http 4")){const r=s.includes("404");return s.includes("429")?{type:"rate_limit",message:`Too many requests${e?` while ${e}`:""}`,originalError:t,suggestion:"Please wait a moment before searching again.",retryable:!0}:{type:"client",message:r?`No data found${e?` while ${e}`:""}`:`Request failed${e?` while ${e}`:""}`,originalError:t,suggestion:r?"Try searching a different location or zooming out to see more results.":"Please check your request and try again.",retryable:!1}}return{type:"unknown",message:`Something went wrong${e?` while ${e}`:""}`,originalError:t,suggestion:"Please try again. If the problem persists, try refreshing the page.",retryable:!0}}async checkRateLimit(){const t=Date.now(),e="default",s=this.rateLimitState.get(e)||{count:0,resetTime:t+this.rateLimit.windowMs};if(t>s.resetTime&&(s.count=0,s.resetTime=t+this.rateLimit.windowMs),s.count>=this.rateLimit.requests){const r=s.resetTime-t;throw new Error(`Rate limit exceeded. Please wait ${Math.ceil(r/1e3)} seconds.`)}s.count++,this.rateLimitState.set(e,s)}generateCacheKey(t){const{method:e,endpoint:s,params:r,body:i}=t,a=[e,s];return r&&a.push(JSON.stringify(r)),i&&a.push(JSON.stringify(i)),a.join("|")}getFromCache(t){const e=this.cache.get(t);return e?Date.now()>e.timestamp+e.ttl?(this.cache.delete(t),null):e.data:null}setCache(t,e,s){const r=s||this.config.cacheTtl,i={data:e,timestamp:Date.now(),ttl:r};this.cache.set(t,i)}clearCache(){this.cache.clear()}getCacheStats(){const t=Date.now(),e=Array.from(this.cache.entries()).map(([s,r])=>({key:s,size:JSON.stringify(r.data).length,age:t-r.timestamp}));return{size:this.cache.size,entries:e}}startCacheCleanup(){setInterval(()=>{const t=Date.now();for(const[e,s]of this.cache.entries())t>s.timestamp+s.ttl&&this.cache.delete(e)},6e4)}getServiceInfo(){return{name:this.constructor.name,baseUrl:this.config.baseUrl,cacheSize:this.cache.size}}}class F extends Error{constructor(e,s,r,i=!0){super(e);R(this,"code");R(this,"service");R(this,"recoverable");this.name="RoutingError",this.code=s,this.service=r,this.recoverable=i}}class Dt extends $t{constructor(){const e={baseUrl:qe.routing.endpoints.openrouteservice,timeout:15e3,retries:2,cacheEnabled:!0,cacheTtl:36e5,userAgent:"EuropeanCamperPlanner/1.0",apiKey:"5b3ce3597851110001cf6248a96ac2c424b94ce6b8b4be2a3074bdf3"},s={requests:2e3,windowMs:1440*60*1e3,enabled:!0};super(e,s);R(this,"fallbackService");this.initializeFallbackService()}async calculateRoute(e){try{this.validateRouteRequest(e);const s=e.vehicleProfile?this.validateVehicleRestrictions(e.vehicleProfile):null;if(s?.cannotAccommodate)return{id:`restriction_blocked_${Date.now()}`,status:"error",routes:[],metadata:{service:"openrouteservice",profile:this.determineProfile(e.vehicleProfile,e.options?.profile),timestamp:Date.now(),query:e,attribution:"Vehicle restriction validation"},errors:["Vehicle dimensions exceed EU road limits"],restrictions:s};const r={...e,options:{...e.options,alternative_routes:!0,elevation:!0,geometry:!0,instructions:!0}},i=await this.calculateRouteWithORS(r);return s&&(i.restrictions=s,i.warnings=[...i.warnings||[],...s.suggestedActions]),i}catch(s){if(s instanceof F&&!s.recoverable)throw s;console.error("OpenRouteService failed, trying fallback:",s);try{const r=await this.calculateRouteWithOSRM(e),i=["Primary routing service unavailable, using fallback"];return e.vehicleProfile&&(i.push("⚠️ Vehicle restrictions not supported by fallback service"),i.push("Route may include roads unsuitable for your vehicle")),{...r,warnings:i}}catch(r){throw console.error("Fallback routing service also failed:",r),new F("All routing services are currently unavailable","SERVICE_UNAVAILABLE","all",!1)}}}async calculateRouteWithORS(e){const{waypoints:s,vehicleProfile:r,options:i={}}=e,a=s.map(p=>[p.lng,p.lat]),o=this.determineProfile(r,i.profile),l={coordinates:a,format:"geojson",geometry:i.geometry!==!1,instructions:i.instructions!==!1,elevation:i.elevation||!1};r&&(l.height=r.height,l.width=r.width,l.weight=r.weight,l.length=r.length,l.axleload=Math.round(r.weight/2*10)/10,l.hazmat=!1,l.surface_type="any"),i.alternative_routes!==!1&&(l.alternative_routes={target_count:2,weight_factor:1.4,share_factor:.6}),i.avoidFeatures&&i.avoidFeatures.length>0&&(l.avoid_features=i.avoidFeatures);const u={method:"POST",endpoint:`/directions/${o}/geojson`,body:l,headers:{Accept:"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8"}},c=await this.request(u);return this.transformORSResponse(c,e)}async calculateRouteWithOSRM(e){const{waypoints:s}=e,r=s.map(u=>`${u.lng},${u.lat}`).join(";"),i={overview:"full",geometries:"geojson",steps:"true",annotations:"true"},a={method:"GET",endpoint:`/route/v1/driving/${r}`,params:i},o={baseUrl:qe.routing.endpoints.osrm,timeout:1e4,retries:1,cacheEnabled:!0,cacheTtl:18e5,userAgent:"EuropeanCamperPlanner/1.0"},l=this.config;this.config=o;try{const u=await this.request(a);return this.transformOSRMResponse(u,e)}finally{this.config=l}}validateVehicleRestrictions(e){const s={violatedDimensions:[],restrictedSegments:[],cannotAccommodate:!1,suggestedActions:[]},r={height:4,width:2.55,weight:40,length:18.75};return e.height>r.height&&(s.violatedDimensions.push("height"),s.suggestedActions.push(`Vehicle height ${e.height}m exceeds EU limit of ${r.height}m`)),e.width>r.width&&(s.violatedDimensions.push("width"),s.suggestedActions.push(`Vehicle width ${e.width}m exceeds EU limit of ${r.width}m`)),e.weight>r.weight&&(s.violatedDimensions.push("weight"),s.suggestedActions.push(`Vehicle weight ${e.weight}t exceeds EU limit of ${r.weight}t`)),e.length>r.length&&(s.violatedDimensions.push("length"),s.suggestedActions.push(`Vehicle length ${e.length}m exceeds EU limit of ${r.length}m`)),s.cannotAccommodate=s.violatedDimensions.length>0,s.violatedDimensions.length>0?s:null}validateRouteRequest(e){const{waypoints:s,vehicleProfile:r}=e;if(!s||s.length<2)throw new F("At least 2 waypoints are required","INVALID_WAYPOINTS","validation",!1);if(s.length>50)throw new F("Maximum 50 waypoints allowed","TOO_MANY_WAYPOINTS","validation",!1);for(const i of s)if(i.lat<-90||i.lat>90||i.lng<-180||i.lng>180)throw new F(`Invalid coordinates: ${i.lat}, ${i.lng}`,"INVALID_COORDINATES","validation",!1);if(r){if(r.height<=0||r.height>4.5)throw new F("Vehicle height must be between 0 and 4.5 meters","INVALID_VEHICLE","validation",!1);if(r.width<=0||r.width>3)throw new F("Vehicle width must be between 0 and 3.0 meters","INVALID_VEHICLE","validation",!1);if(r.weight<=0||r.weight>40)throw new F("Vehicle weight must be between 0 and 40 tonnes","INVALID_VEHICLE","validation",!1);if(r.length<=0||r.length>20)throw new F("Vehicle length must be between 0 and 20 meters","INVALID_VEHICLE","validation",!1)}}determineProfile(e,s){return s||(e&&(e.height>2.5||e.width>2.2||e.weight>3.5||e.length>7)?"driving-hgv":"driving-car")}transformORSResponse(e,s){const r=e.features||[];if(r.length===0)throw new F("No route found","NO_ROUTE","openrouteservice",!0);const i=r[0],a={geometry:i.geometry,summary:{distance:i.properties.summary.distance,duration:i.properties.summary.duration},segments:i.properties.segments||[],waypoints:i.properties.way_points||[]},o=r.slice(1).map(u=>({geometry:u.geometry,summary:{distance:u.properties.summary.distance,duration:u.properties.summary.duration},segments:u.properties.segments||[],waypoints:u.properties.way_points||[]})),l=[];if(s.vehicleProfile&&a.summary.distance===0&&l.push("Route calculation returned empty result - vehicle may not fit on available roads"),o.length>0){const u=a.summary.distance;Math.min(...o.map(p=>p.summary.distance))>u*1.5&&l.push("Alternative routes are significantly longer - possible vehicle restrictions on main route")}return{id:`ors_${Date.now()}`,status:"success",routes:[a],alternativeRoutes:o,metadata:{service:"openrouteservice",profile:this.determineProfile(s.vehicleProfile,s.options?.profile),timestamp:Date.now(),query:s,attribution:"openrouteservice.org | OpenStreetMap contributors"},warnings:l.length>0?l:void 0}}transformOSRMResponse(e,s){const r=e.routes[0];if(!r)throw new F("No route found","NO_ROUTE","osrm",!0);const i={geometry:r.geometry,summary:{distance:r.distance,duration:r.duration},segments:r.legs||[],waypoints:e.waypoints?.map((a,o)=>o)||[]};return{id:`osrm_${Date.now()}`,status:"success",routes:[i],metadata:{service:"osrm",profile:"driving",timestamp:Date.now(),query:s,attribution:"OpenStreetMap contributors | OSRM"},warnings:["Using fallback routing service (vehicle restrictions not supported)"]}}initializeFallbackService(){this.fallbackService=void 0}async healthCheck(){try{const e={method:"GET",endpoint:"/health",skipCache:!0,customTimeout:5e3};return await this.request(e),!0}catch(e){return console.error("OpenRouteService health check failed:",e),!1}}getServiceStatus(){const e=this.rateLimitState.get("default")||{count:0,resetTime:Date.now()};return{primary:{name:"OpenRouteService",healthy:!0,cacheSize:this.cache.size},fallback:{name:"OSRM",available:!0},rateLimitInfo:{remaining:Math.max(0,this.rateLimit.requests-e.count),resetTime:e.resetTime}}}}const Zr=new Dt;class Fn{constructor(){R(this,"dbName","CampsiteCache");R(this,"version",1);R(this,"storeName","campsites");R(this,"db",null)}async initialize(){return new Promise((t,e)=>{const s=indexedDB.open(this.dbName,this.version);s.onerror=()=>e(new Error("Failed to open IndexedDB")),s.onsuccess=()=>{this.db=s.result,t()},s.onupgradeneeded=r=>{const i=r.target.result;if(!i.objectStoreNames.contains(this.storeName)){const a=i.createObjectStore(this.storeName,{keyPath:"id"});a.createIndex("lat","lat",{unique:!1}),a.createIndex("lng","lng",{unique:!1}),a.createIndex("type","type",{unique:!1}),a.createIndex("last_updated","last_updated",{unique:!1}),a.createIndex("bounds",["lat","lng"],{unique:!1})}i.objectStoreNames.contains("cache_metadata")||i.createObjectStore("cache_metadata",{keyPath:"key"}).createIndex("timestamp","timestamp",{unique:!1})}})}async getCampsitesInBounds(t){return this.db||await this.initialize(),new Promise((e,s)=>{const i=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName),a=[],o=i.openCursor();o.onsuccess=l=>{const u=l.target.result;if(u){const c=u.value;c.lat>=t.south&&c.lat<=t.north&&c.lng>=t.west&&c.lng<=t.east&&a.push(c),u.continue()}else e(a)},o.onerror=()=>s(new Error("Failed to query campsites from cache"))})}async storeCampsites(t){return this.db||await this.initialize(),new Promise((e,s)=>{const i=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName);let a=0;const o=t.length;if(o===0){e();return}for(const l of t){const u=i.put(l);u.onsuccess=()=>{a++,a===o&&e()},u.onerror=()=>s(new Error("Failed to store campsite in cache"))}})}async getCacheMetadata(t){return this.db||await this.initialize(),new Promise((e,s)=>{const a=this.db.transaction(["cache_metadata"],"readonly").objectStore("cache_metadata").get(t);a.onsuccess=()=>e(a.result?.data),a.onerror=()=>s(new Error("Failed to get cache metadata"))})}async setCacheMetadata(t,e){return this.db||await this.initialize(),new Promise((s,r)=>{const o=this.db.transaction(["cache_metadata"],"readwrite").objectStore("cache_metadata").put({key:t,data:e,timestamp:Date.now()});o.onsuccess=()=>s(),o.onerror=()=>r(new Error("Failed to set cache metadata"))})}async clearExpiredCache(t=1440*60*1e3){this.db||await this.initialize();const e=Date.now()-t;return new Promise((s,r)=>{const o=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).index("last_updated"),l=IDBKeyRange.upperBound(e),u=o.openCursor(l);u.onsuccess=c=>{const p=c.target.result;p?(p.delete(),p.continue()):s()},u.onerror=()=>r(new Error("Failed to clear expired cache"))})}}class Bn extends $t{constructor(){const e={baseUrl:qe.campsites.sources.overpass,timeout:3e4,retries:1,cacheEnabled:!1,cacheTtl:0,userAgent:"EuropeanCamperPlanner/1.0"};super(e,{requests:2,windowMs:1e3,enabled:!0});R(this,"cacheManager");R(this,"_fallbackService");R(this,"activeRequests",new Map);R(this,"lastNominatimRequest",0);this.cacheManager=new Fn,this.initializeFallbackService(),this.initializeCache()}async geocodeLocationMultiple(e,s=5){try{const i=Date.now()-this.lastNominatimRequest;i<1100&&await new Promise(p=>setTimeout(p,1100-i)),this.lastNominatimRequest=Date.now();const a=new URLSearchParams({q:e,format:"json",limit:String(s),addressdetails:"1",extratags:"1",namedetails:"1",countrycodes:"gb,ie,fr,de,es,pt,it,nl,be,at,ch,dk,no,se,fi,pl,cz,hr,si,gr,hu,sk,ro,bg,ee,lv,lt,lu,mt,cy"}),l=!1?`/api/geocode?${a.toString()}`:`https://nominatim.openstreetmap.org/search?${a.toString()}`,u=await fetch(l,{method:"GET",headers:{"User-Agent":"EuropeanCamperPlanner/1.0 (https://github.com/user/camper-planner)"}});if(!u.ok)throw new Error(`Geocoding HTTP error: ${u.status}`);const c=await u.json();return c&&c.length>0?c.map(d=>{let f=d.display_name.split(",")[0].trim();if(d.address){const y=d.address;if(y.house_number&&y.road)f=`${y.house_number} ${y.road}`;else if(y.road)f=y.road;else if(y.postcode){const m=y.city||y.town||y.village||"";f=m?`${y.postcode}, ${m}`:y.postcode}}return{display_name:d.display_name,lat:parseFloat(d.lat),lng:parseFloat(d.lon),boundingbox:d.boundingbox,type:d.type||d.class||"place",importance:parseFloat(d.importance||"0.5"),name:f}}):[]}catch(r){return console.error("Geocoding failed:",r),[]}}async geocodeLocation(e){const s=await this.geocodeLocationMultiple(e,1);return s.length>0?s[0]:null}async searchCampsites(e){const s=Date.now();if(e.locationQuery)return this.searchCampsitesByLocation(e,s);const r=this.generateCampsiteCacheKey(e);if(this.activeRequests.has(r))return this.activeRequests.get(r);if(!e.bounds||typeof e.bounds.south>"u"||typeof e.bounds.west>"u"||typeof e.bounds.north>"u"||typeof e.bounds.east>"u")return{status:"error",error:"Invalid bounds provided",campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-s,cache_hit:!1},cached:!1,boundingBox:e.bounds};const i=this.executeSearchRequest(e,r,s);this.activeRequests.set(r,i);try{return await i}finally{this.activeRequests.delete(r)}}async searchCampsitesByLocation(e,s){try{const r=await this.geocodeLocation(e.locationQuery);if(!r)return{status:"error",error:`Could not find location: ${e.locationQuery}`,campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-s,cache_hit:!1},cached:!1,boundingBox:e.bounds};const i=50,a=i/111,o=i/(111*Math.cos(r.lat*Math.PI/180)),l={...e,bounds:{north:r.lat+a,south:r.lat-a,east:r.lng+o,west:r.lng-o},locationQuery:void 0},u=await this.searchCampsites(l);return{...u,metadata:{...u.metadata,geocoded_location:r,query:e}}}catch(r){return console.error("Location-based search failed:",r),{status:"error",error:`Location search failed: ${r instanceof Error?r.message:"Unknown error"}`,campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-s,cache_hit:!1},cached:!1,boundingBox:e.bounds}}}async executeSearchRequest(e,s,r){try{const i=await this.getCachedCampsites(e);if(i)return{...i,metadata:{...i.metadata,cache_hit:!0,query_duration:Date.now()-r}};const a=await this.searchWithOverpass(e);return await this.cacheManager.storeCampsites(a.campsites),await this.setCacheMetadata(e),{...a,metadata:{...a.metadata,cache_hit:!1,query_duration:Date.now()-r}}}catch{const a=await this.getCachedCampsites(e,!0);return a?{...a,metadata:{...a.metadata,cache_hit:!0,query_duration:Date.now()-r}}:{status:"error",error:"Unable to load campsites. The server may be busy — try again in a moment.",campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-r,cache_hit:!1},cached:!1,boundingBox:e.bounds}}}async searchWithOverpass(e){const{bounds:s,types:r=["campsite","aire","caravan_site"],maxResults:i=1e3}=e,o={method:"POST",endpoint:"",body:this.buildOverpassQuery(s,r),headers:{"Content-Type":"text/plain; charset=utf-8"}};let l=await this.request(o);if(typeof l=="string")try{l=JSON.parse(l)}catch{throw new Error("Overpass API returned an invalid response (non-JSON). The server may be overloaded.")}const u=this.parseOverpassResponse(l),c=this.filterAndScoreCampsites(u,e).slice(0,i);return{status:"success",campsites:c,metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:c.length,cache_hit:!1,query_duration:0},cached:!1,boundingBox:s}}async _searchWithOpenCampingMap(e){const{bounds:s,maxResults:r=1e3}=e,i={baseUrl:"https://opencampingmap.org/api",timeout:15e3,retries:1,cacheEnabled:!1,cacheTtl:0,userAgent:"EuropeanCamperPlanner/1.0"},a=this.config;this.config=i;try{const o={method:"GET",endpoint:"/campsites",params:{bbox:`${s.west},${s.south},${s.east},${s.north}`,limit:r}},l=await this.request(o),u=this.parseOpenCampingMapResponse(l);return{campsites:u,metadata:{service:"opencampingmap",timestamp:Date.now(),query:e,results_count:u.length,cache_hit:!1,query_duration:0},cached:!1,boundingBox:s}}finally{this.config=a}}isValidCoordinate(e,s){return typeof e!="number"||isNaN(e)||!isFinite(e)?!1:s==="latitude"?e>=-90&&e<=90:e>=-180&&e<=180}buildOverpassQuery(e,s){const{south:r,west:i,north:a,east:o}=e;if(!this.isValidCoordinate(r,"latitude")||!this.isValidCoordinate(a,"latitude")||!this.isValidCoordinate(i,"longitude")||!this.isValidCoordinate(o,"longitude"))throw new Error(`Invalid coordinates: lat=${r}-${a}, lng=${i}-${o}`);const l=a-r,u=o-i;if(l>5||u>5)throw new Error(`Bounding box too large: ${l}° lat x ${u}° lng (max 5° each)`);const c=`${r.toFixed(6)},${i.toFixed(6)},${a.toFixed(6)},${o.toFixed(6)}`,p=[];return s.includes("campsite")&&(p.push(`node["tourism"="camp_site"](${c});`),p.push(`way["tourism"="camp_site"](${c});`),p.push(`relation["tourism"="camp_site"](${c});`)),s.includes("caravan_site")&&(p.push(`node["tourism"="caravan_site"](${c});`),p.push(`way["tourism"="caravan_site"](${c});`),p.push(`relation["tourism"="caravan_site"](${c});`)),s.includes("aire")&&(p.push(`node["amenity"="parking"]["motorhome"="yes"](${c});`),p.push(`way["amenity"="parking"]["motorhome"="yes"](${c});`),p.push(`node["amenity"="parking"]["caravan"="yes"](${c});`),p.push(`way["amenity"="parking"]["caravan"="yes"](${c});`),p.push(`node["tourism"="wilderness_hut"](${c});`),p.push(`node["highway"="services"]["motorhome"="yes"](${c});`),p.push(`way["highway"="services"]["motorhome"="yes"](${c});`)),`[out:json][timeout:30];(${p.join("")});out center meta 1000;`}parseOverpassResponse(e){return!e||!e.elements?[]:e.elements.map(s=>this.parseOSMElement(s)).filter(Boolean)}parseOpenCampingMapResponse(e){return!e||!e.features?[]:e.features.map(s=>this.parseOpenCampingMapFeature(s)).filter(Boolean)}parseOSMElement(e){const s=e.lat??e.center?.lat,r=e.lon??e.center?.lon;if(!s||!r||!e.tags)return null;const i=e.tags;if(i.disused==="yes"||i.abandoned==="yes"||i.demolished==="yes"||i["tourism:disused"]==="yes"||i.lifecycle_status==="abandoned"||i.lifecycle_status==="disused"||i.lifecycle_status==="demolished")return null;const a=this.determineCampsiteType(i);return{id:e.id,type:a,name:i.name||i["name:en"]||`${a} ${e.id}`,lat:s,lng:r,amenities:{toilets:this.parseBoolean(i.amenity==="toilets"||i.toilets),showers:this.parseBoolean(i.shower),drinking_water:this.parseBoolean(i.drinking_water),electricity:this.parseBoolean(i.electricity),wifi:this.parseBoolean(i.internet_access==="wifi"||i.wifi),restaurant:this.parseBoolean(i.amenity==="restaurant"||i.restaurant),shop:this.parseBoolean(i.shop),playground:this.parseBoolean(i.playground),laundry:this.parseBoolean(i.laundry),swimming_pool:this.parseBoolean(i.swimming_pool)},access:{motorhome:this.parseBoolean(i.motorhome),caravan:this.parseBoolean(i.caravan),tent:this.parseBoolean(i.tents!=="no"&&a==="campsite"),max_height:this.parseNumber(i.maxheight),max_length:this.parseNumber(i.maxlength),max_weight:this.parseNumber(i.maxweight)},contact:{phone:i.phone,website:i.website||i.url,email:i.email},opening_hours:i.opening_hours,fee:i.fee,reservation:i.reservation,capacity:this.parseNumber(i.capacity),source:"openstreetmap",last_updated:Date.now(),quality_score:this.calculateQualityScore(i)}}parseOpenCampingMapFeature(e){if(!e.geometry||!e.properties)return null;const s=e.properties,[r,i]=e.geometry.coordinates;return{id:s.id||Math.random()*1e6,type:"campsite",name:s.name||"Unnamed Campsite",lat:i,lng:r,amenities:{toilets:!!s.toilets,showers:!!s.showers,drinking_water:!!s.drinking_water,electricity:!!s.electricity,wifi:!!s.wifi,restaurant:!!s.restaurant,shop:!!s.shop,playground:!!s.playground,laundry:!!s.laundry,swimming_pool:!!s.swimming_pool},access:{motorhome:!!s.motorhome,caravan:!!s.caravan,tent:!!s.tent,max_height:s.max_height,max_length:s.max_length,max_weight:s.max_weight},contact:{phone:s.phone,website:s.website,email:s.email},opening_hours:s.opening_hours,fee:s.fee,reservation:s.reservation,capacity:s.capacity,source:"opencampingmap",last_updated:Date.now(),quality_score:.8}}determineCampsiteType(e){return e.tourism==="camp_site"?"campsite":e.tourism==="caravan_site"?"caravan_site":e.amenity==="parking"&&(e.motorhome==="yes"||e.caravan==="yes")||e.highway==="services"&&e.motorhome==="yes"?"aire":"campsite"}parseBoolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){const s=e.toLowerCase();return s==="yes"||s==="true"||s==="1"}return!1}parseNumber(e){if(typeof e=="number")return e;if(typeof e=="string"){const s=parseFloat(e.replace(/[^\d.]/g,""));return isNaN(s)?void 0:s}}calculateQualityScore(e){let s=0;const r=[e.name,e.phone||e.website,e.opening_hours,e.drinking_water,e.electricity,e.toilets||e.amenity==="toilets",e.motorhome||e.caravan];return s=r.filter(Boolean).length/r.length,Math.round(s*100)/100}filterAndScoreCampsites(e,s){let r=e;s.vehicleFilter&&(r=r.filter(o=>this.isVehicleCompatible(o,s.vehicleFilter))),s.amenities&&s.amenities.length>0&&(r=r.filter(o=>s.amenities.some(l=>o.amenities[l]===!0)));const i=(s.bounds.north+s.bounds.south)/2,a=(s.bounds.east+s.bounds.west)/2;return r.sort((o,l)=>{const u=this.calculateDistance(i,a,o.lat,o.lng),c=this.calculateDistance(i,a,l.lat,l.lng),p=(o.quality_score||.5)-u/100;return(l.quality_score||.5)-c/100-p})}isVehicleCompatible(e,s){return!(s.motorhome&&!e.access.motorhome||s.caravan&&!e.access.caravan||s.height&&e.access.max_height&&s.height>e.access.max_height||s.length&&e.access.max_length&&s.length>e.access.max_length||s.weight&&e.access.max_weight&&s.weight>e.access.max_weight)}calculateDistance(e,s,r,i){const o=(r-e)*Math.PI/180,l=(i-s)*Math.PI/180,u=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}async getCachedCampsites(e,s=!1){try{const r=this.generateCampsiteCacheKey(e),i=await this.cacheManager.getCacheMetadata(r);if(i){const a=Date.now()-i.timestamp,o=1440*60*1e3;if(s||a<o){const l=await this.cacheManager.getCampsitesInBounds(e.bounds);if(l.length>0)return{status:"success",campsites:this.filterAndScoreCampsites(l,e),metadata:{service:i.service||"overpass",timestamp:i.timestamp,query:e,results_count:l.length,cache_hit:!0,query_duration:0},cached:!0,boundingBox:e.bounds}}}return null}catch(r){return console.error("Cache lookup failed:",r),null}}async setCacheMetadata(e){try{const s=this.generateCampsiteCacheKey(e);await this.cacheManager.setCacheMetadata(s,{timestamp:Date.now(),service:"overpass",bounds:e.bounds})}catch(s){console.error("Failed to set cache metadata:",s)}}generateCampsiteCacheKey(e){const{bounds:s,types:r=[],amenities:i=[]}=e;if(!s||typeof s.south>"u"||typeof s.west>"u"||typeof s.north>"u"||typeof s.east>"u")return`campsites_invalid_bounds_${Date.now()}_${r.join(",")}_${i.join(",")}`;const a=o=>Math.round(o*10)/10;return`campsites_${a(s.south)}_${a(s.west)}_${a(s.north)}_${a(s.east)}_${r.join(",")}_${i.join(",")}`}async initializeCache(){try{await this.cacheManager.initialize(),await this.cacheManager.clearExpiredCache()}catch(e){console.error("Failed to initialize campsite cache:",e)}}initializeFallbackService(){this._fallbackService=void 0}async healthCheck(){try{const s={method:"POST",endpoint:"",body:"[out:json][timeout:5]; out count;",headers:{"Content-Type":"text/plain"},customTimeout:5e3};return await this.request(s),!0}catch(e){return console.error("Overpass API health check failed:",e),!1}}getServiceStatus(){const e=this.rateLimitState.get("default")||{count:0,resetTime:Date.now()};return{primary:{name:"Overpass API",healthy:!0,cacheSize:"IndexedDB"},fallback:{name:"OpenCampingMap",available:!0},rateLimitInfo:{remaining:Math.max(0,this.rateLimit.requests-e.count),resetTime:e.resetTime}}}async refreshCache(e){const s={bounds:e};await this.searchWithOverpass(s)}getCacheStats(){return{size:0,entries:[]}}}const Xr=new Bn,Y=ne()(re(n=>({center:[54.526,15.2551],zoom:5,selectedWaypoint:null,setCenter:t=>n({center:t}),setZoom:t=>n({zoom:t}),setSelectedWaypoint:t=>n({selectedWaypoint:t})}),{name:"map-store"})),zt=ne()(_e(re(n=>({profile:null,setProfile:t=>n({profile:t}),clearProfile:()=>n({profile:null})}),{name:"vehicle-store"}),{name:"camper-planner-vehicle",partialize:n=>({profile:n.profile})})),ee=n=>n.map((t,e)=>{if(e>0&&e<n.length-1&&(t.type==="campsite"||t.type==="accommodation"))return t;let s;return n.length===1||e===0?s="start":e===n.length-1?s="end":s="waypoint",{...t,type:s}}),te=(n,t)=>{const e=[...n.history.slice(0,n.historyIndex+1),t].slice(-n.maxHistorySize);return{...n,history:e,historyIndex:e.length-1}},De=ne()(_e(re((n,t)=>({waypoints:[],calculatedRoute:null,isOptimized:!1,totalDistance:0,estimatedTime:0,history:[],historyIndex:-1,maxHistorySize:50,addWaypoint:e=>n(s=>{const r=[...s.waypoints,e],i=ee(r),a={type:"add",timestamp:Date.now(),data:e,previousState:s.waypoints};return{...te(s,a),waypoints:i,isOptimized:!1}}),removeWaypoint:e=>n(s=>{const r=s.waypoints.find(l=>l.id===e),i=s.waypoints.filter(l=>l.id!==e),a=ee(i),o={type:"remove",timestamp:Date.now(),data:{id:e,waypoint:r},previousState:s.waypoints};return{...te(s,o),waypoints:a,isOptimized:!1}}),updateWaypoint:(e,s)=>n(r=>{const i=r.waypoints.find(l=>l.id===e),a=r.waypoints.map(l=>l.id===e?{...l,...s}:l),o={type:"update",timestamp:Date.now(),data:{id:e,updates:s,previousWaypoint:i},previousState:r.waypoints};return{...te(r,o),waypoints:a}}),reorderWaypoints:e=>{const s=t(),r=ee(e),i={type:"reorder",timestamp:Date.now(),data:e,previousState:s.waypoints};n({...te(s,i),waypoints:r,isOptimized:!0})},insertWaypoint:(e,s)=>n(r=>{const i=r.waypoints.findIndex(u=>u.id===s),a=[...r.waypoints.slice(0,i+1),e,...r.waypoints.slice(i+1)],o=ee(a),l={type:"add",timestamp:Date.now(),data:{waypoint:e,afterId:s},previousState:r.waypoints};return{...te(r,l),waypoints:o,isOptimized:!1}}),insertBeforeWaypoint:(e,s)=>n(r=>{const i=r.waypoints.findIndex(u=>u.id===s),a=[...r.waypoints.slice(0,i),e,...r.waypoints.slice(i)],o=ee(a),l={type:"add",timestamp:Date.now(),data:{waypoint:e,beforeId:s},previousState:r.waypoints};return{...te(r,l),waypoints:o,isOptimized:!1}}),clearRoute:()=>n(e=>{const s={type:"clear",timestamp:Date.now(),data:null,previousState:e.waypoints};return{...te(e,s),waypoints:[],calculatedRoute:null,isOptimized:!1,totalDistance:0,estimatedTime:0}}),setCalculatedRoute:e=>n({calculatedRoute:e}),undo:()=>n(e=>{if(e.historyIndex<0)return e;const s=e.history[e.historyIndex];return{...e,waypoints:ee(s.previousState),historyIndex:e.historyIndex-1,isOptimized:!1}}),redo:()=>n(e=>{if(e.historyIndex>=e.history.length-1)return e;const s=e.historyIndex+1,r=e.history[s];let i=e.waypoints;switch(r.type){case"add":{const a=r.data;if("afterId"in a){const o=e.waypoints.findIndex(l=>l.id===a.afterId);i=[...e.waypoints.slice(0,o+1),a.waypoint,...e.waypoints.slice(o+1)]}else i=[...e.waypoints,a];break}case"remove":{const a=r.data;i=e.waypoints.filter(o=>o.id!==a.id);break}case"update":{const a=r.data;i=e.waypoints.map(o=>o.id===a.id?{...o,...a.updates}:o);break}case"reorder":i=r.data;break;case"clear":i=[];break}return{...e,waypoints:ee(i),historyIndex:s,isOptimized:r.type==="reorder"}}),canUndo:()=>t().historyIndex>=0,canRedo:()=>{const e=t();return e.historyIndex<e.history.length-1},isValidForRouting:()=>t().waypoints.length>=2}),{name:"route-store"}),{name:"camper-planner-route",partialize:n=>({waypoints:n.waypoints,isOptimized:n.isOptimized,totalDistance:n.totalDistance,estimatedTime:n.estimatedTime})})),ei=ne()(_e(re((n,t)=>({currentTrip:null,savedTrips:[],setCurrentTrip:e=>n({currentTrip:e}),saveTrip:e=>n(s=>({savedTrips:[...s.savedTrips.filter(r=>r.id!==e.id),e]})),loadTrip:e=>{const s=t().savedTrips.find(r=>r.id===e);s&&n({currentTrip:s})},deleteTrip:e=>n(s=>({savedTrips:s.savedTrips.filter(r=>r.id!==e),currentTrip:s.currentTrip?.id===e?null:s.currentTrip}))}),{name:"trip-store"}),{name:"camper-planner-trips",partialize:n=>({savedTrips:n.savedTrips,currentTrip:n.currentTrip})})),Le=ne()(re((n,t)=>({isLoading:!1,error:null,notifications:[],sidebarOpen:!0,vehicleSidebarOpen:!1,setLoading:e=>n({isLoading:e}),setError:e=>n({error:e}),addNotification:e=>{const s=Math.random().toString(36).substr(2,9);n(r=>({notifications:[...r.notifications,{...e,id:s}]})),setTimeout(()=>{t().removeNotification(s)},5e3)},removeNotification:e=>n(s=>({notifications:s.notifications.filter(r=>r.id!==e)})),toggleSidebar:()=>n(e=>({sidebarOpen:!e.sidebarOpen})),openVehicleSidebar:()=>n({vehicleSidebarOpen:!0}),closeVehicleSidebar:()=>n({vehicleSidebarOpen:!1})}),{name:"ui-store"})),Vn=ne()(re(n=>({wizardOpen:!1,wizardStep:0,start:null,end:null,startDate:null,endDate:null,drivingStyle:"moderate",crossing:null,restDayFrequency:0,itinerary:null,isGenerating:!1,generationError:null,openWizard:()=>n({wizardOpen:!0,wizardStep:0}),closeWizard:()=>n({wizardOpen:!1}),setStep:t=>n({wizardStep:t}),nextStep:()=>n(t=>({wizardStep:t.wizardStep+1})),prevStep:()=>n(t=>({wizardStep:Math.max(0,t.wizardStep-1)})),setStart:t=>n({start:t}),setEnd:t=>n({end:t}),setStartDate:t=>n({startDate:t}),setEndDate:t=>n({endDate:t}),setDrivingStyle:t=>n({drivingStyle:t}),setCrossing:t=>n({crossing:t}),setRestDayFrequency:t=>n({restDayFrequency:t}),setItinerary:t=>n({itinerary:t}),setIsGenerating:t=>n({isGenerating:t}),setGenerationError:t=>n({generationError:t}),selectCampsite:(t,e)=>n(s=>{if(!s.itinerary)return s;const r=s.itinerary.days.map(i=>i.dayNumber===t?{...i,selectedOvernight:e}:i);return{itinerary:{...s.itinerary,days:r}}}),resetWizard:()=>n({wizardStep:0,start:null,end:null,startDate:null,endDate:null,drivingStyle:"moderate",crossing:null,restDayFrequency:0,itinerary:null,isGenerating:!1,generationError:null})}),{name:"trip-wizard-store"})),Un=()=>{const n=jt(),{t}=ms(),[e,s]=N.useState(!1),{toggleSidebar:r,openVehicleSidebar:i}=Le(),{profile:a}=zt(),{openWizard:o}=Vn(),l=a?{name:a.name||"Custom Vehicle",dims:`${a.height}×${a.width}×${a.length}m`}:null,u=[{path:"/",label:t("nav.planner"),key:"planner"},{path:"/guides",label:"Guides",key:"guides",icon:ks},{path:"/about",label:t("nav.about"),key:"about"},{path:"/help",label:t("nav.help"),key:"help"}],c=d=>d==="/"?n.pathname===d:n.pathname.startsWith(d),p=()=>{s(!e)};return h.jsxs(h.Fragment,{children:[h.jsx("header",{className:"bg-white border-b border-neutral-200 sticky top-0 z-40",children:h.jsxs("div",{className:"px-4 sm:px-6",children:[h.jsxs("div",{className:"flex items-center h-16 gap-4",children:[n.pathname==="/"&&h.jsxs("button",{onClick:i,"data-tour-id":"vehicle-badge",className:P("hidden sm:flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200","hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary-500",l?"bg-green-50 text-green-700 ring-1 ring-green-200 hover:bg-green-100":"bg-primary-50 text-primary-700 ring-1 ring-primary-200 hover:bg-primary-100"),title:l?"Edit vehicle profile":"Set up your vehicle profile",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 17h8M8 17v-4h8v4M8 17H5a2 2 0 01-2-2v-3a2 2 0 012-2h1l2-4h8l2 4h1a2 2 0 012 2v3a2 2 0 01-2 2h-3M7 17a1 1 0 11-2 0 1 1 0 012 0zm12 0a1 1 0 11-2 0 1 1 0 012 0z"})}),h.jsx("span",{className:"max-w-[120px] truncate",children:l?l.name:"Setup Vehicle"})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[n.pathname==="/"&&h.jsx("button",{onClick:r,className:"hidden md:block lg:hidden p-2 rounded-lg text-neutral-500 hover:text-neutral-700 hover:bg-neutral-50","aria-label":"Toggle sidebar",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),h.jsxs(A,{to:"/",className:"flex items-center space-x-3",children:[h.jsx("img",{src:"/logo.png",alt:"European Camper Planner",className:"w-8 h-8",width:32,height:32}),h.jsxs("div",{className:"hidden sm:block",children:[h.jsx("h1",{className:"text-lg lg:text-xl font-display font-extrabold text-neutral-900",children:"European Camper Planner"}),h.jsx("p",{className:"text-xs text-primary-600 font-display font-semibold tracking-wider uppercase hidden lg:block",children:"Free trip planning for Europe"})]}),h.jsx("div",{className:"sm:hidden",children:h.jsx("h1",{className:"text-lg font-display font-extrabold text-neutral-900",children:"Camper Planner"})})]})]}),h.jsx("nav",{className:"hidden lg:flex space-x-6",children:u.map(d=>h.jsx(A,{to:d.path,className:P("px-3 py-2 rounded-lg text-sm font-display font-medium transition-all duration-200 border-b-2",c(d.path)?"text-primary-700 border-accent-500":"text-neutral-600 border-transparent hover:text-neutral-900 hover:bg-neutral-50"),children:d.label},d.key))}),h.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4 ml-auto",children:[n.pathname!=="/"&&h.jsxs(A,{to:"/",className:"hidden sm:flex items-center gap-1.5 px-4 py-2 bg-accent-500 text-white rounded-lg hover:bg-accent-600 text-sm font-display font-semibold transition-all duration-200 shadow-sm hover:shadow-medium active:scale-[0.98]",children:[h.jsx(lt,{className:"w-4 h-4"}),"Plan a Trip"]}),Xs.MULTI_LANGUAGE_COMPLETE,h.jsx("button",{type:"button",onClick:p,className:"lg:hidden p-2 rounded-lg text-neutral-500 hover:text-neutral-700 hover:bg-neutral-50","aria-label":"Toggle menu",children:h.jsx("svg",{className:P("w-6 h-6 transition-transform",e&&"rotate-90"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),e&&h.jsx("div",{className:"lg:hidden bg-white",children:h.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[u.map(d=>h.jsx(A,{to:d.path,onClick:()=>s(!1),className:P("block px-3 py-2 rounded-lg text-base font-display font-medium transition-all duration-200",c(d.path)?"text-primary-700 bg-primary-50":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-50"),children:d.label},d.key)),n.pathname!=="/"&&h.jsxs(A,{to:"/",onClick:()=>s(!1),className:"w-full flex items-center gap-2 px-3 py-2.5 rounded-lg text-base font-display font-semibold text-accent-700 bg-accent-50 hover:bg-accent-100 transition-all duration-200",children:[h.jsx(lt,{className:"w-4 h-4"}),"Plan a Trip"]})]})})]})}),e&&h.jsx("div",{className:"fixed inset-0 z-30 bg-black/25 backdrop-blur-sm lg:hidden",onClick:()=>s(!1),onKeyDown:d=>d.key==="Escape"&&s(!1),role:"button",tabIndex:0,"aria-label":"Close menu"})]})},Kn="https://ko-fi.com/camperplanning",Wn=()=>{const n=new Date().getFullYear();return h.jsxs("footer",{className:"bg-neutral-900 text-neutral-300",children:[h.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[h.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("img",{src:"/logo.png",alt:"European Camper Planner",className:"w-7 h-7",width:28,height:28}),h.jsx("span",{className:"text-white font-display font-semibold text-sm",children:"European Camper Planner"})]}),h.jsx("p",{className:"text-neutral-400 text-sm leading-relaxed",children:"Free, privacy-first trip planning for European camper travellers. No accounts, no subscriptions."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-display font-semibold text-sm mb-3",children:"Plan"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsx(A,{to:"/",className:"text-sm text-neutral-400 hover:text-white hover:underline transition-colors",children:"Trip Planner"})}),h.jsx("li",{children:h.jsx(A,{to:"/guides",className:"text-sm text-neutral-400 hover:text-white hover:underline transition-colors",children:"Travel Guides"})}),h.jsx("li",{children:h.jsx(A,{to:"/about",className:"text-sm text-neutral-400 hover:text-white hover:underline transition-colors",children:"About"})}),h.jsx("li",{children:h.jsx(A,{to:"/help",className:"text-sm text-neutral-400 hover:text-white hover:underline transition-colors",children:"Help Guide"})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-display font-semibold text-sm mb-3",children:"Legal"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsx(A,{to:"/privacy",className:"text-sm text-neutral-400 hover:text-white hover:underline transition-colors",children:"Privacy Policy"})}),h.jsx("li",{children:h.jsx(A,{to:"/terms",className:"text-sm text-neutral-400 hover:text-white hover:underline transition-colors",children:"Terms of Use"})}),h.jsx("li",{children:h.jsx(A,{to:"/affiliate-disclosure",className:"text-sm text-neutral-400 hover:text-white hover:underline transition-colors",children:"Affiliate Disclosure"})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-display font-semibold text-sm mb-3",children:"Support"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsxs(A,{to:"/support",className:"text-sm text-neutral-400 hover:text-white hover:underline transition-colors inline-flex items-center gap-1",children:[h.jsx(_s,{className:"w-3.5 h-3.5"}),"Support This Project"]})}),h.jsx("li",{children:h.jsxs(A,{to:"/feedback",className:"text-sm text-neutral-400 hover:text-white hover:underline transition-colors inline-flex items-center gap-1",children:[h.jsx($s,{className:"w-3.5 h-3.5"}),"Feedback"]})}),h.jsx("li",{children:h.jsxs("a",{href:Kn,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-neutral-400 hover:text-white hover:underline transition-colors inline-flex items-center gap-1",children:["Buy us a coffee",h.jsx(ot,{className:"w-3 h-3"})]})}),h.jsx("li",{children:h.jsxs("a",{href:"https://github.com/AlphaBravoAlpha/camper-planner",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-neutral-400 hover:text-white hover:underline transition-colors inline-flex items-center gap-1",children:["GitHub",h.jsx(ot,{className:"w-3 h-3"})]})})]})]})]})}),h.jsx("div",{className:"border-t border-neutral-800",children:h.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 text-xs text-neutral-500",children:[h.jsxs("p",{children:["© ",n," European Camper Trip Planner. Free and open source."]}),h.jsxs("p",{className:"text-center sm:text-right",children:["Some links may earn us a small commission at no extra cost to you."," ",h.jsx(A,{to:"/affiliate-disclosure",className:"underline hover:text-neutral-300 transition-colors",children:"Learn more"})]})]})})})]})};class Hn extends N.Component{constructor(e){super(e);R(this,"handleReload",()=>{window.location.reload()});R(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,s){this.setState({error:e,errorInfo:s})}render(){return this.state.hasError?h.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:h.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:h.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:h.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.864-.833-2.632 0L4.182 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),h.jsx("h2",{className:"mt-6 text-lg font-medium text-neutral-900",children:"Something went wrong"}),h.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,h.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[h.jsx("button",{onClick:this.handleReset,className:"px-4 py-2 text-sm font-medium text-neutral-700 bg-white border border-neutral-300 rounded-md hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Try Again"}),h.jsx("button",{onClick:this.handleReload,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Reload Page"}),h.jsx("a",{href:"/",className:"px-4 py-2 text-sm font-medium text-primary-600 bg-primary-50 border border-primary-200 rounded-md hover:bg-primary-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 text-center",children:"Go Home"})]})]})})})}):this.props.children}}const dt=({size:n="md",variant:t="spinner",className:e,text:s})=>{const r={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"},i={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"};return t==="dots"?h.jsxs("div",{className:P("flex items-center justify-center space-x-1",e),children:[[0,1,2].map(a=>h.jsx("div",{className:P("bg-primary-600 rounded-full animate-pulse",r[n]),style:{animationDelay:`${a*.2}s`,animationDuration:"1s"}},a)),s&&h.jsx("span",{className:P("ml-3 text-neutral-600",i[n]),children:s})]}):t==="pulse"?h.jsxs("div",{className:P("flex items-center justify-center",e),children:[h.jsx("div",{className:P("bg-primary-600 rounded-full animate-ping",r[n])}),s&&h.jsx("span",{className:P("ml-3 text-neutral-600",i[n]),children:s})]}):h.jsxs("div",{className:P("flex items-center justify-center",e),children:[h.jsx("div",{className:P("animate-spin rounded-full border-2 border-neutral-300 border-t-primary-600",r[n]),role:"status","aria-label":"Loading",children:h.jsx("span",{className:"sr-only",children:"Loading..."})}),s&&h.jsx("span",{className:P("ml-3 text-neutral-600",i[n]),children:s})]})},qn=({children:n,sidebar:t,sidebarOpen:e=!1,className:s,fullHeight:r=!0})=>h.jsxs("div",{className:P("flex",r?"h-full":"min-h-screen",s),children:[t&&h.jsxs(h.Fragment,{children:[h.jsx("aside",{className:P("hidden lg:flex lg:flex-col lg:w-80 lg:fixed lg:inset-y-0 lg:pt-16","bg-white border-r border-neutral-200","z-30"),children:h.jsx("div",{className:"flex-1 overflow-y-auto",children:t})}),e&&h.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"}),h.jsxs("aside",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[h.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:h.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[h.jsx("span",{className:"sr-only",children:"Close sidebar"}),h.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})}),h.jsx("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:t})]})]})]}),h.jsx("main",{className:P("flex-1 flex flex-col",t&&"lg:pl-80"),children:n})]});class Gn{constructor(){R(this,"routingService");R(this,"distanceCache",new Map);this.routingService=new Dt}async optimizeRoute(t,e){if(t.length<3)throw new Error("Route optimization requires at least 3 waypoints");const s=Date.now(),r=await this.calculateRouteMetrics(t,e.vehicleProfile),i=await this.buildDistanceMatrix(t,e.vehicleProfile),a=await this.solveTSP(i,e,t),o=this.reorderWaypoints(t,a.order,e.lockedWaypoints),l=await this.calculateRouteMetrics(o,e.vehicleProfile),u=this.calculateImprovements(r,l);return{originalRoute:{waypoints:t,totalDistance:r.distance,totalTime:r.duration,estimatedCost:r.cost},optimizedRoute:{waypoints:o,totalDistance:l.distance,totalTime:l.duration,estimatedCost:l.cost,reorderingApplied:JSON.stringify(t.map(c=>c.id))!==JSON.stringify(o.map(c=>c.id))},improvements:u,optimizationMetadata:{algorithm:e.objective==="shortest"?"Distance-TSP":e.objective==="fastest"?"Time-TSP":"Balanced-TSP",iterations:a.iterations,executionTime:Date.now()-s,convergenceReached:a.converged}}}async findOptimalInsertion(t,e,s){if(t.length===0)return{suggestedPosition:0,routeImpact:{distanceAdded:0,timeAdded:0,efficiency:1},alternatives:[]};const r=[],i=await this.calculateRouteMetrics(t,s.vehicleProfile);for(let o=0;o<=t.length;o++){const l=[...t];l.splice(o,0,e);const u=await this.calculateRouteMetrics(l,s.vehicleProfile),c=u.distance-i.distance,p=u.duration-i.duration,d=this.calculateInsertionEfficiency(c,p,s);r.push({position:o,distanceAdded:c,timeAdded:p,efficiency:d})}r.sort((o,l)=>l.efficiency-o.efficiency);const a=r[0];return{suggestedPosition:a.position,routeImpact:{distanceAdded:a.distanceAdded,timeAdded:a.timeAdded,efficiency:a.efficiency},alternatives:r.slice(1,4)}}async buildDistanceMatrix(t,e){const s=t.length,r=Array(s).fill(null).map(()=>Array(s).fill(0)),i=Array(s).fill(null).map(()=>Array(s).fill(0)),a=Array(s).fill(null).map(()=>Array(s).fill(0)),o=this.generateMatrixCacheKey(t,e),l=this.distanceCache.get(o);if(l)return l;for(let c=0;c<s;c++)for(let p=0;p<s;p++){if(c===p){r[c][p]=0,i[c][p]=0,a[c][p]=0;continue}try{const d={waypoints:[t[c],t[p]],vehicleProfile:e,options:{alternatives:!1,steps:!1,geometries:"geojson"}},f=await this.routingService.calculateRoute(d);if(f.routes&&f.routes.length>0){const y=f.routes[0];r[c][p]=y.summary.distance/1e3,i[c][p]=y.summary.duration/60,a[c][p]=this.estimateRouteCost(y.summary.distance,y.summary.duration,e)}else r[c][p]=this.calculateHaversineDistance(t[c],t[p]),i[c][p]=r[c][p]*1.2,a[c][p]=r[c][p]*.5}catch(d){console.error(`Failed to calculate route from ${c} to ${p}:`,d),r[c][p]=this.calculateHaversineDistance(t[c],t[p]),i[c][p]=r[c][p]*1.2,a[c][p]=r[c][p]*.5}}const u={distances:r,durations:i,costs:a};return this.distanceCache.set(o,u),u}async solveTSP(t,e,s){const r=t.distances.length;if(r<=3)return{order:Array.from({length:r},(d,f)=>f),iterations:0,converged:!0};const i=this.getLockedPositions(s,e.lockedWaypoints),a=(d,f)=>{switch(e.objective){case"shortest":return t.distances[d][f];case"fastest":return t.durations[d][f];case"balanced":{const y=t.durations[d][f]/Math.max(...t.durations.flat()),m=t.distances[d][f]/Math.max(...t.distances.flat());return .6*y+.4*m}default:return t.distances[d][f]}};let o=this.nearestNeighborTSP(t,a,i),l=this.calculateTourCost(o,a);const u=Math.min(1e3,r*r);let c=0,p=!0;for(;p&&c<u;){p=!1;for(let d=1;d<r-1;d++)if(!i.has(d))for(let f=d+1;f<r;f++){if(i.has(f))continue;const y=this.twoOptSwap(o,d,f),m=this.calculateTourCost(y,a);m<l&&(o=y,l=m,p=!0)}c++}return{order:o,iterations:c,converged:!p}}nearestNeighborTSP(t,e,s){const r=t.distances.length,i=new Set,a=[];let o=0;for(a.push(o),i.add(o);i.size<r;){let l=-1,u=1/0;for(let c=0;c<r;c++)if(!i.has(c)){const p=e(o,c);p<u&&(u=p,l=c)}l!==-1&&(a.push(l),i.add(l),o=l)}return a}twoOptSwap(t,e,s){const r=[...t];for(;e<s;)[r[e],r[s]]=[r[s],r[e]],e++,s--;return r}calculateTourCost(t,e){let s=0;for(let r=0;r<t.length-1;r++)s+=e(t[r],t[r+1]);return s}reorderWaypoints(t,e,s){if(s&&s.length>0){const r=[...t],i=new Set(s);let a=0;for(let o=0;o<r.length;o++)if(!i.has(r[o].id)){for(;a<e.length&&i.has(t[e[a]].id);)a++;a<e.length&&(r[o]=t[e[a]],a++)}return r}return e.map(r=>t[r])}async calculateRouteMetrics(t,e){if(t.length<2)return{distance:0,duration:0,cost:0};try{const r={waypoints:t,vehicleProfile:e,options:{alternatives:!1,steps:!1,geometries:"geojson"}},i=await this.routingService.calculateRoute(r);if(i.routes&&i.routes.length>0){const a=i.routes[0];return{distance:a.summary.distance/1e3,duration:a.summary.duration/60,cost:this.estimateRouteCost(a.summary.distance,a.summary.duration,e)}}}catch(r){console.error("Failed to calculate route metrics:",r)}let s=0;for(let r=0;r<t.length-1;r++)s+=this.calculateHaversineDistance(t[r],t[r+1]);return{distance:s,duration:s*1.2,cost:s*.5}}calculateImprovements(t,e){const s=Math.max(0,t.distance-e.distance),r=Math.max(0,t.duration-e.duration),i=t.cost&&e.cost?Math.max(0,t.cost-e.cost):void 0,a=t.distance>0?s/t.distance*100:0;return{distanceSaved:s,timeSaved:r,costSaved:i,percentageImprovement:a}}calculateInsertionEfficiency(t,e,s){const a=Math.max(0,1-t/50),o=Math.max(0,1-e/60);switch(s.objective){case"shortest":return .8*a+.2*o;case"fastest":return .2*a+.8*o;case"balanced":return .5*a+.5*o;default:return .5*a+.5*o}}getLockedPositions(t,e){const s=new Set;return e&&t.forEach((r,i)=>{e.includes(r.id)&&s.add(i)}),s}generateMatrixCacheKey(t,e){const s=t.map(i=>`${i.lat.toFixed(4)},${i.lng.toFixed(4)}`).join("|"),r=e?`${e.type}-${e.height}-${e.weight}`:"default";return`${s}::${r}`}calculateHaversineDistance(t,e){const r=(e.lat-t.lat)*Math.PI/180,i=(e.lng-t.lng)*Math.PI/180,a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}estimateRouteCost(t,e,s){const r=t/1e3;let i=8;if(s)switch(s.type){case"motorhome":i=12+(s.weight||0)*.5;break;case"caravan":i=10+(s.weight||0)*.3;break;case"van":i=9;break;default:i=7;break}const a=1.5,o=r*.1;return r*i/100*a+o}clearCache(){this.distanceCache.clear()}getCacheStats(){return{size:this.distanceCache.size,keys:Array.from(this.distanceCache.keys())}}}const ti=new Gn,si={EUR:"€",GBP:"£",USD:"$"},ht={EUR:{diesel:1.55,petrol:1.65,lpg:.85,electric:.35},GBP:{diesel:1.45,petrol:1.5,lpg:.75,electric:.3},USD:{diesel:1.7,petrol:1.8,lpg:.95,electric:.4}},Jn={relaxed:{maxHours:4,maxKmPerDay:200},moderate:{maxHours:6,maxKmPerDay:300},intensive:{maxHours:8,maxKmPerDay:400}},pt={drivingStyle:"moderate",maxDrivingHoursPerDay:6,restDayFrequency:0,crossing:{type:"none"},currency:"EUR",dailyBudget:{campsite:25,food:30,activities:15},fuelConsumption:{value:12,unit:"l_per_100km",fuelType:"diesel",tankCapacity:80},fuelPricePerLitre:1.55};function ni(n){if(!n)return"summer";const t=new Date(n).getMonth();return t>=2&&t<=4?"spring":t>=5&&t<=7?"summer":t>=8&&t<=10?"autumn":"winter"}function Yn(n){return Jn[n]}const ri=ne()(_e(re(n=>({settings:{...pt},setStartDate:t=>n(e=>({settings:{...e.settings,startDate:t}}),!1,"setStartDate"),setEndDate:t=>n(e=>({settings:{...e.settings,endDate:t}}),!1,"setEndDate"),setDuration:t=>n(e=>({settings:{...e.settings,duration:t}}),!1,"setDuration"),setDrivingStyle:t=>n(e=>({settings:{...e.settings,drivingStyle:t,maxDrivingHoursPerDay:Yn(t).maxHours}}),!1,"setDrivingStyle"),setMaxDrivingHours:t=>n(e=>({settings:{...e.settings,maxDrivingHoursPerDay:t}}),!1,"setMaxDrivingHours"),setRestDayFrequency:t=>n(e=>({settings:{...e.settings,restDayFrequency:t}}),!1,"setRestDayFrequency"),setCrossingType:t=>n(e=>({settings:{...e.settings,crossing:{...e.settings.crossing,type:t}}}),!1,"setCrossingType"),setCrossingCost:t=>n(e=>({settings:{...e.settings,crossing:{...e.settings.crossing,estimatedCost:t}}}),!1,"setCrossingCost"),setCurrency:t=>n(e=>{const s=e.settings.fuelConsumption.fuelType;return{settings:{...e.settings,currency:t,fuelPricePerLitre:ht[t][s]}}},!1,"setCurrency"),setDailyBudget:t=>n(e=>({settings:{...e.settings,dailyBudget:{...e.settings.dailyBudget,...t}}}),!1,"setDailyBudget"),setFuelConsumption:t=>n(e=>({settings:{...e.settings,fuelConsumption:{...e.settings.fuelConsumption,value:t}}}),!1,"setFuelConsumption"),setFuelConsumptionUnit:t=>n(e=>({settings:{...e.settings,fuelConsumption:{...e.settings.fuelConsumption,unit:t}}}),!1,"setFuelConsumptionUnit"),setFuelType:t=>n(e=>{const{currency:s}=e.settings;return{settings:{...e.settings,fuelConsumption:{...e.settings.fuelConsumption,fuelType:t},fuelPricePerLitre:ht[s][t]}}},!1,"setFuelType"),setTankCapacity:t=>n(e=>({settings:{...e.settings,fuelConsumption:{...e.settings.fuelConsumption,tankCapacity:t}}}),!1,"setTankCapacity"),setFuelPrice:t=>n(e=>({settings:{...e.settings,fuelPricePerLitre:t}}),!1,"setFuelPrice"),updateSettings:t=>n(e=>({settings:{...e.settings,...t}}),!1,"updateSettings"),loadSettings:t=>n({settings:t},!1,"loadSettings"),resetSettings:()=>n({settings:{...pt}},!1,"resetSettings")}),{name:"trip-settings-store"}),{name:"camper-planner-trip-settings",version:1,partialize:n=>({settings:n.settings})}));function Qn(){const[n,t]=N.useState(!navigator.onLine);return N.useEffect(()=>{const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("offline",e),window.addEventListener("online",s),()=>{window.removeEventListener("offline",e),window.removeEventListener("online",s)}},[]),n?h.jsxs("div",{className:"bg-amber-50 border-b border-amber-200 px-4 py-2 text-center text-sm text-amber-800 flex items-center justify-center gap-2",children:[h.jsx(Gs,{className:"h-4 w-4 flex-shrink-0"}),h.jsx("span",{children:"You're offline — cached data is available but new searches and routes need an internet connection."})]}):null}const ze="camper-planner-onboarding-complete",ft="6.0",Zn=()=>{const[n,t]=N.useState(!1),[e,s]=N.useState(!0);N.useEffect(()=>{(()=>{try{const l=localStorage.getItem(ze);if(!l){t(!0),s(!1);return}if(JSON.parse(l).version!==ft){t(!0),s(!1);return}t(!1),s(!1)}catch(l){console.error("Error checking onboarding status:",l),t(!0),s(!1)}})()},[]);const r=()=>{try{const o={isComplete:!0,version:ft,completedAt:new Date().toISOString()};localStorage.setItem(ze,JSON.stringify(o)),t(!1)}catch(o){console.error("Error saving onboarding state:",o),t(!1)}};return{showOnboarding:n,isLoading:e,completeOnboarding:r,skipOnboarding:()=>{r()},resetOnboarding:()=>{try{localStorage.removeItem(ze),t(!0)}catch(o){console.error("Error resetting onboarding:",o)}}}},se=class se{constructor(){R(this,"announceElement",null);this.createAnnounceElement()}static getInstance(){return se.instance||(se.instance=new se),se.instance}createAnnounceElement(){typeof window>"u"||(this.announceElement=document.createElement("div"),this.announceElement.setAttribute("aria-live","polite"),this.announceElement.setAttribute("aria-atomic","true"),this.announceElement.setAttribute("aria-hidden","false"),this.announceElement.className="sr-only",this.announceElement.style.position="absolute",this.announceElement.style.left="-10000px",this.announceElement.style.width="1px",this.announceElement.style.height="1px",this.announceElement.style.overflow="hidden",document.body.appendChild(this.announceElement))}announce(t,e="polite"){this.announceElement&&(this.announceElement.setAttribute("aria-live",e),this.announceElement.textContent="",setTimeout(()=>{this.announceElement&&(this.announceElement.textContent=t)},100),setTimeout(()=>{this.announceElement&&(this.announceElement.textContent="")},1e3))}};R(se,"instance");let Ye=se;const Xn=()=>{const n=Ye.getInstance();return(t,e="polite")=>{n.announce(t,e)}},er={handleEnterKey:n=>t=>{t.key==="Enter"&&(t.preventDefault(),n())},handleSpaceKey:n=>t=>{t.key===" "&&(t.preventDefault(),n())},handleEscapeKey:n=>t=>{t.key==="Escape"&&(t.preventDefault(),n())},handleArrowKeys:n=>t=>{switch(t.key){case"ArrowUp":n.up&&(t.preventDefault(),n.up());break;case"ArrowDown":n.down&&(t.preventDefault(),n.down());break;case"ArrowLeft":n.left&&(t.preventDefault(),n.left());break;case"ArrowRight":n.right&&(t.preventDefault(),n.right());break}},trapFocus:n=>{const t=n.current?.querySelectorAll('a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select');if(!t||t.length===0)return;const e=t[0],s=t[t.length-1];return r=>{r.key==="Tab"&&(r.shiftKey?document.activeElement===e&&(r.preventDefault(),s.focus()):document.activeElement===s&&(r.preventDefault(),e.focus()))}}},tr=n=>{const t=N.useRef(null);return N.useEffect(()=>{if(!n||!t.current)return;const e=er.trapFocus(t);e&&document.addEventListener("keydown",e);const s=t.current.querySelectorAll('a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select');return s.length>0&&s[0].focus(),()=>{e&&document.removeEventListener("keydown",e)}},[n]),t},sr=9997,nr=({cutoutRect:n,overlayOpacity:t=.6,onClick:e})=>h.jsxs("svg",{className:"fixed inset-0 pointer-events-auto",style:{width:"100vw",height:"100vh",zIndex:sr},children:[h.jsx("defs",{children:h.jsxs("mask",{id:"spotlight-mask",children:[h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),n&&h.jsx("rect",{x:n.x,y:n.y,width:n.width,height:n.height,rx:n.rx,fill:"black",style:{transition:"all 0.3s ease-out"}})]})}),h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`rgba(0, 0, 0, ${t})`,mask:"url(#spotlight-mask)",onClick:e,style:{cursor:e?"pointer":"default"}}),n&&h.jsx("rect",{x:n.x,y:n.y,width:n.width,height:n.height,rx:n.rx,fill:"none",stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:"2",style:{transition:"all 0.3s ease-out"}})]}),rr={Truck:Hs,MapPin:As,Tent:Ks,Calculator:Rs,Briefcase:Es,CheckCircle:Ot,Search:Vs,Navigation:zs,Wrench:Ys},ir=({current:n,total:t})=>h.jsx("div",{className:"flex items-center justify-center space-x-1.5 mb-4",children:Array.from({length:t}).map((e,s)=>h.jsx("div",{className:P("h-1.5 rounded-full transition-all duration-300",s===n?"w-5 bg-primary-600":s<n?"w-1.5 bg-primary-400":"w-1.5 bg-neutral-300")},s))}),ar=({step:n,currentIndex:t,totalSteps:e,tooltipStyle:s,onNext:r,onBack:i,onSkip:a,isFirstStep:o,isLastStep:l,containerRef:u})=>{const c=rr[n.iconKey],p=n.variant==="welcome";return h.jsxs("div",{ref:u,className:P("fixed bg-white rounded-lg shadow-xl border border-neutral-200 p-5 max-w-[calc(100vw-2rem)] max-h-[calc(100vh-2rem)] overflow-y-auto animate-fade-in",p?"w-96":"w-80"),style:{...s,zIndex:9999},role:"dialog","aria-modal":"true","aria-labelledby":`tour-step-${n.id}`,"aria-describedby":`tour-desc-${n.id}`,children:[h.jsx("button",{onClick:a,className:"absolute top-3 right-3 text-neutral-400 hover:text-neutral-600 transition-colors","aria-label":"Close tour",children:h.jsx(Zs,{className:"w-4 h-4"})}),h.jsx(ir,{current:t,total:e}),p?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx("img",{src:"/images/onboarding-welcome.png",alt:"European Camper Planner",className:"w-14 h-14 rounded-lg object-cover",width:56,height:56})}),h.jsx("h2",{id:`tour-step-${n.id}`,className:"text-lg font-display font-bold text-neutral-900 leading-tight text-center mb-2",children:n.headline}),h.jsx("p",{id:`tour-desc-${n.id}`,className:"text-sm text-neutral-600 leading-relaxed text-center mb-4",children:n.body}),n.features&&h.jsx("ul",{className:"space-y-2 mb-4",children:n.features.map((d,f)=>h.jsxs("li",{className:"flex items-start gap-2 text-xs text-neutral-600",children:[h.jsx(Ot,{className:"w-3.5 h-3.5 text-success-500 flex-shrink-0 mt-0.5"}),h.jsx("span",{children:d})]},f))})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-50 flex items-center justify-center text-primary-600 flex-shrink-0",children:h.jsx(c,{className:"w-5 h-5"})}),h.jsx("div",{className:"pt-1",children:h.jsx("h2",{id:`tour-step-${n.id}`,className:"text-base font-display font-bold text-neutral-900 leading-tight",children:n.headline})})]}),h.jsx("p",{id:`tour-desc-${n.id}`,className:"text-sm text-neutral-600 leading-relaxed mb-3",children:n.body}),n.tools&&n.tools.length>0&&h.jsx("ul",{className:"mt-3 space-y-1.5",children:n.tools.map((d,f)=>h.jsxs("li",{className:"flex items-start gap-2 text-sm text-neutral-700",children:[h.jsx("span",{className:"flex-shrink-0",children:d.emoji}),h.jsxs("span",{children:[h.jsx("span",{className:"font-medium",children:d.label}),h.jsxs("span",{className:"text-neutral-500",children:[" — ",d.description]})]})]},f))}),n.tip&&h.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-2.5 text-xs text-primary-800 mb-4",children:[h.jsx("span",{className:"font-medium",children:"Tip: "}),n.tip]})]}),h.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-neutral-100",children:[h.jsx("button",{onClick:a,className:"text-xs text-neutral-400 hover:text-neutral-600 transition-colors",children:"Skip tour"}),h.jsxs("div",{className:"flex gap-2",children:[!o&&h.jsx("button",{onClick:i,className:"px-3 py-1.5 text-sm border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors",children:"Back"}),h.jsxs("button",{onClick:r,className:"px-4 py-1.5 text-sm bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 active:scale-[0.97] transition-all flex items-center gap-1.5",children:[n.ctaText??(l?"Start Planning":"Next"),!n.ctaText&&!l&&h.jsx(Cs,{className:"w-3.5 h-3.5"})]})]})]})]})},Fe=[{id:"demo-london",lat:51.5074,lng:-.1278,type:"start",name:"London, United Kingdom"},{id:"demo-campsite-lyon",lat:45.75,lng:4.85,type:"campsite",name:"Campsite near Lyon"},{id:"demo-campsite-nice",lat:43.7,lng:7.27,type:"campsite",name:"Campsite near Nice"}];new Date().toISOString();function Be(n){const t=document.querySelector(`[data-tour-id="${n}"]`);return t?(t.click(),!0):!1}const Z={addLondon:()=>{const n=De.getState();n.waypoints.length>0&&n.clearRoute(),n.addWaypoint(Fe[0]),Y.getState().setCenter([51.5,-.1]),Y.getState().setZoom(8)},showCampsitesAtNice:()=>{Y.getState().setCenter([43.7,7.1]),Y.getState().setZoom(11),setTimeout(()=>{const n=document.querySelector('[data-tour-id="campsite-toggle"]');n&&n.className.includes("bg-white")&&Be("campsite-toggle")},300)},addCampsitesToRoute:()=>{const n=document.querySelector('[data-tour-id="campsite-toggle"]');n&&!n.className.includes("bg-white")&&Be("campsite-toggle");const t=De.getState();t.waypoints.some(e=>e.id==="demo-campsite-lyon")||t.addWaypoint(Fe[1]),t.waypoints.some(e=>e.id==="demo-campsite-nice")||t.addWaypoint(Fe[2]),Y.getState().setCenter([47,3.5]),Y.getState().setZoom(5)},closeAllPanels:()=>{const n=document.querySelector('[data-tour-id="campsite-toggle"]');n&&!n.className.includes("bg-white")&&Be("campsite-toggle")},cleanup:()=>{De.getState().clearRoute(),zt.getState().clearProfile(),Le.getState().closeVehicleSidebar(),Y.getState().setCenter([54.526,15.2551]),Y.getState().setZoom(5),Z.closeAllPanels()}},ye=[{id:"welcome",targetSelector:null,tooltipPosition:"center",variant:"welcome",title:"Welcome",headline:"Plan Your European Camper Trip",body:"We'll show you the basics in under a minute. Let's plan a quick trip from London to the South of France.",features:["Search locations and build your route","Discover campsites along the way","Vehicle-safe routing that avoids low bridges and narrow roads"],ctaText:"Show Me How",iconKey:"Truck"},{id:"add-start",targetSelector:'[data-tour-id="search-bar"]',tooltipPosition:"below",title:"Start Point",headline:"Search for Your Starting Point",body:"Type any address, city, or place. We've added London — you'll search for your own starting point.",tip:"Click '+ Add' on a result to add it to your route.",iconKey:"MapPin",spotlightPadding:12,overlayOpacity:.3,onEnter:Z.addLondon},{id:"find-campsites",targetSelector:'[data-tour-id="campsite-toggle"]',tooltipPosition:"right",title:"Campsites",headline:"Find Campsites Anywhere",body:"Toggle campsites on to see real campsite data. We've zoomed to the French Riviera — zoom into any area on your trips to browse campsites there.",tip:"Click any campsite marker for details, amenities, and booking links.",iconKey:"Tent",spotlightPadding:8,overlayOpacity:.15,onEnter:Z.showCampsitesAtNice},{id:"add-campsite",targetSelector:null,tooltipPosition:"right",title:"Build Route",headline:"Add Stops Along the Way",body:"We've added a campsite near Nice and an overnight stop near Lyon. Click any campsite marker → 'Add to Route' to build multi-stop trips.",tip:"Drag waypoints on the map to reorder your route.",iconKey:"Tent",overlayOpacity:.08,onEnter:Z.addCampsitesToRoute},{id:"toolkit",targetSelector:'[data-tour-id="left-toolbar"]',tooltipPosition:"right",title:"Tools",headline:"Tools When You Need Them",body:"Once your route is taking shape, these tools help you refine it:",iconKey:"Wrench",spotlightPadding:8,overlayOpacity:.4,tools:[{emoji:"🚐",label:"Vehicle setup",description:"set dimensions for safe routing"},{emoji:"📊",label:"Trip costs",description:"fuel and budget estimates"},{emoji:"📅",label:"Daily stages",description:"break long drives into days"},{emoji:"💾",label:"Save & export",description:"save trips, export to GPS"}]},{id:"ready",targetSelector:null,tooltipPosition:"center",variant:"final",title:"Ready",headline:"You're Ready to Plan!",body:"We'll clear the demo trip and give you a fresh map. Search for your starting point and start building your route.",ctaText:"Start Planning",iconKey:"CheckCircle",onEnter:Z.closeAllPanels}],ae=16,oe=320,be=320,Q=16;function or(n){const t=n.getBoundingClientRect();if(t.width===0&&t.height===0)return!1;const e=window.getComputedStyle(n);return!(e.display==="none"||e.visibility==="hidden")}function Ve(n,t,e,s){if(!n&&t==="center")return{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};if(!n)return{position:"fixed",bottom:"24px",right:"24px"};let r=0,i=0,a=t;return a==="below"&&(r=n.y+n.height+ae,i=n.x+n.width/2-oe/2,r+be>s-Q&&(a="above")),a==="above"&&(r=n.y-be-ae,i=n.x+n.width/2-oe/2,r<Q&&(r=n.y+n.height+ae)),a==="right"&&(r=n.y+n.height/2-be/2,i=n.x+n.width+ae,i+oe>e-Q&&(a="left")),a==="left"&&(r=n.y+n.height/2-be/2,i=n.x-oe-ae,i<Q&&(r=n.y+n.height+ae,i=n.x+n.width/2-oe/2)),i=Math.max(Q,Math.min(i,e-oe-Q)),r=Math.max(Q,Math.min(r,s-be-Q)),{position:"fixed",top:`${r}px`,left:`${i}px`}}function lr(n,t,e=12,s){const[r,i]=N.useState({cutoutRect:null,tooltipStyle:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},isTargetFound:!1}),a=N.useCallback(()=>{const o=window.innerWidth,l=window.innerHeight,u=o<640;if(!n){i({cutoutRect:null,tooltipStyle:Ve(null,u?"center":t,o,l),isTargetFound:!1});return}const c=document.querySelector(n);if(!c||!or(c)||u){i({cutoutRect:null,tooltipStyle:Ve(null,"center",o,l),isTargetFound:!1});return}const p=c.getBoundingClientRect(),d={x:p.x-e,y:p.y-e,width:p.width+e*2,height:p.height+e*2,rx:12},f=Ve(d,t,o,l);i({cutoutRect:d,tooltipStyle:f,isTargetFound:!0})},[n,t,e,s]);return N.useEffect(()=>{const o=setTimeout(a,50),l=setTimeout(a,250),u=setTimeout(a,500),c=()=>a();window.addEventListener("resize",c);let p=null;return typeof ResizeObserver<"u"&&(p=new ResizeObserver(a),p.observe(document.body)),()=>{clearTimeout(o),clearTimeout(l),clearTimeout(u),window.removeEventListener("resize",c),p?.disconnect()}},[a]),r}const cr=({onComplete:n,onSkip:t})=>{const e=Xn(),[s,r]=N.useState(0),i=tr(!0),a=N.useRef(!1),o=ye[s],l=ye.length,u=s===0,c=s===l-1,{cutoutRect:p,tooltipStyle:d}=lr(o.targetSelector,o.tooltipPosition,o.spotlightPadding??12,s);N.useEffect(()=>(document.body.setAttribute("data-tour-step",o.id),()=>{document.body.removeAttribute("data-tour-step")}),[o.id]),N.useEffect(()=>{const g=ye[s],x=setTimeout(()=>{g.onEnter?.()},100);return()=>{clearTimeout(x),g.onExit?.()}},[s]),N.useEffect(()=>()=>{a.current||(a.current=!0,Z.cleanup())},[]);const f=N.useCallback(()=>{if(c)a.current=!0,Z.cleanup(),n();else{const g=s+1;r(g),e(`Step ${g+1} of ${l}: ${ye[g].headline}`,"polite")}},[s,c,n,e,l]),y=N.useCallback(()=>{if(s>0){const g=s-1;r(g),e(`Step ${g+1} of ${l}: ${ye[g].headline}`,"polite")}},[s,e,l]),m=N.useCallback(()=>{a.current=!0,Z.cleanup(),t()},[t]);return N.useEffect(()=>{const g=x=>{x.key==="Escape"&&m()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[m]),N.useEffect(()=>{const g=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=g}},[]),h.jsxs(h.Fragment,{children:[h.jsx(nr,{cutoutRect:p,overlayOpacity:o.overlayOpacity}),h.jsx(ar,{step:o,currentIndex:s,totalSteps:l,tooltipStyle:d,onNext:f,onBack:y,onSkip:m,isFirstStep:u,isLastStep:c,containerRef:i})]})},v=n=>typeof n=="string",xe=()=>{let n,t;const e=new Promise((s,r)=>{n=s,t=r});return e.resolve=n,e.reject=t,e},gt=n=>n==null?"":""+n,ur=(n,t,e)=>{n.forEach(s=>{t[s]&&(e[s]=t[s])})},dr=/###/g,mt=n=>n&&n.indexOf("###")>-1?n.replace(dr,"."):n,yt=n=>!n||v(n),ve=(n,t,e)=>{const s=v(t)?t.split("."):t;let r=0;for(;r<s.length-1;){if(yt(n))return{};const i=mt(s[r]);!n[i]&&e&&(n[i]=new e),Object.prototype.hasOwnProperty.call(n,i)?n=n[i]:n={},++r}return yt(n)?{}:{obj:n,k:mt(s[r])}},bt=(n,t,e)=>{const{obj:s,k:r}=ve(n,t,Object);if(s!==void 0||t.length===1){s[r]=e;return}let i=t[t.length-1],a=t.slice(0,t.length-1),o=ve(n,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=ve(n,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=e},hr=(n,t,e,s)=>{const{obj:r,k:i}=ve(n,t,Object);r[i]=r[i]||[],r[i].push(e)},Re=(n,t)=>{const{obj:e,k:s}=ve(n,t);if(e)return e[s]},pr=(n,t,e)=>{const s=Re(n,e);return s!==void 0?s:Re(t,e)},Ft=(n,t,e)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in n?v(n[s])||n[s]instanceof String||v(t[s])||t[s]instanceof String?e&&(n[s]=t[s]):Ft(n[s],t[s],e):n[s]=t[s]);return n},le=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var fr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const gr=n=>v(n)?n.replace(/[&<>"'\/]/g,t=>fr[t]):n;class mr{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(e!==void 0)return e;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const yr=[" ",",","?","!",";"],br=new mr(20),xr=(n,t,e)=>{t=t||"",e=e||"";const s=yr.filter(a=>t.indexOf(a)<0&&e.indexOf(a)<0);if(s.length===0)return!0;const r=br.getRegExp(`(${s.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!r.test(n);if(!i){const a=n.indexOf(e);a>0&&!r.test(n.substring(0,a))&&(i=!0)}return i},Qe=function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[t])return n[t];const s=t.split(e);let r=n;for(let i=0;i<s.length;){if(!r||typeof r!="object")return;let a,o="";for(let l=i;l<s.length;++l)if(l!==i&&(o+=e),o+=s[l],a=r[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<s.length-1)continue;i+=l-i+1;break}r=a}return r},Oe=n=>n&&n.replace("_","-"),vr={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,t){console&&console[n]&&console[n].apply(console,t)}};class Pe{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||vr,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,s,r){return r&&!this.debug?null:(v(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new Pe(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Pe(this.logger,t)}}var V=new Pe;class Ie{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(e)||0;this.observers[s].set(e,r+1)}),this}off(t,e){if(this.observers[t]){if(!e){delete this.observers[t];return}this.observers[t].delete(e)}}emit(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),r=1;r<e;r++)s[r-1]=arguments[r];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[t,...s])})}}class xt extends Ie{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,e],s&&(Array.isArray(s)?o.push(...s):v(s)&&i?o.push(...s.split(i)):o.push(s)));const l=Re(this.data,o);return!l&&!e&&!s&&t.indexOf(".")>-1&&(t=o[0],e=o[1],s=o.slice(2).join(".")),l||!a||!v(s)?l:Qe(this.data&&this.data[t]&&this.data[t][e],s,i)}addResource(t,e,s,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[t,e];s&&(o=o.concat(a?s.split(a):s)),t.indexOf(".")>-1&&(o=t.split("."),r=e,e=o[1]),this.addNamespaces(e),bt(this.data,o,r),i.silent||this.emit("added",t,e,s,r)}addResources(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in s)(v(s[i])||Array.isArray(s[i]))&&this.addResource(t,e,i,s[i],{silent:!0});r.silent||this.emit("added",t,e,s)}addResourceBundle(t,e,s,r,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[t,e];t.indexOf(".")>-1&&(o=t.split("."),r=s,s=e,e=o[1]),this.addNamespaces(e);let l=Re(this.data,o)||{};a.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?Ft(l,s,i):l={...l,...s},bt(this.data,o,l),a.silent||this.emit("added",t,e,s)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return this.getResource(t,e)!==void 0}getResourceBundle(t,e){return e||(e=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,e)}:this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find(r=>e[r]&&Object.keys(e[r]).length>0)}toJSON(){return this.data}}var Bt={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,t,e,s,r){return n.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,e,s,r))}),t}};const vt={};class Te extends Ie{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ur(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=V.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const s=this.resolve(t,e);return s&&s.res!==void 0}extractFromKey(t,e){let s=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator;let i=e.ns||this.options.defaultNS||[];const a=s&&t.indexOf(s)>-1,o=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!xr(t,s,r);if(a&&!o){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:v(i)?[i]:i};const u=t.split(s);(s!==r||s===r&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(r)}return{key:t,namespaces:v(i)?[i]:i}}translate(t,e,s){if(typeof e!="object"&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),typeof e=="object"&&(e={...e}),e||(e={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const r=e.returnDetails!==void 0?e.returnDetails:this.options.returnDetails,i=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(t[t.length-1],e),l=o[o.length-1],u=e.lng||this.language,c=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const S=e.nsSeparator||this.options.nsSeparator;return r?{res:`${l}${S}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:`${l}${S}${a}`}return r?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:a}const p=this.resolve(t,e);let d=p&&p.res;const f=p&&p.usedKey||a,y=p&&p.exactUsedKey||a,m=Object.prototype.toString.apply(d),g=["[object Number]","[object Function]","[object RegExp]"],x=e.joinArrays!==void 0?e.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!v(d)&&typeof d!="boolean"&&typeof d!="number";if(b&&d&&w&&g.indexOf(m)<0&&!(v(x)&&Array.isArray(d))){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,d,{...e,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return r?(p.res=S,p.usedParams=this.getUsedParamsDetails(e),p):S}if(i){const S=Array.isArray(d),k=S?[]:{},j=S?y:f;for(const O in d)if(Object.prototype.hasOwnProperty.call(d,O)){const X=`${j}${i}${O}`;k[O]=this.translate(X,{...e,joinArrays:!1,ns:o}),k[O]===X&&(k[O]=d[O])}d=k}}else if(b&&v(x)&&Array.isArray(d))d=d.join(x),d&&(d=this.extendTranslation(d,t,e,s));else{let S=!1,k=!1;const j=e.count!==void 0&&!v(e.count),O=Te.hasDefaultValue(e),X=j?this.pluralResolver.getSuffix(u,e.count,e):"",he=e.ordinal&&j?this.pluralResolver.getSuffix(u,e.count,{ordinal:!1}):"",ie=j&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),U=ie&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${X}`]||e[`defaultValue${he}`]||e.defaultValue;!this.isValidLookup(d)&&O&&(S=!0,d=U),this.isValidLookup(d)||(k=!0,d=a);const Ce=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:d,B=O&&U!==d&&this.options.updateMissing;if(k||S||B){if(this.logger.log(B?"updateKey":"missingKey",u,l,a,B?U:d),i){const T=this.resolve(a,{...e,keySeparator:!1});T&&T.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let H=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let T=0;T<K.length;T++)H.push(K[T]);else this.options.saveMissingTo==="all"?H=this.languageUtils.toResolveHierarchy(e.lng||this.language):H.push(e.lng||this.language);const pe=(T,M,q)=>{const $=O&&q!==d?q:Ce;this.options.missingKeyHandler?this.options.missingKeyHandler(T,l,M,$,B,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(T,l,M,$,B,e),this.emit("missingKey",T,l,M,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?H.forEach(T=>{const M=this.pluralResolver.getSuffixes(T,e);ie&&e[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(q=>{pe([T],a+q,e[`defaultValue${q}`]||U)})}):pe(H,a,U))}d=this.extendTranslation(d,t,e,p,s),k&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${a}`),(k||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,S?d:void 0):d=this.options.parseMissingKeyHandler(d))}return r?(p.res=d,p.usedParams=this.getUsedParamsDetails(e),p):d}extendTranslation(t,e,s,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const u=v(t)&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=t.match(this.interpolator.nestingRegexp);c=d&&d.length}let p=s.replace&&!v(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),t=this.interpolator.interpolate(t,p,s.lng||this.language||r.usedLng,s),u){const d=t.match(this.interpolator.nestingRegexp),f=d&&d.length;c<f&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var d=arguments.length,f=new Array(d),y=0;y<d;y++)f[y]=arguments[y];return i&&i[0]===f[0]&&!s.context?(a.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${e[0]}`),null):a.translate(...f,e)},s)),s.interpolation&&this.interpolator.reset()}const o=s.postProcess||this.options.postProcess,l=v(o)?[o]:o;return t!=null&&l&&l.length&&s.applyPostProcessor!==!1&&(t=Bt.handle(l,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,r,i,a,o;return v(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(s))return;const u=this.extractFromKey(l,e),c=u.key;r=c;let p=u.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const d=e.count!==void 0&&!v(e.count),f=d&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),y=e.context!==void 0&&(v(e.context)||typeof e.context=="number")&&e.context!=="",m=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);p.forEach(g=>{this.isValidLookup(s)||(o=g,!vt[`${m[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(vt[`${m[0]}-${g}`]=!0,this.logger.warn(`key "${r}" for languages "${m.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(x=>{if(this.isValidLookup(s))return;a=x;const b=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,c,x,g,e);else{let S;d&&(S=this.pluralResolver.getSuffix(x,e.count,e));const k=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(b.push(c+S),e.ordinal&&S.indexOf(j)===0&&b.push(c+S.replace(j,this.options.pluralSeparator)),f&&b.push(c+k)),y){const O=`${c}${this.options.contextSeparator}${e.context}`;b.push(O),d&&(b.push(O+S),e.ordinal&&S.indexOf(j)===0&&b.push(O+S.replace(j,this.options.pluralSeparator)),f&&b.push(O+k))}}let w;for(;w=b.pop();)this.isValidLookup(s)||(i=w,s=this.getResource(x,g,w,e))}))})}),{res:s,usedKey:r,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,s,r):this.resourceStore.getResource(t,e,s,r)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!v(t.replace);let r=s?t.replace:t;if(s&&typeof t.count<"u"&&(r.count=t.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const i of e)delete r[i]}return r}static hasDefaultValue(t){const e="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e===s.substring(0,e.length)&&t[s]!==void 0)return!0;return!1}}const Ue=n=>n.charAt(0).toUpperCase()+n.slice(1);class wt{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=V.create("languageUtils")}getScriptPartFromCode(t){if(t=Oe(t),!t||t.indexOf("-")<0)return null;const e=t.split("-");return e.length===2||(e.pop(),e[e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(t){if(t=Oe(t),!t||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(v(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let r=Intl.getCanonicalLocales(t)[0];if(r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r)return r}catch{}const e=["hans","hant","latn","cyrl","cans","mong","arab"];let s=t.split("-");return this.options.lowerCaseLng?s=s.map(r=>r.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),e.indexOf(s[1].toLowerCase())>-1&&(s[1]=Ue(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),e.indexOf(s[1].toLowerCase())>-1&&(s[1]=Ue(s[1].toLowerCase())),e.indexOf(s[2].toLowerCase())>-1&&(s[2]=Ue(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach(s=>{if(e)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(e=r)}),!e&&this.options.supportedLngs&&t.forEach(s=>{if(e)return;const r=this.getLanguagePartFromCode(s);if(this.isSupportedCode(r))return e=r;e=this.options.supportedLngs.find(i=>{if(i===r)return i;if(!(i.indexOf("-")<0&&r.indexOf("-")<0)&&(i.indexOf("-")>0&&r.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===r||i.indexOf(r)===0&&r.length>1))return i})}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if(typeof t=="function"&&(t=t(e)),v(t)&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let s=t[e];return s||(s=t[this.getScriptPartFromCode(e)]),s||(s=t[this.formatLanguageCode(e)]),s||(s=t[this.getLanguagePartFromCode(e)]),s||(s=t.default),s||[]}toResolveHierarchy(t,e){const s=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],i=a=>{a&&(this.isSupportedCode(a)?r.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return v(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):v(t)&&i(this.formatLanguageCode(t)),s.forEach(a=>{r.indexOf(a)<0&&i(this.formatLanguageCode(a))}),r}}let wr=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Sr={1:n=>+(n>1),2:n=>+(n!=1),3:n=>0,4:n=>n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,5:n=>n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5,6:n=>n==1?0:n>=2&&n<=4?1:2,7:n=>n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,8:n=>n==1?0:n==2?1:n!=8&&n!=11?2:3,9:n=>+(n>=2),10:n=>n==1?0:n==2?1:n<7?2:n<11?3:4,11:n=>n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3,12:n=>+(n%10!=1||n%100==11),13:n=>+(n!==0),14:n=>n==1?0:n==2?1:n==3?2:3,15:n=>n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2,16:n=>n%10==1&&n%100!=11?0:n!==0?1:2,17:n=>n==1||n%10==1&&n%100!=11?0:1,18:n=>n==0?0:n==1?1:2,19:n=>n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3,20:n=>n==1?0:n==0||n%100>0&&n%100<20?1:2,21:n=>n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0,22:n=>n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3};const Cr=["v1","v2","v3"],Nr=["v4"],St={zero:0,one:1,two:2,few:3,many:4,other:5},kr=()=>{const n={};return wr.forEach(t=>{t.lngs.forEach(e=>{n[e]={numbers:t.nr,plurals:Sr[t.fc]}})}),n};class jr{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=V.create("pluralResolver"),(!this.options.compatibilityJSON||Nr.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=kr(),this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const s=Oe(t==="dev"?"en":t),r=e.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(s,{type:r})}catch{if(!t.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,e)}return this.pluralRulesCache[i]=a,a}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(t,e);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,s).map(r=>`${e}${r}`)}getSuffixes(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(t,e);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((r,i)=>St[r]-St[i]).map(r=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${r}`):s.numbers.map(r=>this.getSuffix(t,r,e)):[]}getSuffix(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(t,s);return r?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(e)}`:this.getSuffixRetroCompatible(r,e):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,e){const s=t.noAbs?t.plurals(e):t.plurals(Math.abs(e));let r=t.numbers[s];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!Cr.includes(this.options.compatibilityJSON)}}const Ct=function(n,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=pr(n,t,e);return!i&&r&&v(e)&&(i=Qe(n,e,s),i===void 0&&(i=Qe(t,e,s))),i},Ke=n=>n.replace(/\$/g,"$$$$");class Er{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=V.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(e=>e),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:e,escapeValue:s,useRawValueToEscape:r,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:p,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:y,nestingSuffixEscaped:m,nestingOptionsSeparator:g,maxReplaces:x,alwaysFormat:b}=t.interpolation;this.escape=e!==void 0?e:gr,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=i?le(i):a||"{{",this.suffix=o?le(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?le(d):f||le("$t("),this.nestingSuffix=y?le(y):m||le(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=x||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(e,s)=>e&&e.source===s?(e.lastIndex=0,e):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,s,r){let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=f=>{if(f.indexOf(this.formatSeparator)<0){const x=Ct(e,l,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,s,{...r,...e,interpolationkey:f}):x}const y=f.split(this.formatSeparator),m=y.shift().trim(),g=y.join(this.formatSeparator).trim();return this.format(Ct(e,l,m,this.options.keySeparator,this.options.ignoreJSONStructure),g,s,{...r,...e,interpolationkey:m})};this.resetRegExp();const c=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>Ke(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?Ke(this.escape(f)):Ke(f)}].forEach(f=>{for(o=0;i=f.regex.exec(t);){const y=i[1].trim();if(a=u(y),a===void 0)if(typeof c=="function"){const g=c(t,i,r);a=v(g)?g:""}else if(r&&Object.prototype.hasOwnProperty.call(r,y))a="";else if(p){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),a="";else!v(a)&&!this.useRawValueToEscape&&(a=gt(a));const m=f.safeValue(a);if(t=t.replace(i[0],m),p?(f.regex.lastIndex+=a.length,f.regex.lastIndex-=i[0].length):f.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,a;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const p=l.split(new RegExp(`${c}[ ]*{`));let d=`{${p[1]}`;l=p[0],d=this.interpolate(d,a);const f=d.match(/'/g),y=d.match(/"/g);(f&&f.length%2===0&&!y||y.length%2!==0)&&(d=d.replace(/'/g,'"'));try{a=JSON.parse(d),u&&(a={...u,...a})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${c}${d}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;r=this.nestingRegexp.exec(t);){let l=[];a={...s},a=a.replace&&!v(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const c=r[1].split(this.formatSeparator).map(p=>p.trim());r[1]=c.shift(),l=c,u=!0}if(i=e(o.call(this,r[1].trim(),a),a),i&&r[0]===t&&!v(i))return i;v(i)||(i=gt(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${t}`),i=""),u&&(i=l.reduce((c,p)=>this.format(c,p,s.lng,{...s,interpolationkey:r[1].trim()}),i.trim())),t=t.replace(r[0],i),this.regexp.lastIndex=0}return t}}const Lr=n=>{let t=n.toLowerCase().trim();const e={};if(n.indexOf("(")>-1){const s=n.split("(");t=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);t==="currency"&&r.indexOf(":")<0?e.currency||(e.currency=r.trim()):t==="relativetime"&&r.indexOf(":")<0?e.range||(e.range=r.trim()):r.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();e[c]||(e[c]=u),u==="false"&&(e[c]=!1),u==="true"&&(e[c]=!0),isNaN(u)||(e[c]=parseInt(u,10))}})}return{formatName:t,formatOptions:e}},ce=n=>{const t={};return(e,s,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i={...i,[r.interpolationkey]:void 0});const a=s+JSON.stringify(i);let o=t[a];return o||(o=n(Oe(s),r),t[a]=o),o(e)}};class Rr{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=V.create("formatter"),this.options=t,this.formats={number:ce((e,s)=>{const r=new Intl.NumberFormat(e,{...s});return i=>r.format(i)}),currency:ce((e,s)=>{const r=new Intl.NumberFormat(e,{...s,style:"currency"});return i=>r.format(i)}),datetime:ce((e,s)=>{const r=new Intl.DateTimeFormat(e,{...s});return i=>r.format(i)}),relativetime:ce((e,s)=>{const r=new Intl.RelativeTimeFormat(e,{...s});return i=>r.format(i,s.range||"day")}),list:ce((e,s)=>{const r=new Intl.ListFormat(e,{...s});return i=>r.format(i)})},this.init(t)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=ce(e)}format(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=e.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{const{formatName:u,formatOptions:c}=Lr(l);if(this.formats[u]){let p=o;try{const d=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},f=d.locale||d.lng||r.locale||r.lng||s;p=this.formats[u](o,f,{...c,...r,...d})}catch(d){this.logger.warn(d)}return p}else this.logger.warn(`there was no format function for ${u}`);return o},t)}}const Or=(n,t)=>{n.pending[t]!==void 0&&(delete n.pending[t],n.pendingCount--)};class Pr extends Ie{constructor(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=V.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,r.backend,r)}queueLoad(t,e,s,r){const i={},a={},o={},l={};return t.forEach(u=>{let c=!0;e.forEach(p=>{const d=`${u}|${p}`;!s.reload&&this.store.hasResourceBundle(u,p)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,c=!1,a[d]===void 0&&(a[d]=!0),i[d]===void 0&&(i[d]=!0),l[p]===void 0&&(l[p]=!0)))}),c||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,e,s){const r=t.split("|"),i=r[0],a=r[1];e&&this.emit("failedLoading",i,a,e),!e&&s&&this.store.addResourceBundle(i,a,s,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2,e&&s&&(this.state[t]=0);const o={};this.queue.forEach(l=>{hr(l.loaded,[i],a),Or(l,t),e&&l.errors.push(e),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(p=>{o[u][p]===void 0&&(o[u][p]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:e,fcName:s,tried:r,wait:i,callback:a});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(u&&c&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,t,e,s,r+1,i*2,a)},i);return}a(u,c)},l=this.backend[s].bind(this.backend);if(l.length===2){try{const u=l(t,e);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(t,e,o)}prepareLoading(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();v(t)&&(t=this.languageUtils.toResolveHierarchy(t)),v(e)&&(e=[e]);const i=this.queueLoad(t,e,s,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(t,e,s){this.prepareLoading(t,e,{},s)}reload(t,e,s){this.prepareLoading(t,e,{reload:!0},s)}loadOne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=t.split("|"),r=s[0],i=s[1];this.read(r,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${e}loading namespace ${i} for language ${r} failed`,a),!a&&o&&this.logger.log(`${e}loaded namespace ${i} for language ${r}`,o),this.loaded(t,a,o)})}saveMissing(t,e,s,r,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)){this.logger.warn(`did not save key "${s}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(t,e,s,r,l):c=u(t,e,s,r),c&&typeof c.then=="function"?c.then(p=>o(null,p)).catch(o):o(null,c)}catch(c){o(c)}else u(t,e,s,r,o,l)}!t||!t[0]||this.store.addResource(t[0],e,s,r)}}}const Nt=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let t={};if(typeof n[1]=="object"&&(t=n[1]),v(n[1])&&(t.defaultValue=n[1]),v(n[2])&&(t.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const e=n[3]||n[2];Object.keys(e).forEach(s=>{t[s]=e[s]})}return t},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),kt=n=>(v(n.ns)&&(n.ns=[n.ns]),v(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),v(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n),je=()=>{},Tr=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{typeof n[e]=="function"&&(n[e]=n[e].bind(n))})};class Se extends Ie{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=kt(t),this.services={},this.logger=V,this.modules={external:[]},Tr(this),e&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,e),this;setTimeout(()=>{this.init(t,e)},0)}}init(){var t=this;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof e=="function"&&(s=e,e={}),!e.defaultNS&&e.defaultNS!==!1&&e.ns&&(v(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Nt();this.options={...r,...this.options,...kt(e)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?V.init(i(this.modules.logger),this.options):V.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Rr);const p=new wt(this.options);this.store=new xt(this.options.resources,this.options);const d=this.services;d.logger=V,d.resourceStore=this.store,d.languageUtils=p,d.pluralResolver=new jr(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Er(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Pr(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(f){for(var y=arguments.length,m=new Array(y>1?y-1:0),g=1;g<y;g++)m[g-1]=arguments[g];t.emit(f,...m)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Te(this.services,this.options),this.translator.on("*",function(f){for(var y=arguments.length,m=new Array(y>1?y-1:0),g=1;g<y;g++)m[g-1]=arguments[g];t.emit(f,...m)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,s||(s=je),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});const l=xe(),u=()=>{const c=(p,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),s(p,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:je;const r=v(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};r?a(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(o)})}else s(null)}reloadResources(t,e,s){const r=xe();return typeof t=="function"&&(s=t,t=void 0),typeof e=="function"&&(s=e,e=void 0),t||(t=this.languages),e||(e=this.options.ns),s||(s=je),this.services.backendConnector.reload(t,e,i=>{r.resolve(),s(i)}),r}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Bt.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let e=0;e<this.languages.length;e++){const s=this.languages[e];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(t,e){var s=this;this.isLanguageChangingTo=t;const r=xe();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve(function(){return s.t(...arguments)}),e&&e(l,function(){return s.t(...arguments)})},o=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const u=v(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{a(c,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,e,s){var r=this;const i=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),p=2;p<u;p++)c[p-2]=arguments[p];l=r.options.overloadTranslationOptionHandler([a,o].concat(c))}else l={...o};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||s||i.keyPrefix);const d=r.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(a)?f=a.map(y=>`${l.keyPrefix}${d}${y}`):f=l.keyPrefix?`${l.keyPrefix}${d}${a}`:a,r.t(f,l)};return v(t)?i.lng=t:i.lngs=t,i.ns=e,i.keyPrefix=s,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=e.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(e.precheck){const o=e.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(s,t)&&(!r||a(i,t)))}loadNamespaces(t,e){const s=xe();return this.options.ns?(v(t)&&(t=[t]),t.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),e&&e(r)}),s):(e&&e(),Promise.resolve())}loadLanguages(t,e){const s=xe();v(t)&&(t=[t]);const r=this.options.preload||[],i=t.filter(a=>r.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=r.concat(i),this.loadResources(a=>{s.resolve(),e&&e(a)}),s):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new wt(Nt());return e.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Se(t,e)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:je;const s=t.forkResourceStore;s&&delete t.forkResourceStore;const r={...this.options,...t,isClone:!0},i=new Se(r);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s&&(i.store=new xt(this.store.data,r),i.services.resourceStore=i.store),i.translator=new Te(i.services,r),i.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];i.emit(o,...u)}),i.init(r,e),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const I=Se.createInstance();I.createInstance=Se.createInstance;I.createInstance;I.dir;I.init;I.loadResources;I.reloadResources;I.use;I.changeLanguage;I.getFixedT;I.t;I.exists;I.setDefaultNamespace;I.hasLoadedNamespace;I.loadNamespaces;I.loadLanguages;const _r={en:{translation:{nav:{planner:"Trip Planner",about:"About",help:"Help",settings:"Settings"},map:{title:"European Camper Trip Planner",addWaypoint:"Click map to add waypoint",removeWaypoint:"Remove waypoint",clearRoute:"Clear route",optimizeRoute:"Optimize route"},vehicle:{title:"Vehicle Profile",height:"Height (m)",width:"Width (m)",weight:"Weight (t)",length:"Length (m)",save:"Save Profile",clear:"Clear Profile"},route:{title:"Route Planning",distance:"Total Distance",duration:"Estimated Time",waypoints:"Waypoints",export:"Export Route",save:"Save Trip"},campsites:{title:"Campsites",campsite:"Campsite",aire:"Aire",parking:"Parking",filter:"Filter",showAll:"Show All"},actions:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",loading:"Loading...",error:"Error",success:"Success"},errors:{routeCalculation:"Failed to calculate route",vehicleValidation:"Invalid vehicle dimensions",networkError:"Network connection error",apiKeyMissing:"API key not configured"},success:{tripSaved:"Trip saved successfully",routeOptimized:"Route optimized",profileSaved:"Vehicle profile saved"}}}};I.use(hs).init({resources:_r,lng:"en",fallbackLng:"en",supportedLngs:["en"],interpolation:{escapeValue:!1},defaultNS:"translation",debug:!1,react:{useSuspense:!1},saveMissing:!1,missingKeyHandler:(n,t,e)=>{}});const Ir=D.lazy(()=>z(()=>import("./PlannerPage-DG8VqSn6.js").then(n=>n.P),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),Ar=D.lazy(()=>z(()=>import("./AboutPage-CkVDJWt6.js"),__vite__mapDeps([16,1,17,11,18,12,8,7]))),Mr=D.lazy(()=>z(()=>import("./HelpPage-BquLPjnZ.js"),__vite__mapDeps([19,1,17,13,7]))),$r=D.lazy(()=>z(()=>import("./SettingsPage-eCoEZ52l.js"),__vite__mapDeps([20,1,21,11,5,18,7]))),Dr=D.lazy(()=>z(()=>import("./NotFoundPage-CB_9Bo5T.js"),__vite__mapDeps([22,1,7]))),zr=D.lazy(()=>z(()=>import("./SupportPage-cJfsLw2X.js"),__vite__mapDeps([23,1,24,6,12,18,7]))),Fr=D.lazy(()=>z(()=>import("./PrivacyPolicyPage-DjBHBoMx.js"),__vite__mapDeps([25,1,24,18,7]))),Br=D.lazy(()=>z(()=>import("./TermsPage-BY7F1jlX.js"),__vite__mapDeps([26,1,24,4,7]))),Vr=D.lazy(()=>z(()=>import("./AffiliateDisclosurePage-Df_CeZPI.js"),__vite__mapDeps([27,1,24,7]))),Ur=D.lazy(()=>z(()=>import("./FeedbackPage-D8XXcCVq.js"),__vite__mapDeps([28,1,24,14,9,17,7]))),Kr=D.lazy(()=>z(()=>import("./BlogListPage-BGe3p1qO.js"),__vite__mapDeps([29,1,30,10,7]))),Wr=D.lazy(()=>z(()=>import("./BlogPostPage-BfL6feYa.js"),__vite__mapDeps([31,1,30,10,17,3,14,21,7]))),Hr=()=>{const n=jt(),{isLoading:t,error:e,sidebarOpen:s}=Le(),{showOnboarding:r,completeOnboarding:i,skipOnboarding:a}=Zn(),o=n.pathname!=="/";return h.jsx(Hn,{children:h.jsxs("div",{className:o?"min-h-screen flex flex-col bg-neutral-50":"h-screen flex flex-col bg-neutral-50",children:[h.jsx(Qn,{}),r&&n.pathname==="/"&&h.jsx(cr,{onComplete:i,onSkip:a}),h.jsx(Un,{}),t&&h.jsx("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 z-50",children:h.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-3 flex items-center space-x-2",children:[h.jsx(dt,{size:"sm"}),h.jsx("span",{className:"text-sm text-neutral-600",children:"Loading..."})]})}),e&&h.jsx("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 z-50 max-w-md w-full mx-4",children:h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),h.jsx("div",{className:"ml-3",children:h.jsx("p",{className:"text-sm text-red-800",children:e})}),h.jsx("div",{className:"ml-auto pl-3",children:h.jsxs("button",{className:"text-red-400 hover:text-red-600",onClick:()=>Le.getState().setError(null),children:[h.jsx("span",{className:"sr-only",children:"Dismiss"}),h.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})}),h.jsx(qn,{sidebar:void 0,sidebarOpen:s,children:h.jsx(N.Suspense,{fallback:h.jsx("div",{className:"h-full flex items-center justify-center",children:h.jsx(dt,{size:"lg"})}),children:h.jsx(Gt,{})})}),o&&h.jsx(Wn,{})]})})},qr=Ht([{path:"/",element:h.jsx(Hr,{}),children:[{index:!0,element:h.jsx(Ir,{})},{path:"about",element:h.jsx(Ar,{})},{path:"help",element:h.jsx(Mr,{})},{path:"settings",element:h.jsx($r,{})},{path:"support",element:h.jsx(zr,{})},{path:"privacy",element:h.jsx(Fr,{})},{path:"terms",element:h.jsx(Br,{})},{path:"affiliate-disclosure",element:h.jsx(Vr,{})},{path:"feedback",element:h.jsx(Ur,{})},{path:"guides",element:h.jsx(Kr,{})},{path:"guides/:slug",element:h.jsx(Wr,{})},{path:"*",element:h.jsx(Dr,{})}]}],{basename:"/"});function Gr(){return h.jsx(qt,{router:qr})}Zt.createRoot(document.getElementById("root")).render(h.jsx(N.StrictMode,{children:h.jsx(Gr,{})}));export{Cs as A,Es as B,Ot as C,ot as E,Xs as F,_s as H,As as M,zs as N,lt as R,Vs as S,Hs as T,Ys as W,Zs as X,z as _,P as a,Xr as b,_ as c,zt as d,ri as e,Le as f,ni as g,Y as h,Vn as i,h as j,F as k,ti as l,Ks as m,Rs as n,si as o,_e as p,Yn as q,Zr as r,Zn as s,ks as t,De as u,$s as v,ei as w,ms as x};
