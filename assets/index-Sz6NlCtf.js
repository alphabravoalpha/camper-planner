const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlannerPage-BdIFSX8c.js","assets/react-vendor-DB9SfNWA.js","assets/map-vendor-D1_z6wB-.js","assets/state-vendor--7Lts539.js","assets/PlannerPage-CkBHbQju.css","assets/AboutPage-B7Umdm0Y.js","assets/HelpPage-Bn5nnnfJ.js","assets/SettingsPage-CpMWPZXB.js","assets/NotFoundPage-d9fZ-t9E.js"])))=>i.map(i=>d[i]);
var It=Object.defineProperty;var Pt=(s,t,e)=>t in s?It(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var I=(s,t,e)=>Pt(s,typeof t!="symbol"?t+"":t,e);import{r as Mt,c as Tt,a as C,u as ft,L as je,R as ge,d as At,e as $t,O as Ht}from"./react-vendor-DB9SfNWA.js";import{c as J}from"./state-vendor--7Lts539.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();var ke={exports:{}},re={};var Ve;function _t(){if(Ve)return re;Ve=1;var s=Mt(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,g={},h=null,m=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(u in l)n.call(l,u)&&!r.hasOwnProperty(u)&&(g[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)g[u]===void 0&&(g[u]=l[u]);return{$$typeof:t,type:o,key:h,ref:m,props:g,_owner:i.current}}return re.Fragment=e,re.jsx=a,re.jsxs=a,re}var Be;function Ft(){return Be||(Be=1,ke.exports=_t()),ke.exports}var d=Ft(),fe={},Ue;function zt(){if(Ue)return fe;Ue=1;var s=Tt();return fe.createRoot=s.createRoot,fe.hydrateRoot=s.hydrateRoot,fe}var Dt=zt();const Wt="modulepreload",Vt=function(s){return"/camper-planner/"+s},Ke={},me=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=l(e.map(c=>{if(c=Vt(c),c in Ke)return;Ke[c]=!0;const u=c.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Wt,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((m,b)=>{h.addEventListener("load",m),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return t().catch(r)})};function Bt(){if(console&&console.warn){for(var s=arguments.length,t=new Array(s),e=0;e<s;e++)t[e]=arguments[e];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const Ge={};function Me(){for(var s=arguments.length,t=new Array(s),e=0;e<s;e++)t[e]=arguments[e];typeof t[0]=="string"&&Ge[t[0]]||(typeof t[0]=="string"&&(Ge[t[0]]=new Date),Bt(...t))}const bt=(s,t)=>()=>{if(s.isInitialized)t();else{const e=()=>{setTimeout(()=>{s.off("initialized",e)},0),t()};s.on("initialized",e)}};function qe(s,t,e){s.loadNamespaces(t,bt(s,e))}function Je(s,t,e,n){typeof e=="string"&&(e=[e]),e.forEach(i=>{s.options.ns.indexOf(i)<0&&s.options.ns.push(i)}),s.loadLanguages(t,bt(s,n))}function Ut(s,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=t.languages[0],i=t.options?t.options.fallbackLng:!1,r=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=t.services.backendConnector.state[`${o}|${l}`];return c===-1||c===2};return e.bindI18n&&e.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,s)?!1:!!(t.hasResourceBundle(n,s)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(n,s)&&(!i||a(r,s)))}function Kt(s,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(Me("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(s,{lng:e.lng,precheck:(i,r)=>{if(e.bindI18n&&e.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!r(i.isLanguageChangingTo,s))return!1}}):Ut(s,t,e)}const Gt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,qt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Jt=s=>qt[s],Qt=s=>s.replace(Gt,Jt);let Te={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Qt};function Yt(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Te={...Te,...s}}function Xt(){return Te}let yt;function Zt(s){yt=s}function en(){return yt}const tn={type:"3rdParty",init(s){Yt(s.options.react),Zt(s)}},nn=C.createContext();class sn{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const rn=(s,t)=>{const e=C.useRef();return C.useEffect(()=>{e.current=s},[s,t]),e.current};function xt(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:e}=t,{i18n:n,defaultNS:i}=C.useContext(nn)||{},r=e||n||en();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new sn),!r){Me("You will need to pass in an i18next instance by using initReactI18next");const w=(N,j)=>typeof j=="string"?j:j&&typeof j=="object"&&typeof j.defaultValue=="string"?j.defaultValue:Array.isArray(N)?N[N.length-1]:N,S=[w,{},!1];return S.t=w,S.i18n={},S.ready=!1,S}r.options.react&&r.options.react.wait!==void 0&&Me("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Xt(),...r.options.react,...t},{useSuspense:o,keyPrefix:l}=a;let c=i||r.options&&r.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],r.reportNamespaces.addUsedNamespaces&&r.reportNamespaces.addUsedNamespaces(c);const u=(r.isInitialized||r.initializedStoreOnce)&&c.every(w=>Kt(w,r,a));function g(){return r.getFixedT(t.lng||null,a.nsMode==="fallback"?c:c[0],l)}const[h,m]=C.useState(g);let b=c.join();t.lng&&(b=`${t.lng}${b}`);const p=rn(b),f=C.useRef(!0);C.useEffect(()=>{const{bindI18n:w,bindI18nStore:S}=a;f.current=!0,!u&&!o&&(t.lng?Je(r,t.lng,c,()=>{f.current&&m(g)}):qe(r,c,()=>{f.current&&m(g)})),u&&p&&p!==b&&f.current&&m(g);function N(){f.current&&m(g)}return w&&r&&r.on(w,N),S&&r&&r.store.on(S,N),()=>{f.current=!1,w&&r&&w.split(" ").forEach(j=>r.off(j,N)),S&&r&&S.split(" ").forEach(j=>r.store.off(j,N))}},[r,b]);const x=C.useRef(!0);C.useEffect(()=>{f.current&&!x.current&&m(g),x.current=!1},[r,l]);const y=[h,r,u];if(y.t=h,y.i18n=r,y.ready=u,u||!u&&!o)return y;throw new Promise(w=>{t.lng?Je(r,t.lng,c,()=>w()):qe(r,c,()=>w())})}const an=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),on=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),Qe=s=>{const t=on(s);return t.charAt(0).toUpperCase()+t.slice(1)},wt=(...s)=>s.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),ln=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var cn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dn=C.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:i="",children:r,iconNode:a,...o},l)=>C.createElement("svg",{ref:l,...cn,width:t,height:t,stroke:s,strokeWidth:n?Number(e)*24/Number(t):e,className:wt("lucide",i),...!r&&!ln(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,u])=>C.createElement(c,u)),...Array.isArray(r)?r:[r]]));const un=(s,t)=>{const e=C.forwardRef(({className:n,...i},r)=>C.createElement(dn,{ref:r,iconNode:t,className:wt(`lucide-${an(Qe(s))}`,`lucide-${s}`,n),...i}));return e.displayName=Qe(s),e};const hn=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Ye=un("route",hn),Ae={routing:{endpoints:{openrouteservice:"https://api.openrouteservice.org/v2",osrm:"https://router.project-osrm.org"}},campsites:{sources:{overpass:"https://overpass-api.de/api/interpreter"}}};function vt(s){var t,e,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var i=s.length;for(t=0;t<i;t++)s[t]&&(e=vt(s[t]))&&(n&&(n+=" "),n+=e)}else for(e in s)s[e]&&(n&&(n+=" "),n+=e);return n}function gn(){for(var s,t,e=0,n="",i=arguments.length;e<i;e++)(s=arguments[e])&&(t=vt(s))&&(n&&(n+=" "),n+=t);return n}const De="-",mn=s=>{const t=fn(s),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=s;return{getClassGroupId:a=>{const o=a.split(De);return o[0]===""&&o.length!==1&&o.shift(),St(o,t)||pn(a)},getConflictingClassGroupIds:(a,o)=>{const l=e[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},St=(s,t)=>{if(s.length===0)return t.classGroupId;const e=s[0],n=t.nextPart.get(e),i=n?St(s.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const r=s.join(De);return t.validators.find(({validator:a})=>a(r))?.classGroupId},Xe=/^\[(.+)\]$/,pn=s=>{if(Xe.test(s)){const t=Xe.exec(s)[1],e=t?.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},fn=s=>{const{theme:t,prefix:e}=s,n={nextPart:new Map,validators:[]};return yn(Object.entries(s.classGroups),e).forEach(([r,a])=>{$e(a,n,r,t)}),n},$e=(s,t,e,n)=>{s.forEach(i=>{if(typeof i=="string"){const r=i===""?t:Ze(t,i);r.classGroupId=e;return}if(typeof i=="function"){if(bn(i)){$e(i(n),t,e,n);return}t.validators.push({validator:i,classGroupId:e});return}Object.entries(i).forEach(([r,a])=>{$e(a,Ze(t,r),e,n)})})},Ze=(s,t)=>{let e=s;return t.split(De).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},bn=s=>s.isThemeGetter,yn=(s,t)=>t?s.map(([e,n])=>{const i=n.map(r=>typeof r=="string"?t+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([a,o])=>[t+a,o])):r);return[e,i]}):s,xn=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const i=(r,a)=>{e.set(r,a),t++,t>s&&(t=0,n=e,e=new Map)};return{get(r){let a=e.get(r);if(a!==void 0)return a;if((a=n.get(r))!==void 0)return i(r,a),a},set(r,a){e.has(r)?e.set(r,a):i(r,a)}}},Lt="!",wn=s=>{const{separator:t,experimentalParseClassName:e}=s,n=t.length===1,i=t[0],r=t.length,a=o=>{const l=[];let c=0,u=0,g;for(let f=0;f<o.length;f++){let x=o[f];if(c===0){if(x===i&&(n||o.slice(f,f+r)===t)){l.push(o.slice(u,f)),u=f+r;continue}if(x==="/"){g=f;continue}}x==="["?c++:x==="]"&&c--}const h=l.length===0?o:o.substring(u),m=h.startsWith(Lt),b=m?h.substring(1):h,p=g&&g>u?g-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:p}};return e?o=>e({className:o,parseClassName:a}):a},vn=s=>{if(s.length<=1)return s;const t=[];let e=[];return s.forEach(n=>{n[0]==="["?(t.push(...e.sort(),n),e=[]):e.push(n)}),t.push(...e.sort()),t},Sn=s=>({cache:xn(s.cacheSize),parseClassName:wn(s),...mn(s)}),Ln=/\s+/,Cn=(s,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:i}=t,r=[],a=s.trim().split(Ln);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:m}=e(c);let b=!!m,p=n(b?h.substring(0,m):h);if(!p){if(!b){o=c+(o.length>0?" "+o:o);continue}if(p=n(h),!p){o=c+(o.length>0?" "+o:o);continue}b=!1}const f=vn(u).join(":"),x=g?f+Lt:f,y=x+p;if(r.includes(y))continue;r.push(y);const w=i(p,b);for(let S=0;S<w.length;++S){const N=w[S];r.push(x+N)}o=c+(o.length>0?" "+o:o)}return o};function Nn(){let s=0,t,e,n="";for(;s<arguments.length;)(t=arguments[s++])&&(e=Ct(t))&&(n&&(n+=" "),n+=e);return n}const Ct=s=>{if(typeof s=="string")return s;let t,e="";for(let n=0;n<s.length;n++)s[n]&&(t=Ct(s[n]))&&(e&&(e+=" "),e+=t);return e};function jn(s,...t){let e,n,i,r=a;function a(l){const c=t.reduce((u,g)=>g(u),s());return e=Sn(c),n=e.cache.get,i=e.cache.set,r=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=Cn(l,e);return i(l,u),u}return function(){return r(Nn.apply(null,arguments))}}const R=s=>{const t=e=>e[s]||[];return t.isThemeGetter=!0,t},Nt=/^\[(?:([a-z-]+):)?(.+)\]$/i,kn=/^\d+\/\d+$/,Rn=new Set(["px","full","screen"]),En=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,On=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,In=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Pn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,W=s=>te(s)||Rn.has(s)||kn.test(s),U=s=>ne(s,"length",Dn),te=s=>!!s&&!Number.isNaN(Number(s)),Re=s=>ne(s,"number",te),ae=s=>!!s&&Number.isInteger(Number(s)),Tn=s=>s.endsWith("%")&&te(s.slice(0,-1)),L=s=>Nt.test(s),K=s=>En.test(s),An=new Set(["length","size","percentage"]),$n=s=>ne(s,An,jt),Hn=s=>ne(s,"position",jt),_n=new Set(["image","url"]),Fn=s=>ne(s,_n,Vn),zn=s=>ne(s,"",Wn),oe=()=>!0,ne=(s,t,e)=>{const n=Nt.exec(s);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):e(n[2]):!1},Dn=s=>On.test(s)&&!In.test(s),jt=()=>!1,Wn=s=>Pn.test(s),Vn=s=>Mn.test(s),Bn=()=>{const s=R("colors"),t=R("spacing"),e=R("blur"),n=R("brightness"),i=R("borderColor"),r=R("borderRadius"),a=R("borderSpacing"),o=R("borderWidth"),l=R("contrast"),c=R("grayscale"),u=R("hueRotate"),g=R("invert"),h=R("gap"),m=R("gradientColorStops"),b=R("gradientColorStopPositions"),p=R("inset"),f=R("margin"),x=R("opacity"),y=R("padding"),w=R("saturate"),S=R("scale"),N=R("sepia"),j=R("skew"),O=R("space"),A=R("translate"),G=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",L,t],k=()=>[L,t],pe=()=>["",W,U],_=()=>["auto",te,L],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",L],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[te,L];return{cacheSize:500,separator:":",theme:{colors:[oe],spacing:[W,U],blur:["none","",K,L],brightness:$(),borderColor:[s],borderRadius:["none","","full",K,L],borderSpacing:k(),borderWidth:pe(),contrast:$(),grayscale:T(),hueRotate:$(),invert:T(),gap:k(),gradientColorStops:[s],gradientColorStopPositions:[Tn,U],inset:z(),margin:z(),opacity:$(),padding:k(),saturate:$(),scale:$(),sepia:T(),skew:$(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",L]}],container:["container"],columns:[{columns:[K]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),L]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ae,L]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",L]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",ae,L]}],"grid-cols":[{"grid-cols":[oe]}],"col-start-end":[{col:["auto",{span:["full",ae,L]},L]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[oe]}],"row-start-end":[{row:["auto",{span:[ae,L]},L]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",L]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",L]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",L,t]}],"min-w":[{"min-w":[L,t,"min","max","fit"]}],"max-w":[{"max-w":[L,t,"none","full","min","max","fit","prose",{screen:[K]},K]}],h:[{h:[L,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[L,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[L,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[L,t,"auto","min","max","fit"]}],"font-size":[{text:["base",K,U]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Re]}],"font-family":[{font:[oe]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",L]}],"line-clamp":[{"line-clamp":["none",te,Re]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",W,L]}],"list-image":[{"list-image":["none",L]}],"list-style-type":[{list:["none","disc","decimal",L]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",W,U]}],"underline-offset":[{"underline-offset":["auto",W,L]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",L]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",L]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Hn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$n]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Fn]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[W,L]}],"outline-w":[{outline:[W,U]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[W,U]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",K,zn]}],"shadow-color":[{shadow:[oe]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",K,L]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[g]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",L]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",L]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",L]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ae,L]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",L]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",L]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",L]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[W,U,Re]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Un=jn(Bn);function E(...s){return Un(gn(s))}const xe={BASE_URL:"/camper-planner/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ACSI_AFFILIATE_CODE:"your_acsi_affiliate_code",VITE_API_TIMEOUT:"10000",VITE_APP_ENV:"development",VITE_BOOKING_AFFILIATE_ID:"your_booking_affiliate_id",VITE_ORS_API_KEY:"5b3ce3597851110001cf6248a96ac2c424b94ce6b8b4be2a3074bdf3",VITE_PITCHUP_AFFILIATE_ID:"your_pitchup_affiliate_id"},He=new Map,be=s=>{const t=He.get(s);return t?Object.fromEntries(Object.entries(t.stores).map(([e,n])=>[e,n.getState()])):{}},Kn=(s,t,e)=>{if(s===void 0)return{type:"untracked",connection:t.connect(e)};const n=He.get(e.name);if(n)return{type:"tracked",store:s,...n};const i={connection:t.connect(e),stores:{}};return He.set(e.name,i),{type:"tracked",store:s,...i}},Gn=(s,t={})=>(e,n,i)=>{const{enabled:r,anonymousActionType:a,store:o,...l}=t;let c;try{c=(r??(xe?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return(xe?"production":void 0)!=="production"&&r&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),s(e,n,i);const{connection:u,...g}=Kn(o,c,l);let h=!0;i.setState=(p,f,x)=>{const y=e(p,f);if(!h)return y;const w=x===void 0?{type:a||"anonymous"}:typeof x=="string"?{type:x}:x;return o===void 0?(u?.send(w,n()),y):(u?.send({...w,type:`${o}/${w.type}`},{...be(l.name),[o]:i.getState()}),y)};const m=(...p)=>{const f=h;h=!1,e(...p),h=f},b=s(i.setState,n,i);if(g.type==="untracked"?u?.init(b):(g.stores[g.store]=i,u?.init(Object.fromEntries(Object.entries(g.stores).map(([p,f])=>[p,p===g.store?b:f.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let p=!1;const f=i.dispatch;i.dispatch=(...x)=>{(xe?"production":void 0)!=="production"&&x[0].type==="__setState"&&!p&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),p=!0),f(...x)}}return u.subscribe(p=>{var f;switch(p.type){case"ACTION":if(typeof p.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Ee(p.payload,x=>{if(x.type==="__setState"){if(o===void 0){m(x.state);return}Object.keys(x.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const y=x.state[o];if(y==null)return;JSON.stringify(i.getState())!==JSON.stringify(y)&&m(y);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(x)});case"DISPATCH":switch(p.payload.type){case"RESET":return m(b),o===void 0?u?.init(i.getState()):u?.init(be(l.name));case"COMMIT":if(o===void 0){u?.init(i.getState());return}return u?.init(be(l.name));case"ROLLBACK":return Ee(p.state,x=>{if(o===void 0){m(x),u?.init(i.getState());return}m(x[o]),u?.init(be(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Ee(p.state,x=>{if(o===void 0){m(x);return}JSON.stringify(i.getState())!==JSON.stringify(x[o])&&m(x[o])});case"IMPORT_STATE":{const{nextLiftedState:x}=p.payload,y=(f=x.computedStates.slice(-1)[0])==null?void 0:f.state;if(!y)return;m(o===void 0?y:y[o]),u?.send(null,x);return}case"PAUSE_RECORDING":return h=!h}return}}),b},ie=Gn,Ee=(s,t)=>{let e;try{e=JSON.parse(s)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}e!==void 0&&t(e)};function qn(s,t){let e;try{e=s()}catch{return}return{getItem:i=>{var r;const a=l=>l===null?null:JSON.parse(l,void 0),o=(r=e.getItem(i))!=null?r:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,r)=>e.setItem(i,JSON.stringify(r,void 0)),removeItem:i=>e.removeItem(i)}}const ue=s=>t=>{try{const e=s(t);return e instanceof Promise?e:{then(n){return ue(n)(e)},catch(n){return this}}}catch(e){return{then(n){return this},catch(n){return ue(n)(e)}}}},Jn=(s,t)=>(e,n,i)=>{let r={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:f=>f,version:0,merge:(f,x)=>({...x,...f}),...t},a=!1;const o=new Set,l=new Set;let c;try{c=r.getStorage()}catch{}if(!c)return s((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),e(...f)},n,i);const u=ue(r.serialize),g=()=>{const f=r.partialize({...n()});let x;const y=u({state:f,version:r.version}).then(w=>c.setItem(r.name,w)).catch(w=>{x=w});if(x)throw x;return y},h=i.setState;i.setState=(f,x)=>{h(f,x),g()};const m=s((...f)=>{e(...f),g()},n,i);let b;const p=()=>{var f;if(!c)return;a=!1,o.forEach(y=>y(n()));const x=((f=r.onRehydrateStorage)==null?void 0:f.call(r,n()))||void 0;return ue(c.getItem.bind(c))(r.name).then(y=>{if(y)return r.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==r.version){if(r.migrate)return r.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var w;return b=r.merge(y,(w=n())!=null?w:m),e(b,!0),g()}).then(()=>{x?.(b,void 0),a=!0,l.forEach(y=>y(b))}).catch(y=>{x?.(void 0,y)})};return i.persist={setOptions:f=>{r={...r,...f},f.getStorage&&(c=f.getStorage())},clearStorage:()=>{c?.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:f=>(o.add(f),()=>{o.delete(f)}),onFinishHydration:f=>(l.add(f),()=>{l.delete(f)})},p(),b||m},Qn=(s,t)=>(e,n,i)=>{let r={storage:qn(()=>localStorage),partialize:p=>p,version:0,merge:(p,f)=>({...f,...p}),...t},a=!1;const o=new Set,l=new Set;let c=r.storage;if(!c)return s((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),e(...p)},n,i);const u=()=>{const p=r.partialize({...n()});return c.setItem(r.name,{state:p,version:r.version})},g=i.setState;i.setState=(p,f)=>{g(p,f),u()};const h=s((...p)=>{e(...p),u()},n,i);i.getInitialState=()=>h;let m;const b=()=>{var p,f;if(!c)return;a=!1,o.forEach(y=>{var w;return y((w=n())!=null?w:h)});const x=((f=r.onRehydrateStorage)==null?void 0:f.call(r,(p=n())!=null?p:h))||void 0;return ue(c.getItem.bind(c))(r.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==r.version){if(r.migrate)return[!0,r.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[S,N]=y;if(m=r.merge(N,(w=n())!=null?w:h),e(m,!0),S)return u()}).then(()=>{x?.(m,void 0),m=n(),a=!0,l.forEach(y=>y(m))}).catch(y=>{x?.(void 0,y)})};return i.persist={setOptions:p=>{r={...r,...p},p.storage&&(c=p.storage)},clearStorage:()=>{c?.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>b(),hasHydrated:()=>a,onHydrate:p=>(o.add(p),()=>{o.delete(p)}),onFinishHydration:p=>(l.add(p),()=>{l.delete(p)})},r.skipHydration||b(),m||h},Yn=(s,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((xe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Jn(s,t)):Qn(s,t),Ce=Yn;class kt{constructor(t,e){I(this,"config");I(this,"cache");I(this,"rateLimitState");I(this,"rateLimit");this.config=t,this.cache=new Map,this.rateLimitState=new Map,this.rateLimit=e,this.startCacheCleanup()}async request(t){this.rateLimit.enabled&&await this.checkRateLimit();const e=this.generateCacheKey(t);if(this.config.cacheEnabled&&!t.skipCache){const i=this.getFromCache(e);if(i)return i}const n=await this.makeHttpRequest(t);return this.config.cacheEnabled&&!t.skipCache&&this.setCache(e,n),n}async makeHttpRequest(t){const{method:e,endpoint:n,params:i,headers:r={},body:a}=t,o=t.customTimeout||this.config.timeout;let l=`${this.config.baseUrl}${n}`;if(e==="GET"&&i){const h=new URLSearchParams;Object.entries(i).forEach(([m,b])=>{b!=null&&h.append(m,String(b))}),h.toString()&&(l+=`?${h.toString()}`)}const c={"Content-Type":"application/json",...r};this.config.userAgent&&(c["User-Agent"]=this.config.userAgent),this.config.apiKey&&(c.Authorization=`Bearer ${this.config.apiKey}`);const u={method:e,headers:c,signal:AbortSignal.timeout(o)};if(e!=="GET"&&a){const h=c["Content-Type"]||c["content-type"];h&&h.includes("text/plain")?u.body=a:u.body=JSON.stringify(a)}let g;for(let h=0;h<=this.config.retries;h++)try{const m=await fetch(l,u);if(!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const b=m.headers.get("content-type");return b&&b.includes("application/json")?await m.json():await m.text()}catch(m){if(g=m,m instanceof Error){if(m.name==="AbortError")throw new Error(`Request timeout after ${o}ms`);if(m.message.includes("HTTP 4"))throw m}if(h<this.config.retries){const b=Math.pow(2,h)*1e3;await new Promise(p=>setTimeout(p,b))}}throw g}classifyError(t,e){const n=t.message.toLowerCase();if(t.name==="AbortError"||n.includes("timeout"))return{type:"timeout",message:`Request timed out${e?` while ${e}`:""}`,originalError:t,suggestion:"The service is taking too long to respond. Please try again or zoom in to search a smaller area.",retryable:!0};if(n.includes("failed to fetch")||n.includes("network"))return{type:"network",message:`Network connection failed${e?` while ${e}`:""}`,originalError:t,suggestion:"Please check your internet connection and try again.",retryable:!0};if(n.includes("rate limit"))return{type:"rate_limit",message:`Too many requests${e?` while ${e}`:""}`,originalError:t,suggestion:t.message.includes("wait")?t.message:"Please wait a moment before trying again.",retryable:!0};if(n.includes("http 5"))return{type:"server",message:`Service temporarily unavailable${e?` while ${e}`:""}`,originalError:t,suggestion:"The service is experiencing issues. Please try again in a few moments.",retryable:!0};if(n.includes("http 4")){const i=n.includes("404");return n.includes("429")?{type:"rate_limit",message:`Too many requests${e?` while ${e}`:""}`,originalError:t,suggestion:"Please wait a moment before searching again.",retryable:!0}:{type:"client",message:i?`No data found${e?` while ${e}`:""}`:`Request failed${e?` while ${e}`:""}`,originalError:t,suggestion:i?"Try searching a different location or zooming out to see more results.":"Please check your request and try again.",retryable:!1}}return{type:"unknown",message:`Something went wrong${e?` while ${e}`:""}`,originalError:t,suggestion:"Please try again. If the problem persists, try refreshing the page.",retryable:!0}}async checkRateLimit(){const t=Date.now(),e="default",n=this.rateLimitState.get(e)||{count:0,resetTime:t+this.rateLimit.windowMs};if(t>n.resetTime&&(n.count=0,n.resetTime=t+this.rateLimit.windowMs),n.count>=this.rateLimit.requests){const i=n.resetTime-t;throw new Error(`Rate limit exceeded. Please wait ${Math.ceil(i/1e3)} seconds.`)}n.count++,this.rateLimitState.set(e,n)}generateCacheKey(t){const{method:e,endpoint:n,params:i,body:r}=t,a=[e,n];return i&&a.push(JSON.stringify(i)),r&&a.push(JSON.stringify(r)),a.join("|")}getFromCache(t){const e=this.cache.get(t);return e?Date.now()>e.timestamp+e.ttl?(this.cache.delete(t),null):e.data:null}setCache(t,e,n){const i=n||this.config.cacheTtl,r={data:e,timestamp:Date.now(),ttl:i};this.cache.set(t,r)}clearCache(){this.cache.clear()}getCacheStats(){const t=Date.now(),e=Array.from(this.cache.entries()).map(([n,i])=>({key:n,size:JSON.stringify(i.data).length,age:t-i.timestamp}));return{size:this.cache.size,entries:e}}startCacheCleanup(){setInterval(()=>{const t=Date.now();for(const[e,n]of this.cache.entries())t>n.timestamp+n.ttl&&this.cache.delete(e)},6e4)}getServiceInfo(){return{name:this.constructor.name,baseUrl:this.config.baseUrl,cacheSize:this.cache.size}}}class H extends Error{constructor(e,n,i,r=!0){super(e);I(this,"code");I(this,"service");I(this,"recoverable");this.name="RoutingError",this.code=n,this.service=i,this.recoverable=r}}class Rt extends kt{constructor(){const e={baseUrl:Ae.routing.endpoints.openrouteservice,timeout:15e3,retries:2,cacheEnabled:!0,cacheTtl:36e5,userAgent:"EuropeanCamperPlanner/1.0",apiKey:"5b3ce3597851110001cf6248a96ac2c424b94ce6b8b4be2a3074bdf3"},n={requests:2e3,windowMs:1440*60*1e3,enabled:!0};super(e,n);I(this,"fallbackService");this.initializeFallbackService()}async calculateRoute(e){try{this.validateRouteRequest(e);const n=e.vehicleProfile?this.validateVehicleRestrictions(e.vehicleProfile):null;if(n?.cannotAccommodate)return{id:`restriction_blocked_${Date.now()}`,status:"error",routes:[],metadata:{service:"openrouteservice",profile:this.determineProfile(e.vehicleProfile,e.options?.profile),timestamp:Date.now(),query:e,attribution:"Vehicle restriction validation"},errors:["Vehicle dimensions exceed EU road limits"],restrictions:n};const i={...e,options:{...e.options,alternative_routes:!0,elevation:!0,geometry:!0,instructions:!0}},r=await this.calculateRouteWithORS(i);return n&&(r.restrictions=n,r.warnings=[...r.warnings||[],...n.suggestedActions]),r}catch(n){if(n instanceof H&&!n.recoverable)throw n;console.warn("OpenRouteService failed, trying fallback:",n);try{const i=await this.calculateRouteWithOSRM(e),r=["Primary routing service unavailable, using fallback"];return e.vehicleProfile&&(r.push("⚠️ Vehicle restrictions not supported by fallback service"),r.push("Route may include roads unsuitable for your vehicle")),{...i,warnings:r}}catch(i){throw console.error("Fallback routing service also failed:",i),new H("All routing services are currently unavailable","SERVICE_UNAVAILABLE","all",!1)}}}async calculateRouteWithORS(e){const{waypoints:n,vehicleProfile:i,options:r={}}=e,a=n.map(g=>[g.lng,g.lat]),o=this.determineProfile(i,r.profile),l={coordinates:a,format:"geojson",geometry:r.geometry!==!1,instructions:r.instructions!==!1,elevation:r.elevation||!1};i&&(l.height=i.height,l.width=i.width,l.weight=i.weight,l.length=i.length,l.axleload=Math.round(i.weight/2*10)/10,l.hazmat=!1,l.surface_type="any"),r.alternative_routes!==!1&&(l.alternative_routes={target_count:2,weight_factor:1.4,share_factor:.6}),r.avoidFeatures&&r.avoidFeatures.length>0&&(l.avoid_features=r.avoidFeatures);const c={method:"POST",endpoint:`/directions/${o}/geojson`,body:l,headers:{Accept:"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8"}},u=await this.request(c);return this.transformORSResponse(u,e)}async calculateRouteWithOSRM(e){const{waypoints:n}=e,i=n.map(c=>`${c.lng},${c.lat}`).join(";"),r={overview:"full",geometries:"geojson",steps:"true",annotations:"true"},a={method:"GET",endpoint:`/route/v1/driving/${i}`,params:r},o={baseUrl:Ae.routing.endpoints.osrm,timeout:1e4,retries:1,cacheEnabled:!0,cacheTtl:18e5,userAgent:"EuropeanCamperPlanner/1.0"},l=this.config;this.config=o;try{const c=await this.request(a);return this.transformOSRMResponse(c,e)}finally{this.config=l}}validateVehicleRestrictions(e){const n={violatedDimensions:[],restrictedSegments:[],cannotAccommodate:!1,suggestedActions:[]},i={height:4,width:2.55,weight:40,length:18.75};return e.height>i.height&&(n.violatedDimensions.push("height"),n.suggestedActions.push(`Vehicle height ${e.height}m exceeds EU limit of ${i.height}m`)),e.width>i.width&&(n.violatedDimensions.push("width"),n.suggestedActions.push(`Vehicle width ${e.width}m exceeds EU limit of ${i.width}m`)),e.weight>i.weight&&(n.violatedDimensions.push("weight"),n.suggestedActions.push(`Vehicle weight ${e.weight}t exceeds EU limit of ${i.weight}t`)),e.length>i.length&&(n.violatedDimensions.push("length"),n.suggestedActions.push(`Vehicle length ${e.length}m exceeds EU limit of ${i.length}m`)),n.cannotAccommodate=n.violatedDimensions.length>0,n.violatedDimensions.length>0?n:null}validateRouteRequest(e){const{waypoints:n,vehicleProfile:i}=e;if(!n||n.length<2)throw new H("At least 2 waypoints are required","INVALID_WAYPOINTS","validation",!1);if(n.length>50)throw new H("Maximum 50 waypoints allowed","TOO_MANY_WAYPOINTS","validation",!1);for(const r of n)if(r.lat<-90||r.lat>90||r.lng<-180||r.lng>180)throw new H(`Invalid coordinates: ${r.lat}, ${r.lng}`,"INVALID_COORDINATES","validation",!1);if(i){if(i.height<=0||i.height>4.5)throw new H("Vehicle height must be between 0 and 4.5 meters","INVALID_VEHICLE","validation",!1);if(i.width<=0||i.width>3)throw new H("Vehicle width must be between 0 and 3.0 meters","INVALID_VEHICLE","validation",!1);if(i.weight<=0||i.weight>40)throw new H("Vehicle weight must be between 0 and 40 tonnes","INVALID_VEHICLE","validation",!1);if(i.length<=0||i.length>20)throw new H("Vehicle length must be between 0 and 20 meters","INVALID_VEHICLE","validation",!1)}}determineProfile(e,n){return n||(e&&(e.height>2.5||e.width>2.2||e.weight>3.5||e.length>7)?"driving-hgv":"driving-car")}transformORSResponse(e,n){const i=e.features||[];if(i.length===0)throw new H("No route found","NO_ROUTE","openrouteservice",!0);const r=i[0],a={geometry:r.geometry,summary:{distance:r.properties.summary.distance,duration:r.properties.summary.duration},segments:r.properties.segments||[],waypoints:r.properties.way_points||[]},o=i.slice(1).map(c=>({geometry:c.geometry,summary:{distance:c.properties.summary.distance,duration:c.properties.summary.duration},segments:c.properties.segments||[],waypoints:c.properties.way_points||[]})),l=[];if(n.vehicleProfile&&a.summary.distance===0&&l.push("Route calculation returned empty result - vehicle may not fit on available roads"),o.length>0){const c=a.summary.distance;Math.min(...o.map(g=>g.summary.distance))>c*1.5&&l.push("Alternative routes are significantly longer - possible vehicle restrictions on main route")}return{id:`ors_${Date.now()}`,status:"success",routes:[a],alternativeRoutes:o,metadata:{service:"openrouteservice",profile:this.determineProfile(n.vehicleProfile,n.options?.profile),timestamp:Date.now(),query:n,attribution:"openrouteservice.org | OpenStreetMap contributors"},warnings:l.length>0?l:void 0}}transformOSRMResponse(e,n){const i=e.routes[0];if(!i)throw new H("No route found","NO_ROUTE","osrm",!0);const r={geometry:i.geometry,summary:{distance:i.distance,duration:i.duration},segments:i.legs||[],waypoints:e.waypoints?.map((a,o)=>o)||[]};return{id:`osrm_${Date.now()}`,status:"success",routes:[r],metadata:{service:"osrm",profile:"driving",timestamp:Date.now(),query:n,attribution:"OpenStreetMap contributors | OSRM"},warnings:["Using fallback routing service (vehicle restrictions not supported)"]}}initializeFallbackService(){this.fallbackService=void 0}async healthCheck(){try{const e={method:"GET",endpoint:"/health",skipCache:!0,customTimeout:5e3};return await this.request(e),!0}catch(e){return console.warn("OpenRouteService health check failed:",e),!1}}getServiceStatus(){const e=this.rateLimitState.get("default")||{count:0,resetTime:Date.now()};return{primary:{name:"OpenRouteService",healthy:!0,cacheSize:this.cache.size},fallback:{name:"OSRM",available:!0},rateLimitInfo:{remaining:Math.max(0,this.rateLimit.requests-e.count),resetTime:e.resetTime}}}}const ss=new Rt;class Xn{constructor(){I(this,"dbName","CampsiteCache");I(this,"version",1);I(this,"storeName","campsites");I(this,"db",null)}async initialize(){return new Promise((t,e)=>{const n=indexedDB.open(this.dbName,this.version);n.onerror=()=>e(new Error("Failed to open IndexedDB")),n.onsuccess=()=>{this.db=n.result,t()},n.onupgradeneeded=i=>{const r=i.target.result;if(!r.objectStoreNames.contains(this.storeName)){const a=r.createObjectStore(this.storeName,{keyPath:"id"});a.createIndex("lat","lat",{unique:!1}),a.createIndex("lng","lng",{unique:!1}),a.createIndex("type","type",{unique:!1}),a.createIndex("last_updated","last_updated",{unique:!1}),a.createIndex("bounds",["lat","lng"],{unique:!1})}r.objectStoreNames.contains("cache_metadata")||r.createObjectStore("cache_metadata",{keyPath:"key"}).createIndex("timestamp","timestamp",{unique:!1})}})}async getCampsitesInBounds(t){return this.db||await this.initialize(),new Promise((e,n)=>{const r=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName),a=[],o=r.openCursor();o.onsuccess=l=>{const c=l.target.result;if(c){const u=c.value;u.lat>=t.south&&u.lat<=t.north&&u.lng>=t.west&&u.lng<=t.east&&a.push(u),c.continue()}else e(a)},o.onerror=()=>n(new Error("Failed to query campsites from cache"))})}async storeCampsites(t){return this.db||await this.initialize(),new Promise((e,n)=>{const r=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName);let a=0;const o=t.length;if(o===0){e();return}for(const l of t){const c=r.put(l);c.onsuccess=()=>{a++,a===o&&e()},c.onerror=()=>n(new Error("Failed to store campsite in cache"))}})}async getCacheMetadata(t){return this.db||await this.initialize(),new Promise((e,n)=>{const a=this.db.transaction(["cache_metadata"],"readonly").objectStore("cache_metadata").get(t);a.onsuccess=()=>e(a.result?.data),a.onerror=()=>n(new Error("Failed to get cache metadata"))})}async setCacheMetadata(t,e){return this.db||await this.initialize(),new Promise((n,i)=>{const o=this.db.transaction(["cache_metadata"],"readwrite").objectStore("cache_metadata").put({key:t,data:e,timestamp:Date.now()});o.onsuccess=()=>n(),o.onerror=()=>i(new Error("Failed to set cache metadata"))})}async clearExpiredCache(t=1440*60*1e3){this.db||await this.initialize();const e=Date.now()-t;return new Promise((n,i)=>{const o=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).index("last_updated"),l=IDBKeyRange.upperBound(e),c=o.openCursor(l);c.onsuccess=u=>{const g=u.target.result;g?(g.delete(),g.continue()):n()},c.onerror=()=>i(new Error("Failed to clear expired cache"))})}}class Zn extends kt{constructor(){const e={baseUrl:Ae.campsites.sources.overpass,timeout:3e4,retries:1,cacheEnabled:!1,cacheTtl:0,userAgent:"EuropeanCamperPlanner/1.0"};super(e,{requests:2,windowMs:1e3,enabled:!1});I(this,"cacheManager");I(this,"_fallbackService");I(this,"activeRequests",new Map);I(this,"lastNominatimRequest",0);this.cacheManager=new Xn,this.initializeFallbackService(),this.initializeCache()}async geocodeLocationMultiple(e,n=5){try{const r=Date.now()-this.lastNominatimRequest;r<1100&&await new Promise(g=>setTimeout(g,1100-r)),this.lastNominatimRequest=Date.now();const a=new URLSearchParams({q:e,format:"json",limit:String(n),addressdetails:"1",extratags:"1",namedetails:"1",countrycodes:"gb,ie,fr,de,es,pt,it,nl,be,at,ch,dk,no,se,fi,pl,cz,hr,si,gr,hu,sk,ro,bg,ee,lv,lt,lu,mt,cy"}),l=!1?`/api/geocode?${a.toString()}`:`https://nominatim.openstreetmap.org/search?${a.toString()}`,c=await fetch(l,{method:"GET",headers:{"User-Agent":"EuropeanCamperPlanner/1.0 (https://github.com/user/camper-planner)"}});if(!c.ok)throw new Error(`Geocoding HTTP error: ${c.status}`);const u=await c.json();return u&&u.length>0?u.map(g=>{let h=g.display_name.split(",")[0].trim();if(g.address){const m=g.address;if(m.house_number&&m.road)h=`${m.house_number} ${m.road}`;else if(m.road)h=m.road;else if(m.postcode){const b=m.city||m.town||m.village||"";h=b?`${m.postcode}, ${b}`:m.postcode}}return{display_name:g.display_name,lat:parseFloat(g.lat),lng:parseFloat(g.lon),boundingbox:g.boundingbox,type:g.type||g.class||"place",importance:parseFloat(g.importance||"0.5"),name:h}}):[]}catch(i){return console.error("Geocoding failed:",i),[]}}async geocodeLocation(e){const n=await this.geocodeLocationMultiple(e,1);return n.length>0?n[0]:null}async searchCampsites(e){const n=Date.now();if(e.locationQuery)return this.searchCampsitesByLocation(e,n);const i=this.generateCampsiteCacheKey(e);if(this.activeRequests.has(i))return this.activeRequests.get(i);if(!e.bounds||typeof e.bounds.south>"u"||typeof e.bounds.west>"u"||typeof e.bounds.north>"u"||typeof e.bounds.east>"u")return console.warn("CampsiteService: Invalid bounds provided, returning empty result"),{status:"error",error:"Invalid bounds provided",campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-n,cache_hit:!1},cached:!1,boundingBox:e.bounds};const r=this.executeSearchRequest(e,i,n);this.activeRequests.set(i,r);try{return await r}finally{this.activeRequests.delete(i)}}async searchCampsitesByLocation(e,n){try{const i=await this.geocodeLocation(e.locationQuery);if(!i)return{status:"error",error:`Could not find location: ${e.locationQuery}`,campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-n,cache_hit:!1},cached:!1,boundingBox:e.bounds};const r=50,a=r/111,o=r/(111*Math.cos(i.lat*Math.PI/180)),l={...e,bounds:{north:i.lat+a,south:i.lat-a,east:i.lng+o,west:i.lng-o},locationQuery:void 0},c=await this.searchCampsites(l);return{...c,metadata:{...c.metadata,geocoded_location:i,query:e}}}catch(i){return console.error("Location-based search failed:",i),{status:"error",error:`Location search failed: ${i instanceof Error?i.message:"Unknown error"}`,campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-n,cache_hit:!1},cached:!1,boundingBox:e.bounds}}}async executeSearchRequest(e,n,i){try{const r=await this.getCachedCampsites(e);if(r)return{...r,metadata:{...r.metadata,cache_hit:!0,query_duration:Date.now()-i}};const a=await this.searchWithOverpass(e);return await this.cacheManager.storeCampsites(a.campsites),await this.setCacheMetadata(e),{...a,metadata:{...a.metadata,cache_hit:!1,query_duration:Date.now()-i}}}catch(r){console.warn("Overpass API failed:",r);const a=await this.getCachedCampsites(e,!0);return a?(console.info("Using stale cache data for campsites"),{...a,metadata:{...a.metadata,cache_hit:!0,query_duration:Date.now()-i}}):(console.warn("No campsite data available, returning empty result"),{status:"success",campsites:[],metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:0,query_duration:Date.now()-i,cache_hit:!1},cached:!1,boundingBox:e.bounds})}}async searchWithOverpass(e){const{bounds:n,types:i=["campsite","aire","caravan_site"],maxResults:r=1e3}=e,o={method:"POST",endpoint:"",body:this.buildOverpassQuery(n,i),headers:{"Content-Type":"text/plain; charset=utf-8"}},l=await this.request(o),c=this.parseOverpassResponse(l),u=this.filterAndScoreCampsites(c,e).slice(0,r);return{status:"success",campsites:u,metadata:{service:"overpass",timestamp:Date.now(),query:e,results_count:u.length,cache_hit:!1,query_duration:0},cached:!1,boundingBox:n}}async _searchWithOpenCampingMap(e){const{bounds:n,maxResults:i=1e3}=e,r={baseUrl:"https://opencampingmap.org/api",timeout:15e3,retries:1,cacheEnabled:!1,cacheTtl:0,userAgent:"EuropeanCamperPlanner/1.0"},a=this.config;this.config=r;try{const o={method:"GET",endpoint:"/campsites",params:{bbox:`${n.west},${n.south},${n.east},${n.north}`,limit:i}},l=await this.request(o),c=this.parseOpenCampingMapResponse(l);return{campsites:c,metadata:{service:"opencampingmap",timestamp:Date.now(),query:e,results_count:c.length,cache_hit:!1,query_duration:0},cached:!1,boundingBox:n}}finally{this.config=a}}isValidCoordinate(e,n){return typeof e!="number"||isNaN(e)||!isFinite(e)?!1:n==="latitude"?e>=-90&&e<=90:e>=-180&&e<=180}buildOverpassQuery(e,n){const{south:i,west:r,north:a,east:o}=e;if(!this.isValidCoordinate(i,"latitude")||!this.isValidCoordinate(a,"latitude")||!this.isValidCoordinate(r,"longitude")||!this.isValidCoordinate(o,"longitude"))throw console.error("Invalid coordinates detected",{south:i,west:r,north:a,east:o}),new Error(`Invalid coordinates: lat=${i}-${a}, lng=${r}-${o}`);const l=a-i,c=o-r;if(l>5||c>5)throw console.warn("Bounding box too large for campsite query",{latSpan:l,lngSpan:c,bounds:e}),new Error(`Bounding box too large: ${l}° lat x ${c}° lng (max 5° each)`);const u=`${i.toFixed(6)},${r.toFixed(6)},${a.toFixed(6)},${o.toFixed(6)}`,g=[];return n.includes("campsite")&&(g.push(`node["tourism"="camp_site"](${u});`),g.push(`way["tourism"="camp_site"](${u});`),g.push(`relation["tourism"="camp_site"](${u});`)),n.includes("caravan_site")&&(g.push(`node["tourism"="caravan_site"](${u});`),g.push(`way["tourism"="caravan_site"](${u});`),g.push(`relation["tourism"="caravan_site"](${u});`)),n.includes("aire")&&(g.push(`node["amenity"="parking"]["motorhome"="yes"](${u});`),g.push(`way["amenity"="parking"]["motorhome"="yes"](${u});`),g.push(`node["amenity"="parking"]["caravan"="yes"](${u});`),g.push(`way["amenity"="parking"]["caravan"="yes"](${u});`),g.push(`node["tourism"="wilderness_hut"](${u});`),g.push(`node["highway"="services"]["motorhome"="yes"](${u});`),g.push(`way["highway"="services"]["motorhome"="yes"](${u});`)),`[out:json][timeout:30];(${g.join("")});out center meta 1000;`}parseOverpassResponse(e){return!e||!e.elements?[]:e.elements.map(n=>this.parseOSMElement(n)).filter(Boolean)}parseOpenCampingMapResponse(e){return!e||!e.features?[]:e.features.map(n=>this.parseOpenCampingMapFeature(n)).filter(Boolean)}parseOSMElement(e){const n=e.lat??e.center?.lat,i=e.lon??e.center?.lon;if(!n||!i||!e.tags)return null;const r=e.tags;if(r.disused==="yes"||r.abandoned==="yes"||r.demolished==="yes"||r["tourism:disused"]==="yes"||r.lifecycle_status==="abandoned"||r.lifecycle_status==="disused"||r.lifecycle_status==="demolished")return null;const a=this.determineCampsiteType(r);return{id:e.id,type:a,name:r.name||r["name:en"]||`${a} ${e.id}`,lat:n,lng:i,amenities:{toilets:this.parseBoolean(r.amenity==="toilets"||r.toilets),showers:this.parseBoolean(r.shower),drinking_water:this.parseBoolean(r.drinking_water),electricity:this.parseBoolean(r.electricity),wifi:this.parseBoolean(r.internet_access==="wifi"||r.wifi),restaurant:this.parseBoolean(r.amenity==="restaurant"||r.restaurant),shop:this.parseBoolean(r.shop),playground:this.parseBoolean(r.playground),laundry:this.parseBoolean(r.laundry),swimming_pool:this.parseBoolean(r.swimming_pool)},access:{motorhome:this.parseBoolean(r.motorhome),caravan:this.parseBoolean(r.caravan),tent:this.parseBoolean(r.tents!=="no"&&a==="campsite"),max_height:this.parseNumber(r.maxheight),max_length:this.parseNumber(r.maxlength),max_weight:this.parseNumber(r.maxweight)},contact:{phone:r.phone,website:r.website||r.url,email:r.email},opening_hours:r.opening_hours,fee:r.fee,reservation:r.reservation,capacity:this.parseNumber(r.capacity),source:"openstreetmap",last_updated:Date.now(),quality_score:this.calculateQualityScore(r)}}parseOpenCampingMapFeature(e){if(!e.geometry||!e.properties)return null;const n=e.properties,[i,r]=e.geometry.coordinates;return{id:n.id||Math.random()*1e6,type:"campsite",name:n.name||"Unnamed Campsite",lat:r,lng:i,amenities:{toilets:!!n.toilets,showers:!!n.showers,drinking_water:!!n.drinking_water,electricity:!!n.electricity,wifi:!!n.wifi,restaurant:!!n.restaurant,shop:!!n.shop,playground:!!n.playground,laundry:!!n.laundry,swimming_pool:!!n.swimming_pool},access:{motorhome:!!n.motorhome,caravan:!!n.caravan,tent:!!n.tent,max_height:n.max_height,max_length:n.max_length,max_weight:n.max_weight},contact:{phone:n.phone,website:n.website,email:n.email},opening_hours:n.opening_hours,fee:n.fee,reservation:n.reservation,capacity:n.capacity,source:"opencampingmap",last_updated:Date.now(),quality_score:.8}}determineCampsiteType(e){return e.tourism==="camp_site"?"campsite":e.tourism==="caravan_site"?"caravan_site":e.amenity==="parking"&&(e.motorhome==="yes"||e.caravan==="yes")||e.highway==="services"&&e.motorhome==="yes"?"aire":"campsite"}parseBoolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){const n=e.toLowerCase();return n==="yes"||n==="true"||n==="1"}return!1}parseNumber(e){if(typeof e=="number")return e;if(typeof e=="string"){const n=parseFloat(e.replace(/[^\d.]/g,""));return isNaN(n)?void 0:n}}calculateQualityScore(e){let n=0;const i=[e.name,e.phone||e.website,e.opening_hours,e.drinking_water,e.electricity,e.toilets||e.amenity==="toilets",e.motorhome||e.caravan];return n=i.filter(Boolean).length/i.length,Math.round(n*100)/100}filterAndScoreCampsites(e,n){let i=e;n.vehicleFilter&&(i=i.filter(o=>this.isVehicleCompatible(o,n.vehicleFilter))),n.amenities&&n.amenities.length>0&&(i=i.filter(o=>n.amenities.some(l=>o.amenities[l]===!0)));const r=(n.bounds.north+n.bounds.south)/2,a=(n.bounds.east+n.bounds.west)/2;return i.sort((o,l)=>{const c=this.calculateDistance(r,a,o.lat,o.lng),u=this.calculateDistance(r,a,l.lat,l.lng),g=(o.quality_score||.5)-c/100;return(l.quality_score||.5)-u/100-g})}isVehicleCompatible(e,n){return!(n.motorhome&&!e.access.motorhome||n.caravan&&!e.access.caravan||n.height&&e.access.max_height&&n.height>e.access.max_height||n.length&&e.access.max_length&&n.length>e.access.max_length||n.weight&&e.access.max_weight&&n.weight>e.access.max_weight)}calculateDistance(e,n,i,r){const o=(i-e)*Math.PI/180,l=(r-n)*Math.PI/180,c=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}async getCachedCampsites(e,n=!1){try{const i=this.generateCampsiteCacheKey(e),r=await this.cacheManager.getCacheMetadata(i);if(r){const a=Date.now()-r.timestamp,o=1440*60*1e3;if(n||a<o){const l=await this.cacheManager.getCampsitesInBounds(e.bounds);if(l.length>0)return{status:"success",campsites:this.filterAndScoreCampsites(l,e),metadata:{service:r.service||"overpass",timestamp:r.timestamp,query:e,results_count:l.length,cache_hit:!0,query_duration:0},cached:!0,boundingBox:e.bounds}}}return null}catch(i){return console.warn("Cache lookup failed:",i),null}}async setCacheMetadata(e){try{const n=this.generateCampsiteCacheKey(e);await this.cacheManager.setCacheMetadata(n,{timestamp:Date.now(),service:"overpass",bounds:e.bounds})}catch(n){console.warn("Failed to set cache metadata:",n)}}generateCampsiteCacheKey(e){const{bounds:n,types:i=[],amenities:r=[]}=e;return!n||typeof n.south>"u"||typeof n.west>"u"||typeof n.north>"u"||typeof n.east>"u"?(console.warn("CampsiteService: Invalid bounds provided, using fallback cache key"),`campsites_invalid_bounds_${Date.now()}_${i.join(",")}_${r.join(",")}`):`campsites_${n.south}_${n.west}_${n.north}_${n.east}_${i.join(",")}_${r.join(",")}`}async initializeCache(){try{await this.cacheManager.initialize(),await this.cacheManager.clearExpiredCache()}catch(e){console.warn("Failed to initialize campsite cache:",e)}}initializeFallbackService(){this._fallbackService=void 0}async healthCheck(){try{const n={method:"POST",endpoint:"",body:"[out:json][timeout:5]; out count;",headers:{"Content-Type":"text/plain"},customTimeout:5e3};return await this.request(n),!0}catch(e){return console.warn("Overpass API health check failed:",e),!1}}getServiceStatus(){const e=this.rateLimitState.get("default")||{count:0,resetTime:Date.now()};return{primary:{name:"Overpass API",healthy:!0,cacheSize:"IndexedDB"},fallback:{name:"OpenCampingMap",available:!0},rateLimitInfo:{remaining:Math.max(0,this.rateLimit.requests-e.count),resetTime:e.resetTime}}}async refreshCache(e){const n={bounds:e};await this.searchWithOverpass(n)}getCacheStats(){return{size:0,entries:[]}}}const rs=new Zn,as=J()(ie(s=>({center:[54.526,15.2551],zoom:5,selectedWaypoint:null,setCenter:t=>s({center:t}),setZoom:t=>s({zoom:t}),setSelectedWaypoint:t=>s({selectedWaypoint:t})}),{name:"map-store"})),ei=J()(Ce(ie(s=>({profile:null,setProfile:t=>s({profile:t}),clearProfile:()=>s({profile:null})}),{name:"vehicle-store"}),{name:"camper-planner-vehicle",partialize:s=>({profile:s.profile})})),Y=s=>s.map((t,e)=>{if(e>0&&e<s.length-1&&(t.type==="campsite"||t.type==="accommodation"))return t;let n;return s.length===1||e===0?n="start":e===s.length-1?n="end":n="waypoint",{...t,type:n}}),X=(s,t)=>{const e=[...s.history.slice(0,s.historyIndex+1),t].slice(-s.maxHistorySize);return{...s,history:e,historyIndex:e.length-1}},We=J()(Ce(ie((s,t)=>({waypoints:[],calculatedRoute:null,isOptimized:!1,totalDistance:0,estimatedTime:0,history:[],historyIndex:-1,maxHistorySize:50,addWaypoint:e=>s(n=>{const i=[...n.waypoints,e],r=Y(i),a={type:"add",timestamp:Date.now(),data:e,previousState:n.waypoints};return{...X(n,a),waypoints:r,isOptimized:!1}}),removeWaypoint:e=>s(n=>{const i=n.waypoints.find(l=>l.id===e),r=n.waypoints.filter(l=>l.id!==e),a=Y(r),o={type:"remove",timestamp:Date.now(),data:{id:e,waypoint:i},previousState:n.waypoints};return{...X(n,o),waypoints:a,isOptimized:!1}}),updateWaypoint:(e,n)=>s(i=>{const r=i.waypoints.find(l=>l.id===e),a=i.waypoints.map(l=>l.id===e?{...l,...n}:l),o={type:"update",timestamp:Date.now(),data:{id:e,updates:n,previousWaypoint:r},previousState:i.waypoints};return{...X(i,o),waypoints:a}}),reorderWaypoints:e=>{const n=t(),i=Y(e),r={type:"reorder",timestamp:Date.now(),data:e,previousState:n.waypoints};s({...X(n,r),waypoints:i,isOptimized:!0})},insertWaypoint:(e,n)=>s(i=>{const r=i.waypoints.findIndex(c=>c.id===n),a=[...i.waypoints.slice(0,r+1),e,...i.waypoints.slice(r+1)],o=Y(a),l={type:"add",timestamp:Date.now(),data:{waypoint:e,afterId:n},previousState:i.waypoints};return{...X(i,l),waypoints:o,isOptimized:!1}}),clearRoute:()=>s(e=>{const n={type:"clear",timestamp:Date.now(),data:null,previousState:e.waypoints};return{...X(e,n),waypoints:[],calculatedRoute:null,isOptimized:!1,totalDistance:0,estimatedTime:0}}),setCalculatedRoute:e=>s({calculatedRoute:e}),undo:()=>s(e=>{if(e.historyIndex<0)return e;const n=e.history[e.historyIndex];return{...e,waypoints:Y(n.previousState),historyIndex:e.historyIndex-1,isOptimized:!1}}),redo:()=>s(e=>{if(e.historyIndex>=e.history.length-1)return e;const n=e.historyIndex+1,i=e.history[n];let r=e.waypoints;switch(i.type){case"add":{const a=i.data;if("afterId"in a){const o=e.waypoints.findIndex(l=>l.id===a.afterId);r=[...e.waypoints.slice(0,o+1),a.waypoint,...e.waypoints.slice(o+1)]}else r=[...e.waypoints,a];break}case"remove":{const a=i.data;r=e.waypoints.filter(o=>o.id!==a.id);break}case"update":{const a=i.data;r=e.waypoints.map(o=>o.id===a.id?{...o,...a.updates}:o);break}case"reorder":r=i.data;break;case"clear":r=[];break}return{...e,waypoints:Y(r),historyIndex:n,isOptimized:i.type==="reorder"}}),canUndo:()=>t().historyIndex>=0,canRedo:()=>{const e=t();return e.historyIndex<e.history.length-1},isValidForRouting:()=>t().waypoints.length>=2}),{name:"route-store"}),{name:"camper-planner-route",partialize:s=>({waypoints:s.waypoints,isOptimized:s.isOptimized,totalDistance:s.totalDistance,estimatedTime:s.estimatedTime})}));J()(Ce(ie((s,t)=>({currentTrip:null,savedTrips:[],setCurrentTrip:e=>s({currentTrip:e}),saveTrip:e=>s(n=>({savedTrips:[...n.savedTrips.filter(i=>i.id!==e.id),e]})),loadTrip:e=>{const n=t().savedTrips.find(i=>i.id===e);n&&s({currentTrip:n})},deleteTrip:e=>s(n=>({savedTrips:n.savedTrips.filter(i=>i.id!==e),currentTrip:n.currentTrip?.id===e?null:n.currentTrip}))}),{name:"trip-store"}),{name:"camper-planner-trips",partialize:s=>({savedTrips:s.savedTrips,currentTrip:s.currentTrip})}));const _e=J()(ie((s,t)=>({isLoading:!1,error:null,notifications:[],sidebarOpen:!0,setLoading:e=>s({isLoading:e}),setError:e=>s({error:e}),addNotification:e=>{const n=Math.random().toString(36).substr(2,9);s(i=>({notifications:[...i.notifications,{...e,id:n}]})),setTimeout(()=>{t().removeNotification(n)},5e3)},removeNotification:e=>s(n=>({notifications:n.notifications.filter(i=>i.id!==e)})),toggleSidebar:()=>s(e=>({sidebarOpen:!e.sidebarOpen}))}),{name:"ui-store"})),ti=J()(ie(s=>({wizardOpen:!1,wizardStep:0,start:null,end:null,startDate:null,endDate:null,drivingStyle:"moderate",crossing:null,restDayFrequency:0,itinerary:null,isGenerating:!1,generationError:null,openWizard:()=>s({wizardOpen:!0,wizardStep:0}),closeWizard:()=>s({wizardOpen:!1}),setStep:t=>s({wizardStep:t}),nextStep:()=>s(t=>({wizardStep:t.wizardStep+1})),prevStep:()=>s(t=>({wizardStep:Math.max(0,t.wizardStep-1)})),setStart:t=>s({start:t}),setEnd:t=>s({end:t}),setStartDate:t=>s({startDate:t}),setEndDate:t=>s({endDate:t}),setDrivingStyle:t=>s({drivingStyle:t}),setCrossing:t=>s({crossing:t}),setRestDayFrequency:t=>s({restDayFrequency:t}),setItinerary:t=>s({itinerary:t}),setIsGenerating:t=>s({isGenerating:t}),setGenerationError:t=>s({generationError:t}),selectCampsite:(t,e)=>s(n=>{if(!n.itinerary)return n;const i=n.itinerary.days.map(r=>r.dayNumber===t?{...r,selectedOvernight:e}:r);return{itinerary:{...n.itinerary,days:i}}}),resetWizard:()=>s({wizardStep:0,start:null,end:null,startDate:null,endDate:null,drivingStyle:"moderate",crossing:null,restDayFrequency:0,itinerary:null,isGenerating:!1,generationError:null})}),{name:"trip-wizard-store"})),et=[{code:"en",name:"English",nativeName:"English",flag:"🇺🇸"},{code:"de",name:"German",nativeName:"Deutsch",flag:"🇩🇪"},{code:"fr",name:"French",nativeName:"Français",flag:"🇫🇷"},{code:"es",name:"Spanish",nativeName:"Español",flag:"🇪🇸"},{code:"it",name:"Italian",nativeName:"Italiano",flag:"🇮🇹"},{code:"nl",name:"Dutch",nativeName:"Nederlands",flag:"🇳🇱"}],ni=({variant:s="dropdown",size:t="md",className:e})=>{const{i18n:n}=xt(),[i,r]=C.useState(!1),a=C.useRef(null),o=et.find(c=>c.code===n.language)||et[0];C.useEffect(()=>{const c=u=>{a.current&&!a.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]);const l={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-2",lg:"text-base px-4 py-3"};return d.jsxs("button",{type:"button",className:E("flex items-center space-x-1 rounded-md font-medium transition-colors","text-gray-400 cursor-not-allowed",l[t],e),disabled:!0,title:"Language selection coming soon",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),d.jsx("span",{children:o.code.toUpperCase()})]})},ii=()=>{const s=ft(),{t}=xt(),[e,n]=C.useState(!1),{toggleSidebar:i}=_e(),{openWizard:r}=ti(),a=[{path:"/",label:t("nav.planner"),key:"planner"},{path:"/about",label:t("nav.about"),key:"about"},{path:"/help",label:t("nav.help"),key:"help"}],o=c=>c==="/"?s.pathname===c:s.pathname.startsWith(c),l=()=>{n(!e)};return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[s.pathname==="/"&&d.jsx("button",{onClick:i,className:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100","aria-label":"Toggle sidebar",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),d.jsxs(je,{to:"/",className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:d.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m0 0L9 7",clipRule:"evenodd"})})}),d.jsxs("div",{className:"hidden sm:block",children:[d.jsx("h1",{className:"text-lg lg:text-xl font-bold text-gray-900",children:"European Camper Planner"}),d.jsx("p",{className:"text-xs text-gray-500 hidden lg:block",children:"Free trip planning for Europe"})]}),d.jsx("div",{className:"sm:hidden",children:d.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Camper Planner"})})]})]}),d.jsx("nav",{className:"hidden md:flex space-x-8",children:a.map(c=>d.jsx(je,{to:c.path,className:E("px-3 py-2 rounded-md text-sm font-medium transition-colors",o(c.path)?"text-blue-700 bg-blue-50 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:c.label},c.key))}),d.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[s.pathname==="/"&&d.jsxs("button",{onClick:()=>{r(),n(!1)},className:"hidden sm:flex items-center gap-1.5 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium transition-colors",children:[d.jsx(Ye,{className:"w-4 h-4"}),"Plan a Trip"]}),d.jsx(ni,{variant:"button",size:"sm"}),d.jsx("button",{type:"button",onClick:l,className:"md:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100","aria-label":"Toggle menu",children:d.jsx("svg",{className:E("w-6 h-6 transition-transform",e&&"rotate-90"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),e&&d.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:d.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[a.map(c=>d.jsx(je,{to:c.path,onClick:()=>n(!1),className:E("block px-3 py-2 rounded-md text-base font-medium transition-colors",o(c.path)?"text-blue-700 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:c.label},c.key)),s.pathname==="/"&&d.jsxs("button",{onClick:()=>{r(),n(!1)},className:"w-full flex items-center gap-2 px-3 py-2 rounded-md text-base font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors",children:[d.jsx(Ye,{className:"w-4 h-4"}),"Plan a Trip"]})]})})]})}),e&&d.jsx("div",{className:"fixed inset-0 z-30 bg-black bg-opacity-25 md:hidden",onClick:()=>n(!1)})]})};class si extends C.Component{constructor(e){super(e);I(this,"handleReload",()=>{window.location.reload()});I(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:d.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:d.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:d.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.864-.833-2.632 0L4.182 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),d.jsx("h2",{className:"mt-6 text-lg font-medium text-gray-900",children:"Something went wrong"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,d.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[d.jsx("button",{onClick:this.handleReset,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Try Again"}),d.jsx("button",{onClick:this.handleReload,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Reload Page"}),d.jsx("a",{href:"/",className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-center",children:"Go Home"})]})]})})})}):this.props.children}}const tt=({size:s="md",variant:t="spinner",className:e,text:n})=>{const i={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"},r={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"};return t==="dots"?d.jsxs("div",{className:E("flex items-center justify-center space-x-1",e),children:[[0,1,2].map(a=>d.jsx("div",{className:E("bg-blue-600 rounded-full animate-pulse",i[s]),style:{animationDelay:`${a*.2}s`,animationDuration:"1s"}},a)),n&&d.jsx("span",{className:E("ml-3 text-gray-600",r[s]),children:n})]}):t==="pulse"?d.jsxs("div",{className:E("flex items-center justify-center",e),children:[d.jsx("div",{className:E("bg-blue-600 rounded-full animate-ping",i[s])}),n&&d.jsx("span",{className:E("ml-3 text-gray-600",r[s]),children:n})]}):d.jsxs("div",{className:E("flex items-center justify-center",e),children:[d.jsx("div",{className:E("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",i[s]),role:"status","aria-label":"Loading",children:d.jsx("span",{className:"sr-only",children:"Loading..."})}),n&&d.jsx("span",{className:E("ml-3 text-gray-600",r[s]),children:n})]})},ri=({children:s,sidebar:t,sidebarOpen:e=!1,className:n,fullHeight:i=!0})=>d.jsxs("div",{className:E("flex",i?"h-full":"min-h-screen",n),children:[t&&d.jsxs(d.Fragment,{children:[d.jsx("aside",{className:E("hidden lg:flex lg:flex-col lg:w-80 lg:fixed lg:inset-y-0 lg:pt-16","bg-white border-r border-gray-200","z-30"),children:d.jsx("div",{className:"flex-1 overflow-y-auto",children:t})}),e&&d.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"}),d.jsxs("aside",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[d.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:d.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[d.jsx("span",{className:"sr-only",children:"Close sidebar"}),d.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})}),d.jsx("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:t})]})]})]}),d.jsx("main",{className:E("flex-1 flex flex-col",t&&"lg:pl-80"),children:s})]});class ai{constructor(){I(this,"routingService");I(this,"distanceCache",new Map);this.routingService=new Rt}async optimizeRoute(t,e){if(t.length<3)throw new Error("Route optimization requires at least 3 waypoints");const n=Date.now(),i=await this.calculateRouteMetrics(t,e.vehicleProfile),r=await this.buildDistanceMatrix(t,e.vehicleProfile),a=await this.solveTSP(r,e,t),o=this.reorderWaypoints(t,a.order,e.lockedWaypoints),l=await this.calculateRouteMetrics(o,e.vehicleProfile),c=this.calculateImprovements(i,l);return{originalRoute:{waypoints:t,totalDistance:i.distance,totalTime:i.duration,estimatedCost:i.cost},optimizedRoute:{waypoints:o,totalDistance:l.distance,totalTime:l.duration,estimatedCost:l.cost,reorderingApplied:JSON.stringify(t.map(u=>u.id))!==JSON.stringify(o.map(u=>u.id))},improvements:c,optimizationMetadata:{algorithm:e.objective==="shortest"?"Distance-TSP":e.objective==="fastest"?"Time-TSP":"Balanced-TSP",iterations:a.iterations,executionTime:Date.now()-n,convergenceReached:a.converged}}}async findOptimalInsertion(t,e,n){if(t.length===0)return{suggestedPosition:0,routeImpact:{distanceAdded:0,timeAdded:0,efficiency:1},alternatives:[]};const i=[],r=await this.calculateRouteMetrics(t,n.vehicleProfile);for(let o=0;o<=t.length;o++){const l=[...t];l.splice(o,0,e);const c=await this.calculateRouteMetrics(l,n.vehicleProfile),u=c.distance-r.distance,g=c.duration-r.duration,h=this.calculateInsertionEfficiency(u,g,n);i.push({position:o,distanceAdded:u,timeAdded:g,efficiency:h})}i.sort((o,l)=>l.efficiency-o.efficiency);const a=i[0];return{suggestedPosition:a.position,routeImpact:{distanceAdded:a.distanceAdded,timeAdded:a.timeAdded,efficiency:a.efficiency},alternatives:i.slice(1,4)}}async buildDistanceMatrix(t,e){const n=t.length,i=Array(n).fill(null).map(()=>Array(n).fill(0)),r=Array(n).fill(null).map(()=>Array(n).fill(0)),a=Array(n).fill(null).map(()=>Array(n).fill(0)),o=this.generateMatrixCacheKey(t,e),l=this.distanceCache.get(o);if(l)return l;for(let u=0;u<n;u++)for(let g=0;g<n;g++){if(u===g){i[u][g]=0,r[u][g]=0,a[u][g]=0;continue}try{const h={waypoints:[t[u],t[g]],vehicleProfile:e,options:{alternatives:!1,steps:!1,geometries:"geojson"}},m=await this.routingService.calculateRoute(h);if(m.routes&&m.routes.length>0){const b=m.routes[0];i[u][g]=b.summary.distance/1e3,r[u][g]=b.summary.duration/60,a[u][g]=this.estimateRouteCost(b.summary.distance,b.summary.duration,e)}else i[u][g]=this.calculateHaversineDistance(t[u],t[g]),r[u][g]=i[u][g]*1.2,a[u][g]=i[u][g]*.5}catch(h){console.warn(`Failed to calculate route from ${u} to ${g}:`,h),i[u][g]=this.calculateHaversineDistance(t[u],t[g]),r[u][g]=i[u][g]*1.2,a[u][g]=i[u][g]*.5}}const c={distances:i,durations:r,costs:a};return this.distanceCache.set(o,c),c}async solveTSP(t,e,n){const i=t.distances.length;if(i<=3)return{order:Array.from({length:i},(h,m)=>m),iterations:0,converged:!0};const r=this.getLockedPositions(n,e.lockedWaypoints),a=(h,m)=>{switch(e.objective){case"shortest":return t.distances[h][m];case"fastest":return t.durations[h][m];case"balanced":const b=t.durations[h][m]/Math.max(...t.durations.flat()),p=t.distances[h][m]/Math.max(...t.distances.flat());return .6*b+.4*p;default:return t.distances[h][m]}};let o=this.nearestNeighborTSP(t,a,r),l=this.calculateTourCost(o,a);const c=Math.min(1e3,i*i);let u=0,g=!0;for(;g&&u<c;){g=!1;for(let h=1;h<i-1;h++)if(!r.has(h))for(let m=h+1;m<i;m++){if(r.has(m))continue;const b=this.twoOptSwap(o,h,m),p=this.calculateTourCost(b,a);p<l&&(o=b,l=p,g=!0)}u++}return{order:o,iterations:u,converged:!g}}nearestNeighborTSP(t,e,n){const i=t.distances.length,r=new Set,a=[];let o=0;for(a.push(o),r.add(o);r.size<i;){let l=-1,c=1/0;for(let u=0;u<i;u++)if(!r.has(u)){const g=e(o,u);g<c&&(c=g,l=u)}l!==-1&&(a.push(l),r.add(l),o=l)}return a}twoOptSwap(t,e,n){const i=[...t];for(;e<n;)[i[e],i[n]]=[i[n],i[e]],e++,n--;return i}calculateTourCost(t,e){let n=0;for(let i=0;i<t.length-1;i++)n+=e(t[i],t[i+1]);return n}reorderWaypoints(t,e,n){if(n&&n.length>0){const i=[...t],r=new Set(n);let a=0;for(let o=0;o<i.length;o++)if(!r.has(i[o].id)){for(;a<e.length&&r.has(t[e[a]].id);)a++;a<e.length&&(i[o]=t[e[a]],a++)}return i}return e.map(i=>t[i])}async calculateRouteMetrics(t,e){if(t.length<2)return{distance:0,duration:0,cost:0};try{const i={waypoints:t,vehicleProfile:e,options:{alternatives:!1,steps:!1,geometries:"geojson"}},r=await this.routingService.calculateRoute(i);if(r.routes&&r.routes.length>0){const a=r.routes[0];return{distance:a.summary.distance/1e3,duration:a.summary.duration/60,cost:this.estimateRouteCost(a.summary.distance,a.summary.duration,e)}}}catch(i){console.warn("Failed to calculate route metrics:",i)}let n=0;for(let i=0;i<t.length-1;i++)n+=this.calculateHaversineDistance(t[i],t[i+1]);return{distance:n,duration:n*1.2,cost:n*.5}}calculateImprovements(t,e){const n=Math.max(0,t.distance-e.distance),i=Math.max(0,t.duration-e.duration),r=t.cost&&e.cost?Math.max(0,t.cost-e.cost):void 0,a=t.distance>0?n/t.distance*100:0;return{distanceSaved:n,timeSaved:i,costSaved:r,percentageImprovement:a}}calculateInsertionEfficiency(t,e,n){const a=Math.max(0,1-t/50),o=Math.max(0,1-e/60);switch(n.objective){case"shortest":return .8*a+.2*o;case"fastest":return .2*a+.8*o;case"balanced":return .5*a+.5*o;default:return .5*a+.5*o}}getLockedPositions(t,e){const n=new Set;return e&&t.forEach((i,r)=>{e.includes(i.id)&&n.add(r)}),n}generateMatrixCacheKey(t,e){const n=t.map(r=>`${r.lat.toFixed(4)},${r.lng.toFixed(4)}`).join("|"),i=e?`${e.type}-${e.height}-${e.weight}`:"default";return`${n}::${i}`}calculateHaversineDistance(t,e){const i=(e.lat-t.lat)*Math.PI/180,r=(e.lng-t.lng)*Math.PI/180,a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}estimateRouteCost(t,e,n){const i=t/1e3;let r=8;if(n)switch(n.type){case"motorhome":r=12+(n.weight||0)*.5;break;case"caravan":r=10+(n.weight||0)*.3;break;case"van":r=9;break;default:r=7;break}const a=1.5,o=i*.1;return i*r/100*a+o}clearCache(){this.distanceCache.clear()}getCacheStats(){return{size:this.distanceCache.size,keys:Array.from(this.distanceCache.keys())}}}const os=new ai,oi={consumptionType:"l_per_100km",consumption:12,fuelType:"diesel",tankCapacity:80},li={priceType:"default_european",currency:"EUR",lastUpdated:new Date},ci={showCostBreakdown:!0,showDailyEstimates:!0,showOptimizationSuggestions:!0,currency:"EUR",includeAccommodationCosts:!0,includeTollEstimates:!1},di=J()(Ce((s,t)=>({fuelConsumptionSettings:oi,setFuelConsumptionSettings:e=>{s({fuelConsumptionSettings:e}),s({lastCalculation:{}})},fuelPriceSettings:li,setFuelPriceSettings:e=>{s({fuelPriceSettings:e}),s({lastCalculation:{}})},preferences:ci,setPreferences:e=>{s({preferences:{...t().preferences,...e}})},autoUpdatePrices:!1,setAutoUpdatePrices:e=>{s({autoUpdatePrices:e})},lastCalculation:{},setLastCalculation:e=>{s({lastCalculation:e})}}),{name:"camper-planner-cost-settings",partialize:s=>({fuelConsumptionSettings:s.fuelConsumptionSettings,fuelPriceSettings:s.fuelPriceSettings,preferences:s.preferences,autoUpdatePrices:s.autoUpdatePrices})}));function ls(s,t){const e=s.map(i=>i.id).join("-"),n=t?`${t.type}-${t.length}-${t.weight}`:"default";return`${e}_${n}`}function cs(s,t=30){if(!s)return!1;const e=Date.now(),n=t*60*1e3;return e-s<n}const Oe="camper-planner-onboarding-complete",nt="1.0",ui=()=>{const[s,t]=C.useState(!1),[e,n]=C.useState(!0);C.useEffect(()=>{(()=>{try{const l=localStorage.getItem(Oe);if(!l){t(!0),n(!1);return}if(JSON.parse(l).version!==nt){t(!0),n(!1);return}t(!1),n(!1)}catch(l){console.error("Error checking onboarding status:",l),t(!0),n(!1)}})()},[]);const i=()=>{try{const o={isComplete:!0,version:nt,completedAt:new Date().toISOString()};localStorage.setItem(Oe,JSON.stringify(o)),t(!1)}catch(o){console.error("Error saving onboarding state:",o),t(!1)}};return{showOnboarding:s,isLoading:e,completeOnboarding:i,skipOnboarding:()=>{i()},resetOnboarding:()=>{try{localStorage.removeItem(Oe),t(!0)}catch(o){console.error("Error resetting onboarding:",o)}}}},q=class q{constructor(){I(this,"announceElement",null);this.createAnnounceElement()}static getInstance(){return q.instance||(q.instance=new q),q.instance}createAnnounceElement(){typeof window>"u"||(this.announceElement=document.createElement("div"),this.announceElement.setAttribute("aria-live","polite"),this.announceElement.setAttribute("aria-atomic","true"),this.announceElement.setAttribute("aria-hidden","false"),this.announceElement.className="sr-only",this.announceElement.style.position="absolute",this.announceElement.style.left="-10000px",this.announceElement.style.width="1px",this.announceElement.style.height="1px",this.announceElement.style.overflow="hidden",document.body.appendChild(this.announceElement))}announce(t,e="polite"){this.announceElement&&(this.announceElement.setAttribute("aria-live",e),this.announceElement.textContent="",setTimeout(()=>{this.announceElement&&(this.announceElement.textContent=t)},100),setTimeout(()=>{this.announceElement&&(this.announceElement.textContent="")},1e3))}};I(q,"instance");let Fe=q;const hi=()=>{const s=Fe.getInstance();return(t,e="polite")=>{s.announce(t,e)}},gi={handleEnterKey:s=>t=>{t.key==="Enter"&&(t.preventDefault(),s())},handleSpaceKey:s=>t=>{t.key===" "&&(t.preventDefault(),s())},handleEscapeKey:s=>t=>{t.key==="Escape"&&(t.preventDefault(),s())},handleArrowKeys:s=>t=>{switch(t.key){case"ArrowUp":s.up&&(t.preventDefault(),s.up());break;case"ArrowDown":s.down&&(t.preventDefault(),s.down());break;case"ArrowLeft":s.left&&(t.preventDefault(),s.left());break;case"ArrowRight":s.right&&(t.preventDefault(),s.right());break}},trapFocus:s=>{const t=s.current?.querySelectorAll('a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select');if(!t||t.length===0)return;const e=t[0],n=t[t.length-1];return i=>{i.key==="Tab"&&(i.shiftKey?document.activeElement===e&&(i.preventDefault(),n.focus()):document.activeElement===n&&(i.preventDefault(),e.focus()))}}},mi=s=>{const t=C.useRef(null);return C.useEffect(()=>{if(!s||!t.current)return;const e=gi.trapFocus(t);e&&document.addEventListener("keydown",e);const n=t.current.querySelectorAll('a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select');return n.length>0&&n[0].focus(),()=>{e&&document.removeEventListener("keydown",e)}},[s]),t},it={generateId:(s="aria")=>`${s}-${Math.random().toString(36).substr(2,9)}`,labelledBy:s=>({"aria-labelledby":s}),describedBy:s=>({"aria-describedby":s}),expanded:s=>({"aria-expanded":s}),selected:s=>({"aria-selected":s}),pressed:s=>({"aria-pressed":s}),checked:s=>({"aria-checked":s}),disabled:s=>({"aria-disabled":s}),hidden:s=>({"aria-hidden":s}),live:s=>({"aria-live":s}),role:s=>({role:s}),combobox:(s,t=!0)=>({role:"combobox","aria-expanded":s,"aria-haspopup":t?"listbox":!1}),listbox:(s=!1)=>({role:"listbox","aria-multiselectable":s}),option:(s=!1)=>({role:"option","aria-selected":s}),tab:(s=!1,t)=>({role:"tab","aria-selected":s,...t&&{"aria-controls":t}}),tabpanel:s=>({role:"tabpanel",...s&&{"aria-labelledby":s}}),dialog:(s,t)=>({role:"dialog","aria-modal":!0,...s&&{"aria-labelledby":s},...t&&{"aria-describedby":t}}),button:(s,t)=>({role:"button",...s!==void 0&&{"aria-pressed":s},...t!==void 0&&{"aria-expanded":t}})},ce=[{id:"fiat",name:"Fiat",country:"Italy",models:[{id:"ducato",name:"Ducato",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:2.25,width:2.05,length:4.96,weight:3.3,internalHeight:1.66,internalWidth:1.87,internalLength:2.67},{id:"l1h2",name:"L1H2 (Short/Medium)",height:2.52,width:2.05,length:4.96,weight:3.5,internalHeight:1.93,internalWidth:1.87,internalLength:2.67},{id:"l2h1",name:"L2H1 (Medium/Low)",height:2.25,width:2.05,length:5.41,weight:3.3,internalHeight:1.66,internalWidth:1.87,internalLength:3.12},{id:"l2h2",name:"L2H2 (Medium/Medium)",height:2.52,width:2.05,length:5.41,weight:3.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.12},{id:"l3h2",name:"L3H2 (Long/Medium)",height:2.52,width:2.05,length:6,weight:3.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.71},{id:"l3h3",name:"L3H3 (Long/High)",height:2.76,width:2.05,length:6,weight:4,internalHeight:2.17,internalWidth:1.87,internalLength:3.71},{id:"l4h2",name:"L4H2 (XLong/Medium)",height:2.52,width:2.05,length:6.36,weight:4,internalHeight:1.93,internalWidth:1.87,internalLength:4.07},{id:"l4h3",name:"L4H3 (XLong/High)",height:2.76,width:2.05,length:6.36,weight:4.25,internalHeight:2.17,internalWidth:1.87,internalLength:4.07}]}]},{id:"peugeot",name:"Peugeot",country:"France",models:[{id:"boxer",name:"Boxer",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:2.25,width:2.05,length:4.96,weight:3.3,internalHeight:1.66,internalWidth:1.87,internalLength:2.67},{id:"l1h2",name:"L1H2 (Short/Medium)",height:2.52,width:2.05,length:4.96,weight:3.5,internalHeight:1.93,internalWidth:1.87,internalLength:2.67},{id:"l2h2",name:"L2H2 (Medium/Medium)",height:2.52,width:2.05,length:5.41,weight:3.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.12},{id:"l3h2",name:"L3H2 (Long/Medium)",height:2.52,width:2.05,length:6,weight:3.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.71},{id:"l3h3",name:"L3H3 (Long/High)",height:2.76,width:2.05,length:6,weight:4,internalHeight:2.17,internalWidth:1.87,internalLength:3.71},{id:"l4h2",name:"L4H2 (XLong/Medium)",height:2.52,width:2.05,length:6.36,weight:4,internalHeight:1.93,internalWidth:1.87,internalLength:4.07},{id:"l4h3",name:"L4H3 (XLong/High)",height:2.76,width:2.05,length:6.36,weight:4.25,internalHeight:2.17,internalWidth:1.87,internalLength:4.07}]}]},{id:"citroen",name:"Citroën",country:"France",models:[{id:"relay",name:"Relay / Jumper",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:2.25,width:2.05,length:4.96,weight:3.3,internalHeight:1.66,internalWidth:1.87,internalLength:2.67},{id:"l1h2",name:"L1H2 (Short/Medium)",height:2.52,width:2.05,length:4.96,weight:3.5,internalHeight:1.93,internalWidth:1.87,internalLength:2.67},{id:"l2h2",name:"L2H2 (Medium/Medium)",height:2.52,width:2.05,length:5.41,weight:3.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.12},{id:"l3h2",name:"L3H2 (Long/Medium)",height:2.52,width:2.05,length:6,weight:3.5,internalHeight:1.93,internalWidth:1.87,internalLength:3.71},{id:"l3h3",name:"L3H3 (Long/High)",height:2.76,width:2.05,length:6,weight:4,internalHeight:2.17,internalWidth:1.87,internalLength:3.71},{id:"l4h3",name:"L4H3 (XLong/High)",height:2.76,width:2.05,length:6.36,weight:4.25,internalHeight:2.17,internalWidth:1.87,internalLength:4.07}]}]},{id:"mercedes",name:"Mercedes-Benz",country:"Germany",models:[{id:"sprinter",name:"Sprinter",variants:[{id:"a0-standard",name:"Compact Standard Roof",height:2.37,width:1.99,length:5.27,weight:3.5,internalHeight:1.56,internalWidth:1.79,internalLength:2.6},{id:"a0-high",name:"Compact High Roof",height:2.69,width:1.99,length:5.27,weight:3.5,internalHeight:1.88,internalWidth:1.79,internalLength:2.6},{id:"a1-standard",name:"Standard Roof (Medium)",height:2.37,width:1.99,length:5.93,weight:3.5,internalHeight:1.56,internalWidth:1.79,internalLength:3.27},{id:"a1-high",name:"High Roof (Medium)",height:2.69,width:1.99,length:5.93,weight:3.5,internalHeight:1.88,internalWidth:1.79,internalLength:3.27},{id:"a1-superhigh",name:"Super High Roof (Medium)",height:2.97,width:1.99,length:5.93,weight:3.5,internalHeight:2.14,internalWidth:1.79,internalLength:3.27},{id:"a2-high",name:"High Roof (Long)",height:2.69,width:1.99,length:6.97,weight:3.5,internalHeight:1.88,internalWidth:1.79,internalLength:4.31},{id:"a2-superhigh",name:"Super High Roof (Long)",height:2.97,width:1.99,length:6.97,weight:4,internalHeight:2.14,internalWidth:1.79,internalLength:4.31},{id:"a3-high",name:"High Roof (XLong)",height:2.69,width:1.99,length:7.37,weight:4,internalHeight:1.88,internalWidth:1.79,internalLength:4.71},{id:"a3-superhigh",name:"Super High Roof (XLong)",height:2.97,width:1.99,length:7.37,weight:4.5,internalHeight:2.14,internalWidth:1.79,internalLength:4.71}]}]},{id:"volkswagen",name:"Volkswagen",country:"Germany",models:[{id:"crafter",name:"Crafter",variants:[{id:"short-normal",name:"Short Normal Roof",height:2.35,width:2.04,length:5.99,weight:3.5,internalHeight:1.63,internalWidth:1.83,internalLength:3.45},{id:"short-high",name:"Short High Roof",height:2.59,width:2.04,length:5.99,weight:3.5,internalHeight:1.86,internalWidth:1.83,internalLength:3.45},{id:"medium-normal",name:"Medium Normal Roof",height:2.35,width:2.04,length:6.84,weight:3.5,internalHeight:1.63,internalWidth:1.83,internalLength:4.3},{id:"medium-high",name:"Medium High Roof",height:2.59,width:2.04,length:6.84,weight:3.5,internalHeight:1.86,internalWidth:1.83,internalLength:4.3},{id:"long-normal",name:"Long Normal Roof",height:2.35,width:2.04,length:7.39,weight:4,internalHeight:1.63,internalWidth:1.83,internalLength:4.85},{id:"long-high",name:"Long High Roof",height:2.59,width:2.04,length:7.39,weight:4,internalHeight:1.86,internalWidth:1.83,internalLength:4.85}]},{id:"transporter",name:"Transporter (T6.1)",variants:[{id:"swb",name:"Short Wheelbase",height:1.99,width:1.9,length:4.9,weight:2.8,internalHeight:1.41,internalWidth:1.7,internalLength:2.57},{id:"lwb",name:"Long Wheelbase",height:1.99,width:1.9,length:5.3,weight:3,internalHeight:1.41,internalWidth:1.7,internalLength:2.97},{id:"lwb-high",name:"Long High Roof",height:2.48,width:1.9,length:5.3,weight:3,internalHeight:1.94,internalWidth:1.7,internalLength:2.97}]},{id:"california",name:"California",variants:[{id:"beach",name:"Beach",height:1.99,width:1.9,length:4.9,weight:3},{id:"coast",name:"Coast",height:1.99,width:1.9,length:4.9,weight:3.1},{id:"ocean",name:"Ocean",height:1.99,width:1.9,length:4.9,weight:3.1}]}]},{id:"ford",name:"Ford",country:"USA/Europe",models:[{id:"transit",name:"Transit",variants:[{id:"l2h2",name:"L2H2 (Short/Medium)",height:2.35,width:2.06,length:5.53,weight:3.3,internalHeight:1.78,internalWidth:1.79,internalLength:2.9},{id:"l2h3",name:"L2H3 (Short/High)",height:2.55,width:2.06,length:5.53,weight:3.5,internalHeight:1.98,internalWidth:1.79,internalLength:2.9},{id:"l3h2",name:"L3H2 (Medium/Medium)",height:2.35,width:2.06,length:5.98,weight:3.5,internalHeight:1.78,internalWidth:1.79,internalLength:3.34},{id:"l3h3",name:"L3H3 (Medium/High)",height:2.55,width:2.06,length:5.98,weight:3.5,internalHeight:1.98,internalWidth:1.79,internalLength:3.34},{id:"l4h2",name:"L4H2 (Long/Medium)",height:2.35,width:2.06,length:6.7,weight:4,internalHeight:1.78,internalWidth:1.79,internalLength:4.22},{id:"l4h3",name:"L4H3 (Long/High)",height:2.55,width:2.06,length:6.7,weight:4,internalHeight:1.98,internalWidth:1.79,internalLength:4.22}]},{id:"transit-custom",name:"Transit Custom",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:1.98,width:1.99,length:4.97,weight:2.8,internalHeight:1.41,internalWidth:1.54,internalLength:2.56},{id:"l1h2",name:"L1H2 (Short/High)",height:2.34,width:1.99,length:4.97,weight:2.9,internalHeight:1.78,internalWidth:1.54,internalLength:2.56},{id:"l2h1",name:"L2H1 (Long/Low)",height:1.98,width:1.99,length:5.34,weight:3,internalHeight:1.41,internalWidth:1.54,internalLength:2.93},{id:"l2h2",name:"L2H2 (Long/High)",height:2.34,width:1.99,length:5.34,weight:3.1,internalHeight:1.78,internalWidth:1.54,internalLength:2.93}]},{id:"nugget",name:"Transit Custom Nugget",variants:[{id:"standard",name:"Nugget",height:2.09,width:1.99,length:4.97,weight:3.1},{id:"plus",name:"Nugget Plus",height:2.09,width:1.99,length:5.34,weight:3.2}]}]},{id:"renault",name:"Renault",country:"France",models:[{id:"master",name:"Master",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:2.31,width:2.07,length:5.08,weight:3.3,internalHeight:1.66,internalWidth:1.77,internalLength:2.58},{id:"l1h2",name:"L1H2 (Short/Medium)",height:2.5,width:2.07,length:5.08,weight:3.5,internalHeight:1.85,internalWidth:1.77,internalLength:2.58},{id:"l2h2",name:"L2H2 (Medium/Medium)",height:2.5,width:2.07,length:5.55,weight:3.5,internalHeight:1.85,internalWidth:1.77,internalLength:3.08},{id:"l3h2",name:"L3H2 (Long/Medium)",height:2.5,width:2.07,length:6.2,weight:3.5,internalHeight:1.85,internalWidth:1.77,internalLength:3.73},{id:"l3h3",name:"L3H3 (Long/High)",height:2.75,width:2.07,length:6.2,weight:4,internalHeight:2.1,internalWidth:1.77,internalLength:3.73},{id:"l4h2",name:"L4H2 (XLong/Medium)",height:2.5,width:2.07,length:6.85,weight:4,internalHeight:1.85,internalWidth:1.77,internalLength:4.38},{id:"l4h3",name:"L4H3 (XLong/High)",height:2.75,width:2.07,length:6.85,weight:4.5,internalHeight:2.1,internalWidth:1.77,internalLength:4.38}]},{id:"trafic",name:"Trafic",variants:[{id:"l1h1",name:"L1H1 (Short/Standard)",height:1.97,width:1.96,length:4.99,weight:2.7,internalHeight:1.39,internalWidth:1.66,internalLength:2.54},{id:"l1h2",name:"L1H2 (Short/High)",height:2.5,width:1.96,length:4.99,weight:2.8,internalHeight:1.9,internalWidth:1.66,internalLength:2.54},{id:"l2h1",name:"L2H1 (Long/Standard)",height:1.97,width:1.96,length:5.4,weight:2.9,internalHeight:1.39,internalWidth:1.66,internalLength:2.94},{id:"l2h2",name:"L2H2 (Long/High)",height:2.5,width:1.96,length:5.4,weight:3,internalHeight:1.9,internalWidth:1.66,internalLength:2.94}]}]},{id:"man",name:"MAN",country:"Germany",models:[{id:"tge",name:"TGE",variants:[{id:"short-normal",name:"Short Normal Roof",height:2.35,width:2.04,length:5.99,weight:3.5,internalHeight:1.63,internalWidth:1.83,internalLength:3.45},{id:"short-high",name:"Short High Roof",height:2.59,width:2.04,length:5.99,weight:3.5,internalHeight:1.86,internalWidth:1.83,internalLength:3.45},{id:"medium-high",name:"Medium High Roof",height:2.59,width:2.04,length:6.84,weight:3.5,internalHeight:1.86,internalWidth:1.83,internalLength:4.3},{id:"long-high",name:"Long High Roof",height:2.59,width:2.04,length:7.39,weight:4,internalHeight:1.86,internalWidth:1.83,internalLength:4.85}]}]},{id:"opel",name:"Opel / Vauxhall",country:"Germany/UK",models:[{id:"movano",name:"Movano",variants:[{id:"l1h1",name:"L1H1 (Short/Low)",height:2.31,width:2.07,length:5.08,weight:3.3,internalHeight:1.66,internalWidth:1.77,internalLength:2.58},{id:"l2h2",name:"L2H2 (Medium/Medium)",height:2.5,width:2.07,length:5.55,weight:3.5,internalHeight:1.85,internalWidth:1.77,internalLength:3.08},{id:"l3h2",name:"L3H2 (Long/Medium)",height:2.5,width:2.07,length:6.2,weight:3.5,internalHeight:1.85,internalWidth:1.77,internalLength:3.73},{id:"l3h3",name:"L3H3 (Long/High)",height:2.75,width:2.07,length:6.2,weight:4,internalHeight:2.1,internalWidth:1.77,internalLength:3.73},{id:"l4h3",name:"L4H3 (XLong/High)",height:2.75,width:2.07,length:6.85,weight:4.5,internalHeight:2.1,internalWidth:1.77,internalLength:4.38}]},{id:"vivaro",name:"Vivaro",variants:[{id:"l1",name:"L1 Standard",height:1.9,width:1.92,length:4.96,weight:2.7},{id:"l2",name:"L2 Long",height:1.9,width:1.92,length:5.31,weight:2.9}]}]},{id:"iveco",name:"Iveco",country:"Italy",models:[{id:"daily",name:"Daily",variants:[{id:"7.2",name:"7.2m³ (Short)",height:2.3,width:2.01,length:5,weight:3.5,internalHeight:1.55,internalWidth:1.8,internalLength:2.61},{id:"10.8",name:"10.8m³ (Medium)",height:2.55,width:2.01,length:5.55,weight:3.5,internalHeight:1.8,internalWidth:1.8,internalLength:3.16},{id:"12",name:"12m³ (Medium/High)",height:2.7,width:2.01,length:5.55,weight:3.5,internalHeight:1.95,internalWidth:1.8,internalLength:3.16},{id:"15.6",name:"15.6m³ (Long)",height:2.55,width:2.01,length:6.5,weight:4,internalHeight:1.8,internalWidth:1.8,internalLength:4.68},{id:"18",name:"18m³ (Long/High)",height:2.7,width:2.01,length:6.5,weight:4.5,internalHeight:1.95,internalWidth:1.8,internalLength:4.68}]}]}],ds=[{id:"vw-california",name:"VW California",make:"Volkswagen",base:"T6.1 California",height:1.99,width:1.9,length:4.9,weight:3},{id:"ford-nugget",name:"Ford Nugget",make:"Ford",base:"Transit Custom",height:2.09,width:1.99,length:4.97,weight:3.1},{id:"mercedes-marco-polo",name:"Mercedes Marco Polo",make:"Mercedes-Benz",base:"V-Class",height:2,width:1.93,length:5.14,weight:3.1},{id:"hymer-camper-van",name:"Hymer Camper Van",make:"Hymer",base:"Fiat Ducato L2H2",height:2.65,width:2.05,length:5.99,weight:3.5},{id:"adria-twin",name:"Adria Twin",make:"Adria",base:"Fiat Ducato L2H2",height:2.58,width:2.05,length:5.99,weight:3.3},{id:"possl-summit",name:"Pössl Summit",make:"Pössl",base:"Fiat Ducato L3H2",height:2.65,width:2.05,length:6.36,weight:3.5},{id:"hymer-b-class",name:"Hymer B-Class",make:"Hymer",base:"Mercedes Sprinter",height:2.95,width:2.3,length:7.49,weight:4.5},{id:"burstner-elegance",name:"Bürstner Elegance",make:"Bürstner",base:"Fiat Ducato",height:2.96,width:2.32,length:7.42,weight:4.4},{id:"carthago-c-tourer",name:"Carthago C-Tourer",make:"Carthago",base:"Fiat Ducato",height:2.9,width:2.3,length:6.99,weight:4},{id:"car-small-caravan",name:"Car + Small Caravan",make:"Various",base:"2-berth caravan",height:2.6,width:2.3,length:10,weight:3.5},{id:"car-medium-caravan",name:"Car + Medium Caravan",make:"Various",base:"4-berth caravan",height:2.65,width:2.3,length:12,weight:4},{id:"car-large-caravan",name:"Car + Large Caravan",make:"Various",base:"Twin-axle caravan",height:2.7,width:2.5,length:14,weight:5}];function pi(s){return ce.find(e=>e.id===s)?.models||[]}function fi(s,t){return ce.find(i=>i.id===s)?.models.find(i=>i.id===t)?.variants||[]}const bi=()=>d.jsxs("div",{className:"text-center space-y-6",children:[d.jsx("div",{className:"text-6xl",children:"🏕️"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to European Camper Trip Planner"}),d.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Plan safe routes that respect your vehicle's size. Find campsites, calculate costs, and export to GPS."})]}),d.jsx("div",{className:"text-sm text-gray-500",children:"Let's set up your vehicle and get you started with your first route."})]}),yi=({onVehicleSet:s,vehicleData:t,setVehicleData:e})=>{const n=t.makeId?pi(t.makeId):[],i=t.makeId&&t.modelId?fi(t.makeId,t.modelId):[],r=h=>{e({...t,makeId:h,modelId:"",variantId:"",vehicleName:""})},a=h=>{e({...t,modelId:h,variantId:"",vehicleName:""})},o=h=>{const m=i.find(b=>b.id===h);if(m){const b=ce.find(x=>x.id===t.makeId),p=b?.models.find(x=>x.id===t.modelId),f=`${b?.name} ${p?.name} ${m.name}`;e({...t,variantId:h,vehicleName:f,height:m.height,width:m.width,length:m.length,weight:m.weight})}},l=(h,m)=>{const b=parseFloat(m)||0;e({...t,[h]:b,vehicleName:t.vehicleName||"Custom Vehicle"})};C.useEffect(()=>{t.height>0&&t.width>0&&t.length>0&&t.weight>0&&s({id:"onboarding-vehicle",name:t.vehicleName||"Custom Vehicle",type:"motorhome",height:t.height,width:t.width,length:t.length,weight:t.weight,fuelType:"diesel",createdAt:new Date().toISOString()})},[t,s]);const c=ce.find(h=>h.id===t.makeId),u=c?.models.find(h=>h.id===t.modelId),g=i.find(h=>h.id===t.variantId);return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Tell Us About Your Vehicle"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"Select your base vehicle to auto-fill dimensions"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Make"}),d.jsxs("select",{value:t.makeId,onChange:h=>r(h.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[d.jsx("option",{value:"",children:"Select make..."}),ce.map(h=>d.jsxs("option",{value:h.id,children:[h.name," (",h.country,")"]},h.id))]})]}),t.makeId&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),d.jsxs("select",{value:t.modelId,onChange:h=>a(h.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[d.jsx("option",{value:"",children:"Select model..."}),n.map(h=>d.jsx("option",{value:h.id,children:h.name},h.id))]})]}),t.modelId&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size / Variant"}),d.jsxs("select",{value:t.variantId,onChange:h=>o(h.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[d.jsx("option",{value:"",children:"Select variant..."}),i.map(h=>d.jsxs("option",{value:h.id,children:[h.name," (",h.length,"m × ",h.height,"m)"]},h.id))]})]}),g&&d.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"text-sm text-blue-800",children:[d.jsxs("strong",{children:[c?.name," ",u?.name," ",g.name]}),d.jsxs("div",{className:"text-blue-600 mt-1",children:[g.length,"m L × ",g.width,"m W × ",g.height,"m H • ",g.weight,"t"]})]})}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-3 text-sm",children:g?"Fine-tune Dimensions":"Or Enter Dimensions Manually"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Height (m)"}),d.jsx("input",{type:"number",step:"0.1",min:"1",max:"5",value:t.height,onChange:h=>l("height",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Width (m)"}),d.jsx("input",{type:"number",step:"0.1",min:"1",max:"3.5",value:t.width,onChange:h=>l("width",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Length (m)"}),d.jsx("input",{type:"number",step:"0.1",min:"2",max:"20",value:t.length,onChange:h=>l("length",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Weight (tonnes)"}),d.jsx("input",{type:"number",step:"0.1",min:"0.5",max:"40",value:t.weight,onChange:h=>l("weight",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"💡 Include roof equipment (AC, solar panels, antenna) in height measurement."})]})]})},xi=({vehicleLength:s,fuelData:t,setFuelData:e})=>{const n=r=>r<5?9:r<6?11:r<7?13:r<8?15:17,i=[{id:"diesel",name:"Diesel",icon:"⛽"},{id:"petrol",name:"Petrol",icon:"⛽"},{id:"lpg",name:"LPG",icon:"🔥"},{id:"electricity",name:"Electric",icon:"⚡"}];return C.useEffect(()=>{t.consumption===0&&e({...t,consumption:n(s)})},[s]),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Fuel Settings"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"This helps us calculate your trip costs accurately."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fuel Type"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.map(r=>d.jsxs("button",{onClick:()=>e({...t,fuelType:r.id}),className:E("p-3 border-2 rounded-lg text-center transition-colors",t.fuelType===r.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"),children:[d.jsx("span",{className:"text-lg",children:r.icon}),d.jsx("span",{className:"ml-2 text-sm font-medium",children:r.name})]},r.id))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fuel Consumption"}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"number",step:"0.5",min:"3",max:"30",value:t.consumption,onChange:r=>e({...t,consumption:parseFloat(r.target.value)||0}),className:"flex-1 px-4 py-3 border border-gray-300 rounded-md text-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),d.jsx("span",{className:"text-gray-600 text-sm whitespace-nowrap",children:"L/100km"})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2 text-sm",children:"💡 Typical consumption values:"}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsx("li",{children:"• Motorhome: 12-18 L/100km"}),d.jsx("li",{children:"• Camper Van: 8-12 L/100km"}),d.jsx("li",{children:"• Car + Caravan: 10-14 L/100km"}),d.jsx("li",{children:"• Car + Tent: 6-10 L/100km"})]})]})]})},wi=({onWaypointsAdded:s})=>{const{waypoints:t}=We();return C.useEffect(()=>{t.length>=2&&s()},[t.length,s]),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"🗺️ Let's Plan Your First Route"}),d.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Right-click on the map above to add locations"})]}),d.jsxs("div",{className:"flex justify-center gap-6",children:[d.jsxs("div",{className:E("flex items-center gap-2 text-sm",t.length>=1?"text-green-600":"text-gray-400"),children:[d.jsx("span",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center text-xs font-bold",children:t.length>=1?"✓":"1"}),d.jsx("span",{children:"Add start point"})]}),d.jsxs("div",{className:E("flex items-center gap-2 text-sm",t.length>=2?"text-green-600":"text-gray-400"),children:[d.jsx("span",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center text-xs font-bold",children:t.length>=2?"✓":"2"}),d.jsx("span",{children:"Add destination"})]})]}),t.length===0&&d.jsx("p",{className:"text-center text-sm text-gray-500",children:"💡 Right-click anywhere on the map to add your first waypoint"}),t.length===1&&d.jsx("p",{className:"text-center text-sm text-gray-500",children:"👍 Great! Now right-click to add your destination"}),t.length>=2&&d.jsx("p",{className:"text-center text-sm text-green-600 font-medium",children:"✅ Perfect! Your route is ready. Click Continue to finish setup."})]})},vi=({vehicleData:s,fuelData:t})=>{const{waypoints:e,calculatedRoute:n}=We(),i=()=>s.vehicleName||"Custom Vehicle",r={diesel:"Diesel",petrol:"Petrol",lpg:"LPG",electricity:"Electric"},a=n?.routes?.[0]?.summary?.distance?n.routes[0].summary.distance/1e3:0,o=a/100*t.consumption,l=t.fuelType==="diesel"?1.65:1.75,c=o*l;return d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl mb-2",children:"✅"}),d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"You're All Set!"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"Here's a summary of your setup"})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Vehicle"}),d.jsxs("span",{className:"text-sm font-medium",children:[i()," (",s.height,"m × ",s.width,"m × ",s.length,"m)"]})]}),d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Weight"}),d.jsxs("span",{className:"text-sm font-medium",children:[s.weight," tonnes"]})]}),d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Fuel"}),d.jsxs("span",{className:"text-sm font-medium",children:[r[t.fuelType]," @ ",t.consumption," L/100km"]})]}),e.length>=2&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Route"}),d.jsxs("span",{className:"text-sm font-medium",children:[e.length," waypoints",a>0&&` • ${Math.round(a)} km`]})]}),c>0&&d.jsxs("div",{className:"flex justify-between items-center py-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Est. Fuel Cost"}),d.jsxs("span",{className:"text-sm font-medium text-green-600",children:["€",c.toFixed(0)]})]})]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2 text-sm",children:"Quick Reference"}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("li",{children:["🗺️ ",d.jsx("strong",{children:"Right-click map"})," → Add waypoints"]}),d.jsxs("li",{children:["🏕️ ",d.jsx("strong",{children:"Green button"})," → Find campsites"]}),d.jsxs("li",{children:["⚡ ",d.jsx("strong",{children:"Lightning bolt"})," → Optimize route order"]}),d.jsxs("li",{children:["💾 ",d.jsx("strong",{children:"Briefcase icon"})," → Save your trip"]})]})]})]})},st=({currentStep:s,totalSteps:t,steps:e})=>d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",s+1," of ",t]}),d.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round((s+1)/t*100),"% complete"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${(s+1)/t*100}%`}})}),d.jsx("div",{className:"flex justify-between mt-3",children:e.map((n,i)=>d.jsxs("div",{className:E("flex items-center space-x-1 text-xs",i<=s?"text-blue-600":"text-gray-400"),children:[d.jsx("div",{className:E("w-2 h-2 rounded-full",i<s?"bg-blue-600":i===s?"bg-blue-600 animate-pulse":"bg-gray-300")}),d.jsx("span",{className:"hidden sm:inline",children:n.title})]},n.id))})]}),Si=({onComplete:s,onSkip:t,className:e})=>{const n=hi(),[i,r]=C.useState(0),a=mi(!0),[o,l]=C.useState({makeId:"",modelId:"",variantId:"",vehicleName:"",height:2.5,width:2,length:5.5,weight:2.8}),[c,u]=C.useState({fuelType:"diesel",consumption:0}),[g,h]=C.useState(!1),{setProfile:m}=ei(),{setFuelConsumptionSettings:b}=di(),{waypoints:p}=We();C.useEffect(()=>{p.length>=2&&h(!0)},[p.length]),C.useEffect(()=>{c.consumption>0&&b({consumptionType:"l_per_100km",consumption:c.consumption,fuelType:c.fuelType,tankCapacity:80})},[c,b]);const f=C.useCallback(A=>{m(A)},[m]),x=C.useCallback(()=>{h(!0)},[]),y=[{id:"welcome",title:"Welcome",description:"Introduction",content:d.jsx(bi,{}),canSkip:!0,canGoBack:!1},{id:"vehicle",title:"Vehicle",description:"Set up your vehicle",content:d.jsx(yi,{onVehicleSet:f,vehicleData:o,setVehicleData:l}),canSkip:!1,canGoBack:!0,validation:()=>o.height>0&&o.width>0&&o.length>0&&o.weight>0},{id:"fuel",title:"Fuel",description:"Fuel settings",content:d.jsx(xi,{vehicleLength:o.length,fuelData:c,setFuelData:u}),canSkip:!0,canGoBack:!0,validation:()=>c.consumption>0},{id:"tutorial",title:"Try It",description:"Add waypoints",content:d.jsx(wi,{onWaypointsAdded:x}),canSkip:!0,canGoBack:!0,validation:()=>g||p.length>=2,isBottomPanel:!0},{id:"summary",title:"Done",description:"Summary",content:d.jsx(vi,{vehicleData:o,fuelData:c}),canSkip:!1,canGoBack:!0}],w=y[i],S=w.isBottomPanel,N=C.useCallback(()=>{w.validation&&!w.validation()||(w.onComplete&&w.onComplete(),i<y.length-1?(r(i+1),n(`Step ${i+2}: ${y[i+1].title}`,"polite")):s())},[i,w,y,s,n]),j=C.useCallback(()=>{i>0&&(r(i-1),n(`Step ${i}: ${y[i-1].title}`,"polite"))},[i,y,n]),O=C.useCallback(()=>{t()},[t]);return C.useEffect(()=>{const A=G=>{G.key==="Escape"&&O()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[O]),S?d.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-2xl rounded-t-2xl z-50 border-t border-gray-200",children:d.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[d.jsx("div",{className:"w-12 h-1 bg-gray-300 rounded-full mx-auto mb-3"}),d.jsx(st,{currentStep:i,totalSteps:y.length,steps:y}),w.content,d.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-gray-200",children:[d.jsxs("div",{className:"flex space-x-3",children:[w.canGoBack&&i>0&&d.jsx("button",{onClick:j,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors text-sm",children:"Back"}),w.canSkip&&d.jsx("button",{onClick:N,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Skip this step"})]}),d.jsx("button",{onClick:N,disabled:w.validation&&!w.validation(),className:E("px-6 py-2 rounded-md font-medium transition-colors text-sm",w.validation&&!w.validation()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:"Continue"})]})]})}):d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{ref:a,className:E("bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[85vh] flex flex-col",e),...it.dialog("onboarding-dialog","onboarding-description"),children:[d.jsx("div",{className:"p-5 border-b border-gray-200",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{id:"onboarding-dialog",className:"text-lg font-semibold text-gray-900",children:"Getting Started"}),d.jsx("p",{id:"onboarding-description",className:"text-sm text-gray-600",children:"Let's set up your trip planner"})]}),d.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600 transition-colors",...it.button(),"aria-label":"Close onboarding",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d.jsxs("div",{className:"p-5 flex-1 overflow-y-auto",children:[d.jsx(st,{currentStep:i,totalSteps:y.length,steps:y}),d.jsx("div",{children:w.content})]}),d.jsxs("div",{className:"p-5 border-t border-gray-200 flex justify-between items-center",children:[d.jsx("div",{children:w.canSkip&&i<y.length-1&&d.jsx("button",{onClick:O,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Skip setup"})}),d.jsxs("div",{className:"flex space-x-3",children:[w.canGoBack&&i>0&&d.jsx("button",{onClick:j,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Back"}),d.jsx("button",{onClick:N,disabled:w.validation&&!w.validation(),className:E("px-6 py-2 rounded-md font-medium transition-colors",w.validation&&!w.validation()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:i===y.length-1?"Start Planning":"Continue"})]})]})]})})},v=s=>typeof s=="string",le=()=>{let s,t;const e=new Promise((n,i)=>{s=n,t=i});return e.resolve=s,e.reject=t,e},rt=s=>s==null?"":""+s,Li=(s,t,e)=>{s.forEach(n=>{t[n]&&(e[n]=t[n])})},Ci=/###/g,at=s=>s&&s.indexOf("###")>-1?s.replace(Ci,"."):s,ot=s=>!s||v(s),de=(s,t,e)=>{const n=v(t)?t.split("."):t;let i=0;for(;i<n.length-1;){if(ot(s))return{};const r=at(n[i]);!s[r]&&e&&(s[r]=new e),Object.prototype.hasOwnProperty.call(s,r)?s=s[r]:s={},++i}return ot(s)?{}:{obj:s,k:at(n[i])}},lt=(s,t,e)=>{const{obj:n,k:i}=de(s,t,Object);if(n!==void 0||t.length===1){n[i]=e;return}let r=t[t.length-1],a=t.slice(0,t.length-1),o=de(s,a,Object);for(;o.obj===void 0&&a.length;)r=`${a[a.length-1]}.${r}`,a=a.slice(0,a.length-1),o=de(s,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${r}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${r}`]=e},Ni=(s,t,e,n)=>{const{obj:i,k:r}=de(s,t,Object);i[r]=i[r]||[],i[r].push(e)},we=(s,t)=>{const{obj:e,k:n}=de(s,t);if(e)return e[n]},ji=(s,t,e)=>{const n=we(s,e);return n!==void 0?n:we(t,e)},Et=(s,t,e)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in s?v(s[n])||s[n]instanceof String||v(t[n])||t[n]instanceof String?e&&(s[n]=t[n]):Et(s[n],t[n],e):s[n]=t[n]);return s},Z=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ki={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ri=s=>v(s)?s.replace(/[&<>"'\/]/g,t=>ki[t]):s;class Ei{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(e!==void 0)return e;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const Oi=[" ",",","?","!",";"],Ii=new Ei(20),Pi=(s,t,e)=>{t=t||"",e=e||"";const n=Oi.filter(a=>t.indexOf(a)<0&&e.indexOf(a)<0);if(n.length===0)return!0;const i=Ii.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let r=!i.test(s);if(!r){const a=s.indexOf(e);a>0&&!i.test(s.substring(0,a))&&(r=!0)}return r},ze=function(s,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!s)return;if(s[t])return s[t];const n=t.split(e);let i=s;for(let r=0;r<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=r;l<n.length;++l)if(l!==r&&(o+=e),o+=n[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;r+=l-r+1;break}i=a}return i},ve=s=>s&&s.replace("_","-"),Mi={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,t){console&&console[s]&&console[s].apply(console,t)}};class Se{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||Mi,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,n,i){return i&&!this.debug?null:(v(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new Se(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Se(this.logger,t)}}var F=new Se;class Ne{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(e)||0;this.observers[n].set(e,i+1)}),this}off(t,e){if(this.observers[t]){if(!e){delete this.observers[t];return}this.observers[t].delete(e)}}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(a=>{let[o,l]=a;for(let c=0;c<l;c++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let c=0;c<l;c++)o.apply(o,[t,...n])})}}class ct extends Ne{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,e],n&&(Array.isArray(n)?o.push(...n):v(n)&&r?o.push(...n.split(r)):o.push(n)));const l=we(this.data,o);return!l&&!e&&!n&&t.indexOf(".")>-1&&(t=o[0],e=o[1],n=o.slice(2).join(".")),l||!a||!v(n)?l:ze(this.data&&this.data[t]&&this.data[t][e],n,r)}addResource(t,e,n,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=[t,e];n&&(o=o.concat(a?n.split(a):n)),t.indexOf(".")>-1&&(o=t.split("."),i=e,e=o[1]),this.addNamespaces(e),lt(this.data,o,i),r.silent||this.emit("added",t,e,n,i)}addResources(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in n)(v(n[r])||Array.isArray(n[r]))&&this.addResource(t,e,r,n[r],{silent:!0});i.silent||this.emit("added",t,e,n)}addResourceBundle(t,e,n,i,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[t,e];t.indexOf(".")>-1&&(o=t.split("."),i=n,n=e,e=o[1]),this.addNamespaces(e);let l=we(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Et(l,n,r):l={...l,...n},lt(this.data,o,l),a.silent||this.emit("added",t,e,n)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return this.getResource(t,e)!==void 0}getResourceBundle(t,e){return e||(e=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,e)}:this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find(i=>e[i]&&Object.keys(e[i]).length>0)}toJSON(){return this.data}}var Ot={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,t,e,n,i){return s.forEach(r=>{this.processors[r]&&(t=this.processors[r].process(t,e,n,i))}),t}};const dt={};class Le extends Ne{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Li(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=F.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,e);return n&&n.res!==void 0}extractFromKey(t,e){let n=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator;let r=e.ns||this.options.defaultNS||[];const a=n&&t.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!Pi(t,n,i);if(a&&!o){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:v(r)?[r]:r};const c=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),t=c.join(i)}return{key:t,namespaces:v(r)?[r]:r}}translate(t,e,n){if(typeof e!="object"&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),typeof e=="object"&&(e={...e}),e||(e={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=e.returnDetails!==void 0?e.returnDetails:this.options.returnDetails,r=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(t[t.length-1],e),l=o[o.length-1],c=e.lng||this.language,u=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const S=e.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${S}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:`${l}${S}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:a}const g=this.resolve(t,e);let h=g&&g.res;const m=g&&g.usedKey||a,b=g&&g.exactUsedKey||a,p=Object.prototype.toString.apply(h),f=["[object Number]","[object Function]","[object RegExp]"],x=e.joinArrays!==void 0?e.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!v(h)&&typeof h!="boolean"&&typeof h!="number";if(y&&h&&w&&f.indexOf(p)<0&&!(v(x)&&Array.isArray(h))){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,{...e,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(g.res=S,g.usedParams=this.getUsedParamsDetails(e),g):S}if(r){const S=Array.isArray(h),N=S?[]:{},j=S?b:m;for(const O in h)if(Object.prototype.hasOwnProperty.call(h,O)){const A=`${j}${r}${O}`;N[O]=this.translate(A,{...e,joinArrays:!1,ns:o}),N[O]===A&&(N[O]=h[O])}h=N}}else if(y&&v(x)&&Array.isArray(h))h=h.join(x),h&&(h=this.extendTranslation(h,t,e,n));else{let S=!1,N=!1;const j=e.count!==void 0&&!v(e.count),O=Le.hasDefaultValue(e),A=j?this.pluralResolver.getSuffix(c,e.count,e):"",G=e.ordinal&&j?this.pluralResolver.getSuffix(c,e.count,{ordinal:!1}):"",Q=j&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),z=Q&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${A}`]||e[`defaultValue${G}`]||e.defaultValue;!this.isValidLookup(h)&&O&&(S=!0,h=z),this.isValidLookup(h)||(N=!0,h=a);const pe=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:h,_=O&&z!==h&&this.options.updateMissing;if(N||S||_){if(this.logger.log(_?"updateKey":"missingKey",c,l,a,_?z:h),r){const P=this.resolve(a,{...e,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let P=0;P<D.length;P++)V.push(D[P]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(e.lng||this.language):V.push(e.lng||this.language);const se=(P,T,B)=>{const $=O&&B!==h?B:pe;this.options.missingKeyHandler?this.options.missingKeyHandler(P,l,T,$,_,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(P,l,T,$,_,e),this.emit("missingKey",P,l,T,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?V.forEach(P=>{const T=this.pluralResolver.getSuffixes(P,e);Q&&e[`defaultValue${this.options.pluralSeparator}zero`]&&T.indexOf(`${this.options.pluralSeparator}zero`)<0&&T.push(`${this.options.pluralSeparator}zero`),T.forEach(B=>{se([P],a+B,e[`defaultValue${B}`]||z)})}):se(V,a,z))}h=this.extendTranslation(h,t,e,g,n),N&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${a}`),(N||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,S?h:void 0):h=this.options.parseMissingKeyHandler(h))}return i?(g.res=h,g.usedParams=this.getUsedParamsDetails(e),g):h}extendTranslation(t,e,n,i,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=v(t)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const h=t.match(this.interpolator.nestingRegexp);u=h&&h.length}let g=n.replace&&!v(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),t=this.interpolator.interpolate(t,g,n.lng||this.language||i.usedLng,n),c){const h=t.match(this.interpolator.nestingRegexp),m=h&&h.length;u<m&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var h=arguments.length,m=new Array(h),b=0;b<h;b++)m[b]=arguments[b];return r&&r[0]===m[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${e[0]}`),null):a.translate(...m,e)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=v(o)?[o]:o;return t!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(t=Ot.handle(l,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,r,a,o;return v(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,e),u=c.key;i=u;let g=c.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const h=e.count!==void 0&&!v(e.count),m=h&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),b=e.context!==void 0&&(v(e.context)||typeof e.context=="number")&&e.context!=="",p=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);g.forEach(f=>{this.isValidLookup(n)||(o=f,!dt[`${p[0]}-${f}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(dt[`${p[0]}-${f}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(x=>{if(this.isValidLookup(n))return;a=x;const y=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,u,x,f,e);else{let S;h&&(S=this.pluralResolver.getSuffix(x,e.count,e));const N=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(y.push(u+S),e.ordinal&&S.indexOf(j)===0&&y.push(u+S.replace(j,this.options.pluralSeparator)),m&&y.push(u+N)),b){const O=`${u}${this.options.contextSeparator}${e.context}`;y.push(O),h&&(y.push(O+S),e.ordinal&&S.indexOf(j)===0&&y.push(O+S.replace(j,this.options.pluralSeparator)),m&&y.push(O+N))}}let w;for(;w=y.pop();)this.isValidLookup(n)||(r=w,n=this.getResource(x,f,w,e))}))})}),{res:n,usedKey:i,exactUsedKey:r,usedLng:a,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,i):this.resourceStore.getResource(t,e,n,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!v(t.replace);let i=n?t.replace:t;if(n&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const r of e)delete i[r]}return i}static hasDefaultValue(t){const e="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&t[n]!==void 0)return!0;return!1}}const Ie=s=>s.charAt(0).toUpperCase()+s.slice(1);class ut{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=F.create("languageUtils")}getScriptPartFromCode(t){if(t=ve(t),!t||t.indexOf("-")<0)return null;const e=t.split("-");return e.length===2||(e.pop(),e[e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(t){if(t=ve(t),!t||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(v(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(t)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const e=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ie(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ie(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ie(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach(n=>{if(e)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(e=i)}),!e&&this.options.supportedLngs&&t.forEach(n=>{if(e)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return e=i;e=this.options.supportedLngs.find(r=>{if(r===i)return r;if(!(r.indexOf("-")<0&&i.indexOf("-")<0)&&(r.indexOf("-")>0&&i.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===i||r.indexOf(i)===0&&i.length>1))return r})}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if(typeof t=="function"&&(t=t(e)),v(t)&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}toResolveHierarchy(t,e){const n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],r=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return v(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(t))):v(t)&&r(this.formatLanguageCode(t)),n.forEach(a=>{i.indexOf(a)<0&&r(this.formatLanguageCode(a))}),i}}let Ti=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ai={1:s=>+(s>1),2:s=>+(s!=1),3:s=>0,4:s=>s%10==1&&s%100!=11?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,5:s=>s==0?0:s==1?1:s==2?2:s%100>=3&&s%100<=10?3:s%100>=11?4:5,6:s=>s==1?0:s>=2&&s<=4?1:2,7:s=>s==1?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,8:s=>s==1?0:s==2?1:s!=8&&s!=11?2:3,9:s=>+(s>=2),10:s=>s==1?0:s==2?1:s<7?2:s<11?3:4,11:s=>s==1||s==11?0:s==2||s==12?1:s>2&&s<20?2:3,12:s=>+(s%10!=1||s%100==11),13:s=>+(s!==0),14:s=>s==1?0:s==2?1:s==3?2:3,15:s=>s%10==1&&s%100!=11?0:s%10>=2&&(s%100<10||s%100>=20)?1:2,16:s=>s%10==1&&s%100!=11?0:s!==0?1:2,17:s=>s==1||s%10==1&&s%100!=11?0:1,18:s=>s==0?0:s==1?1:2,19:s=>s==1?0:s==0||s%100>1&&s%100<11?1:s%100>10&&s%100<20?2:3,20:s=>s==1?0:s==0||s%100>0&&s%100<20?1:2,21:s=>s%100==1?1:s%100==2?2:s%100==3||s%100==4?3:0,22:s=>s==1?0:s==2?1:(s<0||s>10)&&s%10==0?2:3};const $i=["v1","v2","v3"],Hi=["v4"],ht={zero:0,one:1,two:2,few:3,many:4,other:5},_i=()=>{const s={};return Ti.forEach(t=>{t.lngs.forEach(e=>{s[e]={numbers:t.nr,plurals:Ai[t.fc]}})}),s};class Fi{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=F.create("pluralResolver"),(!this.options.compatibilityJSON||Hi.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=_i(),this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=ve(t==="dev"?"en":t),i=e.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!t.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,e)}return this.pluralRulesCache[r]=a,a}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,e);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(i=>`${e}${i}`)}getSuffixes(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,e);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,r)=>ht[i]-ht[r]).map(i=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(t,i,e)):[]}getSuffix(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(e)}`:this.getSuffixRetroCompatible(i,e):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,e){const n=t.noAbs?t.plurals(e):t.plurals(Math.abs(e));let i=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!$i.includes(this.options.compatibilityJSON)}}const gt=function(s,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=ji(s,t,e);return!r&&i&&v(e)&&(r=ze(s,e,n),r===void 0&&(r=ze(t,e,n))),r},Pe=s=>s.replace(/\$/g,"$$$$");class zi{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=F.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(e=>e),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:e,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:g,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:b,nestingSuffixEscaped:p,nestingOptionsSeparator:f,maxReplaces:x,alwaysFormat:y}=t.interpolation;this.escape=e!==void 0?e:Ri,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=r?Z(r):a||"{{",this.suffix=o?Z(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?Z(h):m||Z("$t("),this.nestingSuffix=b?Z(b):p||Z(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=x||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(e,n)=>e&&e.source===n?(e.lastIndex=0,e):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,n,i){let r,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=m=>{if(m.indexOf(this.formatSeparator)<0){const x=gt(e,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,n,{...i,...e,interpolationkey:m}):x}const b=m.split(this.formatSeparator),p=b.shift().trim(),f=b.join(this.formatSeparator).trim();return this.format(gt(e,l,p,this.options.keySeparator,this.options.ignoreJSONStructure),f,n,{...i,...e,interpolationkey:p})};this.resetRegExp();const u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>Pe(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?Pe(this.escape(m)):Pe(m)}].forEach(m=>{for(o=0;r=m.regex.exec(t);){const b=r[1].trim();if(a=c(b),a===void 0)if(typeof u=="function"){const f=u(t,r,i);a=v(f)?f:""}else if(i&&Object.prototype.hasOwnProperty.call(i,b))a="";else if(g){a=r[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${t}`),a="";else!v(a)&&!this.useRawValueToEscape&&(a=rt(a));const p=m.safeValue(a);if(t=t.replace(r[0],p),g?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=r[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,r,a;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const g=l.split(new RegExp(`${u}[ ]*{`));let h=`{${g[1]}`;l=g[0],h=this.interpolate(h,a);const m=h.match(/'/g),b=h.match(/"/g);(m&&m.length%2===0&&!b||b.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),c&&(a={...c,...a})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,p),`${l}${u}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];a={...n},a=a.replace&&!v(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(g=>g.trim());i[1]=u.shift(),l=u,c=!0}if(r=e(o.call(this,i[1].trim(),a),a),r&&i[0]===t&&!v(r))return r;v(r)||(r=rt(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),r=""),c&&(r=l.reduce((u,g)=>this.format(u,g,n.lng,{...n,interpolationkey:i[1].trim()}),r.trim())),t=t.replace(i[0],r),this.regexp.lastIndex=0}return t}}const Di=s=>{let t=s.toLowerCase().trim();const e={};if(s.indexOf("(")>-1){const n=s.split("(");t=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);t==="currency"&&i.indexOf(":")<0?e.currency||(e.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?e.range||(e.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();e[u]||(e[u]=c),c==="false"&&(e[u]=!1),c==="true"&&(e[u]=!0),isNaN(c)||(e[u]=parseInt(c,10))}})}return{formatName:t,formatOptions:e}},ee=s=>{const t={};return(e,n,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const a=n+JSON.stringify(r);let o=t[a];return o||(o=s(ve(n),i),t[a]=o),o(e)}};class Wi{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=F.create("formatter"),this.options=t,this.formats={number:ee((e,n)=>{const i=new Intl.NumberFormat(e,{...n});return r=>i.format(r)}),currency:ee((e,n)=>{const i=new Intl.NumberFormat(e,{...n,style:"currency"});return r=>i.format(r)}),datetime:ee((e,n)=>{const i=new Intl.DateTimeFormat(e,{...n});return r=>i.format(r)}),relativetime:ee((e,n)=>{const i=new Intl.RelativeTimeFormat(e,{...n});return r=>i.format(r,n.range||"day")}),list:ee((e,n)=>{const i=new Intl.ListFormat(e,{...n});return r=>i.format(r)})},this.init(t)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=ee(e)}format(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=e.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(o=>o.indexOf(")")>-1)){const o=r.findIndex(l=>l.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,o)].join(this.formatSeparator)}return r.reduce((o,l)=>{const{formatName:c,formatOptions:u}=Di(l);if(this.formats[c]){let g=o;try{const h=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=h.locale||h.lng||i.locale||i.lng||n;g=this.formats[c](o,m,{...u,...i,...h})}catch(h){this.logger.warn(h)}return g}else this.logger.warn(`there was no format function for ${c}`);return o},t)}}const Vi=(s,t)=>{s.pending[t]!==void 0&&(delete s.pending[t],s.pendingCount--)};class Bi extends Ne{constructor(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=F.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(t,e,n,i){const r={},a={},o={},l={};return t.forEach(c=>{let u=!0;e.forEach(g=>{const h=`${c}|${g}`;!n.reload&&this.store.hasResourceBundle(c,g)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,u=!1,a[h]===void 0&&(a[h]=!0),r[h]===void 0&&(r[h]=!0),l[g]===void 0&&(l[g]=!0)))}),u||(o[c]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,e,n){const i=t.split("|"),r=i[0],a=i[1];e&&this.emit("failedLoading",r,a,e),!e&&n&&this.store.addResourceBundle(r,a,n,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2,e&&n&&(this.state[t]=0);const o={};this.queue.forEach(l=>{Ni(l.loaded,[r],a),Vi(l,t),e&&l.errors.push(e),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(g=>{o[c][g]===void 0&&(o[c][g]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:e,fcName:n,tried:i,wait:r,callback:a});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,e,n,i+1,r*2,a)},r);return}a(c,u)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const c=l(t,e);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(t,e,o)}prepareLoading(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();v(t)&&(t=this.languageUtils.toResolveHierarchy(t)),v(e)&&(e=[e]);const r=this.queueLoad(t,e,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(a=>{this.loadOne(a)})}load(t,e,n){this.prepareLoading(t,e,{},n)}reload(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}loadOne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${e}loading namespace ${r} for language ${i} failed`,a),!a&&o&&this.logger.log(`${e}loaded namespace ${r} for language ${i}`,o),this.loaded(t,a,o)})}saveMissing(t,e,n,i,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)){this.logger.warn(`did not save key "${n}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(t,e,n,i,l):u=c(t,e,n,i),u&&typeof u.then=="function"?u.then(g=>o(null,g)).catch(o):o(null,u)}catch(u){o(u)}else c(t,e,n,i,o,l)}!t||!t[0]||this.store.addResource(t[0],e,n,i)}}}const mt=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let t={};if(typeof s[1]=="object"&&(t=s[1]),v(s[1])&&(t.defaultValue=s[1]),v(s[2])&&(t.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const e=s[3]||s[2];Object.keys(e).forEach(n=>{t[n]=e[n]})}return t},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),pt=s=>(v(s.ns)&&(s.ns=[s.ns]),v(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),v(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs&&s.supportedLngs.indexOf("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),s),ye=()=>{},Ui=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(e=>{typeof s[e]=="function"&&(s[e]=s[e].bind(s))})};class he extends Ne{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=pt(t),this.services={},this.logger=F,this.modules={external:[]},Ui(this),e&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,e),this;setTimeout(()=>{this.init(t,e)},0)}}init(){var t=this;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),!e.defaultNS&&e.defaultNS!==!1&&e.ns&&(v(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=mt();this.options={...i,...this.options,...pt(e)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?F.init(r(this.modules.logger),this.options):F.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Wi);const g=new ut(this.options);this.store=new ct(this.options.resources,this.options);const h=this.services;h.logger=F,h.resourceStore=this.store,h.languageUtils=g,h.pluralResolver=new Fi(g,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=r(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new zi(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Bi(r(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var b=arguments.length,p=new Array(b>1?b-1:0),f=1;f<b;f++)p[f-1]=arguments[f];t.emit(m,...p)}),this.modules.languageDetector&&(h.languageDetector=r(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=r(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Le(this.services,this.options),this.translator.on("*",function(m){for(var b=arguments.length,p=new Array(b>1?b-1:0),f=1;f<b;f++)p[f-1]=arguments[f];t.emit(m,...p)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ye),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return t.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return t.store[u](...arguments),t}});const l=le(),c=()=>{const u=(g,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),n(g,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ye;const i=v(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const r=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(c=>{c!=="cimode"&&r.indexOf(c)<0&&r.push(c)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(r,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(t,e,n){const i=le();return typeof t=="function"&&(n=t,t=void 0),typeof e=="function"&&(n=e,e=void 0),t||(t=this.languages),e||(e=this.options.ns),n||(n=ye),this.services.backendConnector.reload(t,e,r=>{i.resolve(),n(r)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Ot.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let e=0;e<this.languages.length;e++){const n=this.languages[e];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,e){var n=this;this.isLanguageChangingTo=t;const i=le();this.emit("languageChanging",t);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),e&&e(l,function(){return n.t(...arguments)})},o=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=v(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||r(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{a(u,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),i}getFixedT(t,e,n){var i=this;const r=function(a,o){let l;if(typeof o!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),g=2;g<c;g++)u[g-2]=arguments[g];l=i.options.overloadTranslationOptionHandler([a,o].concat(u))}else l={...o};l.lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||r.keyPrefix);const h=i.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(a)?m=a.map(b=>`${l.keyPrefix}${h}${b}`):m=l.keyPrefix?`${l.keyPrefix}${h}${a}`:a,i.t(m,l)};return v(t)?r.lng=t:r.lngs=t,r.ns=e,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=e.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(e.precheck){const o=e.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,t)&&(!i||a(r,t)))}loadNamespaces(t,e){const n=le();return this.options.ns?(v(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),e&&e(i)}),n):(e&&e(),Promise.resolve())}loadLanguages(t,e){const n=le();v(t)&&(t=[t]);const i=this.options.preload||[],r=t.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return r.length?(this.options.preload=i.concat(r),this.loadResources(a=>{n.resolve(),e&&e(a)}),n):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new ut(mt());return e.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new he(t,e)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ye;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},r=new he(i);return(t.debug!==void 0||t.prefix!==void 0)&&(r.logger=r.logger.clone(t)),["store","services","language"].forEach(o=>{r[o]=this[o]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new ct(this.store.data,i),r.services.resourceStore=r.store),r.translator=new Le(r.services,i),r.translator.on("*",function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];r.emit(o,...c)}),r.init(i,e),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const M=he.createInstance();M.createInstance=he.createInstance;M.createInstance;M.dir;M.init;M.loadResources;M.reloadResources;M.use;M.changeLanguage;M.getFixedT;M.t;M.exists;M.setDefaultNamespace;M.hasLoadedNamespace;M.loadNamespaces;M.loadLanguages;const Ki={en:{translation:{nav:{planner:"Trip Planner",about:"About",help:"Help",settings:"Settings"},map:{title:"European Camper Trip Planner",addWaypoint:"Click map to add waypoint",removeWaypoint:"Remove waypoint",clearRoute:"Clear route",optimizeRoute:"Optimize route"},vehicle:{title:"Vehicle Profile",height:"Height (m)",width:"Width (m)",weight:"Weight (t)",length:"Length (m)",save:"Save Profile",clear:"Clear Profile"},route:{title:"Route Planning",distance:"Total Distance",duration:"Estimated Time",waypoints:"Waypoints",export:"Export Route",save:"Save Trip"},campsites:{title:"Campsites",campsite:"Campsite",aire:"Aire",parking:"Parking",filter:"Filter",showAll:"Show All"},actions:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",loading:"Loading...",error:"Error",success:"Success"},errors:{routeCalculation:"Failed to calculate route",vehicleValidation:"Invalid vehicle dimensions",networkError:"Network connection error",apiKeyMissing:"API key not configured"},success:{tripSaved:"Trip saved successfully",routeOptimized:"Route optimized",profileSaved:"Vehicle profile saved"}}}};M.use(tn).init({resources:Ki,lng:"en",fallbackLng:"en",supportedLngs:["en"],interpolation:{escapeValue:!1},defaultNS:"translation",debug:!1,react:{useSuspense:!1},saveMissing:!1,missingKeyHandler:(s,t,e)=>{}});const Gi=ge.lazy(()=>me(()=>import("./PlannerPage-BdIFSX8c.js"),__vite__mapDeps([0,1,2,3,4]))),qi=ge.lazy(()=>me(()=>import("./AboutPage-B7Umdm0Y.js"),__vite__mapDeps([5,1,3]))),Ji=ge.lazy(()=>me(()=>import("./HelpPage-Bn5nnnfJ.js"),__vite__mapDeps([6,1,3]))),Qi=ge.lazy(()=>me(()=>import("./SettingsPage-CpMWPZXB.js"),__vite__mapDeps([7,1,3]))),Yi=ge.lazy(()=>me(()=>import("./NotFoundPage-d9fZ-t9E.js"),__vite__mapDeps([8,1,3]))),Xi=()=>{const s=ft(),{isLoading:t,error:e,sidebarOpen:n}=_e(),{showOnboarding:i,completeOnboarding:r,skipOnboarding:a}=ui();return d.jsx(si,{children:d.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[i&&s.pathname==="/"&&d.jsx(Si,{onComplete:r,onSkip:a}),d.jsx(ii,{}),t&&d.jsx("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 z-50",children:d.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-3 flex items-center space-x-2",children:[d.jsx(tt,{size:"sm"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Loading..."})]})}),e&&d.jsx("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 z-50 max-w-md w-full mx-4",children:d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-red-800",children:e})}),d.jsx("div",{className:"ml-auto pl-3",children:d.jsxs("button",{className:"text-red-400 hover:text-red-600",onClick:()=>_e.getState().setError(null),children:[d.jsx("span",{className:"sr-only",children:"Dismiss"}),d.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})}),d.jsx(ri,{sidebar:void 0,sidebarOpen:n,children:d.jsx(C.Suspense,{fallback:d.jsx("div",{className:"h-full flex items-center justify-center",children:d.jsx(tt,{size:"lg"})}),children:d.jsx(Ht,{})})})]})})},Zi=At([{path:"/",element:d.jsx(Xi,{}),children:[{index:!0,element:d.jsx(Gi,{})},{path:"about",element:d.jsx(qi,{})},{path:"help",element:d.jsx(Ji,{})},{path:"settings",element:d.jsx(Qi,{})},{path:"*",element:d.jsx(Yi,{})}]}],{basename:"/camper-planner"});function es(){return d.jsx($t,{router:Zi})}Dt.createRoot(document.getElementById("root")).render(d.jsx(C.StrictMode,{children:d.jsx(es,{})}));export{ds as M,Ye as R,ce as V,rs as a,E as b,un as c,ei as d,di as e,_e as f,as as g,pi as h,fi as i,d as j,H as k,os as l,ls as m,cs as n,ti as o,xt as p,ui as q,ss as r,We as u};
